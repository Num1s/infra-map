(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var Ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fg={exports:{}},lf={},dg={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bc=Symbol.for("react.element"),$5=Symbol.for("react.portal"),H5=Symbol.for("react.fragment"),W5=Symbol.for("react.strict_mode"),Z5=Symbol.for("react.profiler"),V5=Symbol.for("react.provider"),G5=Symbol.for("react.context"),K5=Symbol.for("react.forward_ref"),J5=Symbol.for("react.suspense"),Y5=Symbol.for("react.memo"),X5=Symbol.for("react.lazy"),mm=Symbol.iterator;function Q5(e){return e===null||typeof e!="object"?null:(e=mm&&e[mm]||e["@@iterator"],typeof e=="function"?e:null)}var pg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mg=Object.assign,gg={};function hu(e,t,n){this.props=e,this.context=t,this.refs=gg,this.updater=n||pg}hu.prototype.isReactComponent={};hu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vg(){}vg.prototype=hu.prototype;function Yp(e,t,n){this.props=e,this.context=t,this.refs=gg,this.updater=n||pg}var Xp=Yp.prototype=new vg;Xp.constructor=Yp;mg(Xp,hu.prototype);Xp.isPureReactComponent=!0;var gm=Array.isArray,yg=Object.prototype.hasOwnProperty,Qp={current:null},_g={key:!0,ref:!0,__self:!0,__source:!0};function xg(e,t,n){var r,o={},s=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)yg.call(t,r)&&!_g.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var h=Array(c),p=0;p<c;p++)h[p]=arguments[p+2];o.children=h}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)o[r]===void 0&&(o[r]=c[r]);return{$$typeof:bc,type:e,key:s,ref:l,props:o,_owner:Qp.current}}function ey(e,t){return{$$typeof:bc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function e0(e){return typeof e=="object"&&e!==null&&e.$$typeof===bc}function ty(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vm=/\/+/g;function Kf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ty(""+e.key):t.toString(36)}function fh(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case bc:case $5:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+Kf(l,0):r,gm(o)?(n="",e!=null&&(n=e.replace(vm,"$&/")+"/"),fh(o,t,n,"",function(p){return p})):o!=null&&(e0(o)&&(o=ey(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(vm,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",gm(e))for(var c=0;c<e.length;c++){s=e[c];var h=r+Kf(s,c);l+=fh(s,t,n,h,o)}else if(h=Q5(e),typeof h=="function")for(e=h.call(e),c=0;!(s=e.next()).done;)s=s.value,h=r+Kf(s,c++),l+=fh(s,t,n,h,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Wc(e,t,n){if(e==null)return e;var r=[],o=0;return fh(e,r,"","",function(s){return t.call(n,s,o++)}),r}function ny(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ur={current:null},dh={transition:null},ry={ReactCurrentDispatcher:Ur,ReactCurrentBatchConfig:dh,ReactCurrentOwner:Qp};function wg(){throw Error("act(...) is not supported in production builds of React.")}Et.Children={map:Wc,forEach:function(e,t,n){Wc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wc(e,function(){t++}),t},toArray:function(e){return Wc(e,function(t){return t})||[]},only:function(e){if(!e0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Et.Component=hu;Et.Fragment=H5;Et.Profiler=Z5;Et.PureComponent=Yp;Et.StrictMode=W5;Et.Suspense=J5;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ry;Et.act=wg;Et.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=mg({},e.props),o=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=Qp.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(h in t)yg.call(t,h)&&!_g.hasOwnProperty(h)&&(r[h]=t[h]===void 0&&c!==void 0?c[h]:t[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){c=Array(h);for(var p=0;p<h;p++)c[p]=arguments[p+2];r.children=c}return{$$typeof:bc,type:e.type,key:o,ref:s,props:r,_owner:l}};Et.createContext=function(e){return e={$$typeof:G5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:V5,_context:e},e.Consumer=e};Et.createElement=xg;Et.createFactory=function(e){var t=xg.bind(null,e);return t.type=e,t};Et.createRef=function(){return{current:null}};Et.forwardRef=function(e){return{$$typeof:K5,render:e}};Et.isValidElement=e0;Et.lazy=function(e){return{$$typeof:X5,_payload:{_status:-1,_result:e},_init:ny}};Et.memo=function(e,t){return{$$typeof:Y5,type:e,compare:t===void 0?null:t}};Et.startTransition=function(e){var t=dh.transition;dh.transition={};try{e()}finally{dh.transition=t}};Et.unstable_act=wg;Et.useCallback=function(e,t){return Ur.current.useCallback(e,t)};Et.useContext=function(e){return Ur.current.useContext(e)};Et.useDebugValue=function(){};Et.useDeferredValue=function(e){return Ur.current.useDeferredValue(e)};Et.useEffect=function(e,t){return Ur.current.useEffect(e,t)};Et.useId=function(){return Ur.current.useId()};Et.useImperativeHandle=function(e,t,n){return Ur.current.useImperativeHandle(e,t,n)};Et.useInsertionEffect=function(e,t){return Ur.current.useInsertionEffect(e,t)};Et.useLayoutEffect=function(e,t){return Ur.current.useLayoutEffect(e,t)};Et.useMemo=function(e,t){return Ur.current.useMemo(e,t)};Et.useReducer=function(e,t,n){return Ur.current.useReducer(e,t,n)};Et.useRef=function(e){return Ur.current.useRef(e)};Et.useState=function(e){return Ur.current.useState(e)};Et.useSyncExternalStore=function(e,t,n){return Ur.current.useSyncExternalStore(e,t,n)};Et.useTransition=function(){return Ur.current.useTransition()};Et.version="18.3.1";dg.exports=Et;var st=dg.exports;const iy=Jp(st);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy=st,sy=Symbol.for("react.element"),ay=Symbol.for("react.fragment"),ly=Object.prototype.hasOwnProperty,uy=oy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cy={key:!0,ref:!0,__self:!0,__source:!0};function bg(e,t,n){var r,o={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)ly.call(t,r)&&!cy.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:sy,type:e,key:s,ref:l,props:o,_owner:uy.current}}lf.Fragment=ay;lf.jsx=bg;lf.jsxs=bg;fg.exports=lf;var y=fg.exports,Md={},Ng={exports:{}},Ni={},Sg={exports:{}},Lg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,ae){var se=K.length;K.push(ae);e:for(;0<se;){var _e=se-1>>>1,E=K[_e];if(0<o(E,ae))K[_e]=ae,K[se]=E,se=_e;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ae=K[0],se=K.pop();if(se!==ae){K[0]=se;e:for(var _e=0,E=K.length,T=E>>>1;_e<T;){var G=2*(_e+1)-1,ee=K[G],re=G+1,pe=K[re];if(0>o(ee,se))re<E&&0>o(pe,ee)?(K[_e]=pe,K[re]=se,_e=re):(K[_e]=ee,K[G]=se,_e=G);else if(re<E&&0>o(pe,se))K[_e]=pe,K[re]=se,_e=re;else break e}}return ae}function o(K,ae){var se=K.sortIndex-ae.sortIndex;return se!==0?se:K.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],p=[],v=1,x=null,b=3,w=!1,P=!1,C=!1,U=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(K){for(var ae=n(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=K)r(p),ae.sortIndex=ae.expirationTime,t(h,ae);else break;ae=n(p)}}function J(K){if(C=!1,F(K),!P)if(n(h)!==null)P=!0,fe(ie);else{var ae=n(p);ae!==null&&ve(J,ae.startTime-K)}}function ie(K,ae){P=!1,C&&(C=!1,S(j),j=-1),w=!0;var se=b;try{for(F(ae),x=n(h);x!==null&&(!(x.expirationTime>ae)||K&&!O());){var _e=x.callback;if(typeof _e=="function"){x.callback=null,b=x.priorityLevel;var E=_e(x.expirationTime<=ae);ae=e.unstable_now(),typeof E=="function"?x.callback=E:x===n(h)&&r(h),F(ae)}else r(h);x=n(h)}if(x!==null)var T=!0;else{var G=n(p);G!==null&&ve(J,G.startTime-ae),T=!1}return T}finally{x=null,b=se,w=!1}}var H=!1,Z=null,j=-1,z=5,V=-1;function O(){return!(e.unstable_now()-V<z)}function R(){if(Z!==null){var K=e.unstable_now();V=K;var ae=!0;try{ae=Z(!0,K)}finally{ae?ne():(H=!1,Z=null)}}else H=!1}var ne;if(typeof A=="function")ne=function(){A(R)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,we=Q.port2;Q.port1.onmessage=R,ne=function(){we.postMessage(null)}}else ne=function(){U(R,0)};function fe(K){Z=K,H||(H=!0,ne())}function ve(K,ae){j=U(function(){K(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){P||w||(P=!0,fe(ie))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var se=b;b=ae;try{return K()}finally{b=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var se=b;b=K;try{return ae()}finally{b=se}},e.unstable_scheduleCallback=function(K,ae,se){var _e=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?_e+se:_e):se=_e,K){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=se+E,K={id:v++,callback:ae,priorityLevel:K,startTime:se,expirationTime:E,sortIndex:-1},se>_e?(K.sortIndex=se,t(p,K),n(h)===null&&K===n(p)&&(C?(S(j),j=-1):C=!0,ve(J,se-_e))):(K.sortIndex=E,t(h,K),P||w||(P=!0,fe(ie))),K},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(K){var ae=b;return function(){var se=b;b=ae;try{return K.apply(this,arguments)}finally{b=se}}}})(Lg);Sg.exports=Lg;var hy=Sg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy=st,bi=hy;function He(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kg=new Set,ec={};function il(e,t){iu(e,t),iu(e+"Capture",t)}function iu(e,t){for(ec[e]=t,e=0;e<t.length;e++)kg.add(t[e])}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rd=Object.prototype.hasOwnProperty,dy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ym={},_m={};function py(e){return Rd.call(_m,e)?!0:Rd.call(ym,e)?!1:dy.test(e)?_m[e]=!0:(ym[e]=!0,!1)}function my(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gy(e,t,n,r){if(t===null||typeof t>"u"||my(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $r(e,t,n,r,o,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){hr[e]=new $r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];hr[t]=new $r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){hr[e]=new $r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){hr[e]=new $r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){hr[e]=new $r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){hr[e]=new $r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){hr[e]=new $r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){hr[e]=new $r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){hr[e]=new $r(e,5,!1,e.toLowerCase(),null,!1,!1)});var t0=/[\-:]([a-z])/g;function n0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(t0,n0);hr[t]=new $r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(t0,n0);hr[t]=new $r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(t0,n0);hr[t]=new $r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){hr[e]=new $r(e,1,!1,e.toLowerCase(),null,!1,!1)});hr.xlinkHref=new $r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){hr[e]=new $r(e,1,!1,e.toLowerCase(),null,!0,!0)});function r0(e,t,n,r){var o=hr.hasOwnProperty(t)?hr[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gy(t,n,o,r)&&(n=null),r||o===null?py(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xs=fy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zc=Symbol.for("react.element"),Il=Symbol.for("react.portal"),Ml=Symbol.for("react.fragment"),i0=Symbol.for("react.strict_mode"),Fd=Symbol.for("react.profiler"),Pg=Symbol.for("react.provider"),Ag=Symbol.for("react.context"),o0=Symbol.for("react.forward_ref"),zd=Symbol.for("react.suspense"),Dd=Symbol.for("react.suspense_list"),s0=Symbol.for("react.memo"),Ks=Symbol.for("react.lazy"),jg=Symbol.for("react.offscreen"),xm=Symbol.iterator;function ju(e){return e===null||typeof e!="object"?null:(e=xm&&e[xm]||e["@@iterator"],typeof e=="function"?e:null)}var xn=Object.assign,Jf;function Bu(e){if(Jf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Jf=t&&t[1]||""}return`
`+Jf+e}var Yf=!1;function Xf(e,t){if(!e||Yf)return"";Yf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),s=r.stack.split(`
`),l=o.length-1,c=s.length-1;1<=l&&0<=c&&o[l]!==s[c];)c--;for(;1<=l&&0<=c;l--,c--)if(o[l]!==s[c]){if(l!==1||c!==1)do if(l--,c--,0>c||o[l]!==s[c]){var h=`
`+o[l].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=l&&0<=c);break}}}finally{Yf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Bu(e):""}function vy(e){switch(e.tag){case 5:return Bu(e.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return e=Xf(e.type,!1),e;case 11:return e=Xf(e.type.render,!1),e;case 1:return e=Xf(e.type,!0),e;default:return""}}function Bd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ml:return"Fragment";case Il:return"Portal";case Fd:return"Profiler";case i0:return"StrictMode";case zd:return"Suspense";case Dd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ag:return(e.displayName||"Context")+".Consumer";case Pg:return(e._context.displayName||"Context")+".Provider";case o0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case s0:return t=e.displayName||null,t!==null?t:Bd(e.type)||"Memo";case Ks:t=e._payload,e=e._init;try{return Bd(e(t))}catch{}}return null}function yy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bd(t);case 8:return t===i0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ca(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _y(e){var t=Cg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vc(e){e._valueTracker||(e._valueTracker=_y(e))}function Eg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Cg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Oh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qd(e,t){var n=t.checked;return xn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ca(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tg(e,t){t=t.checked,t!=null&&r0(e,"checked",t,!1)}function Ud(e,t){Tg(e,t);var n=ca(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$d(e,t.type,n):t.hasOwnProperty("defaultValue")&&$d(e,t.type,ca(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $d(e,t,n){(t!=="number"||Oh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qu=Array.isArray;function Vl(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ca(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Hd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(He(91));return xn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(He(92));if(qu(n)){if(1<n.length)throw Error(He(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ca(n)}}function Og(e,t){var n=ca(t.value),r=ca(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ig(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ig(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gc,Mg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gc=Gc||document.createElement("div"),Gc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xy=["Webkit","ms","Moz","O"];Object.keys(Hu).forEach(function(e){xy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hu[t]=Hu[e]})});function Rg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hu.hasOwnProperty(e)&&Hu[e]?(""+t).trim():t+"px"}function Fg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Rg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var wy=xn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zd(e,t){if(t){if(wy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(He(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(He(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(He(61))}if(t.style!=null&&typeof t.style!="object")throw Error(He(62))}}function Vd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gd=null;function a0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kd=null,Gl=null,Kl=null;function Lm(e){if(e=Lc(e)){if(typeof Kd!="function")throw Error(He(280));var t=e.stateNode;t&&(t=df(t),Kd(e.stateNode,e.type,t))}}function zg(e){Gl?Kl?Kl.push(e):Kl=[e]:Gl=e}function Dg(){if(Gl){var e=Gl,t=Kl;if(Kl=Gl=null,Lm(e),t)for(e=0;e<t.length;e++)Lm(t[e])}}function Bg(e,t){return e(t)}function qg(){}var Qf=!1;function Ug(e,t,n){if(Qf)return e(t,n);Qf=!0;try{return Bg(e,t,n)}finally{Qf=!1,(Gl!==null||Kl!==null)&&(qg(),Dg())}}function nc(e,t){var n=e.stateNode;if(n===null)return null;var r=df(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(He(231,t,typeof n));return n}var Jd=!1;if(gs)try{var Cu={};Object.defineProperty(Cu,"passive",{get:function(){Jd=!0}}),window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{Jd=!1}function by(e,t,n,r,o,s,l,c,h){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(v){this.onError(v)}}var Wu=!1,Ih=null,Mh=!1,Yd=null,Ny={onError:function(e){Wu=!0,Ih=e}};function Sy(e,t,n,r,o,s,l,c,h){Wu=!1,Ih=null,by.apply(Ny,arguments)}function Ly(e,t,n,r,o,s,l,c,h){if(Sy.apply(this,arguments),Wu){if(Wu){var p=Ih;Wu=!1,Ih=null}else throw Error(He(198));Mh||(Mh=!0,Yd=p)}}function ol(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function km(e){if(ol(e)!==e)throw Error(He(188))}function ky(e){var t=e.alternate;if(!t){if(t=ol(e),t===null)throw Error(He(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return km(o),e;if(s===r)return km(o),t;s=s.sibling}throw Error(He(188))}if(n.return!==r.return)n=o,r=s;else{for(var l=!1,c=o.child;c;){if(c===n){l=!0,n=o,r=s;break}if(c===r){l=!0,r=o,n=s;break}c=c.sibling}if(!l){for(c=s.child;c;){if(c===n){l=!0,n=s,r=o;break}if(c===r){l=!0,r=s,n=o;break}c=c.sibling}if(!l)throw Error(He(189))}}if(n.alternate!==r)throw Error(He(190))}if(n.tag!==3)throw Error(He(188));return n.stateNode.current===n?e:t}function Hg(e){return e=ky(e),e!==null?Wg(e):null}function Wg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wg(e);if(t!==null)return t;e=e.sibling}return null}var Zg=bi.unstable_scheduleCallback,Pm=bi.unstable_cancelCallback,Py=bi.unstable_shouldYield,Ay=bi.unstable_requestPaint,En=bi.unstable_now,jy=bi.unstable_getCurrentPriorityLevel,l0=bi.unstable_ImmediatePriority,Vg=bi.unstable_UserBlockingPriority,Rh=bi.unstable_NormalPriority,Cy=bi.unstable_LowPriority,Gg=bi.unstable_IdlePriority,uf=null,Bo=null;function Ey(e){if(Bo&&typeof Bo.onCommitFiberRoot=="function")try{Bo.onCommitFiberRoot(uf,e,void 0,(e.current.flags&128)===128)}catch{}}var ho=Math.clz32?Math.clz32:Iy,Ty=Math.log,Oy=Math.LN2;function Iy(e){return e>>>=0,e===0?32:31-(Ty(e)/Oy|0)|0}var Kc=64,Jc=4194304;function Uu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var c=l&~o;c!==0?r=Uu(c):(s&=l,s!==0&&(r=Uu(s)))}else l=n&~o,l!==0?r=Uu(l):s!==0&&(r=Uu(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ho(t),o=1<<n,r|=e[n],t&=~o;return r}function My(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ry(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-ho(s),c=1<<l,h=o[l];h===-1?(!(c&n)||c&r)&&(o[l]=My(c,t)):h<=t&&(e.expiredLanes|=c),s&=~c}}function Xd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kg(){var e=Kc;return Kc<<=1,!(Kc&4194240)&&(Kc=64),e}function ed(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ho(t),e[t]=n}function Fy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-ho(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function u0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ho(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Xt=0;function Jg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yg,c0,Xg,Qg,e2,Qd=!1,Yc=[],na=null,ra=null,ia=null,rc=new Map,ic=new Map,Ys=[],zy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Am(e,t){switch(e){case"focusin":case"focusout":na=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":rc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(t.pointerId)}}function Eu(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Lc(t),t!==null&&c0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Dy(e,t,n,r,o){switch(t){case"focusin":return na=Eu(na,e,t,n,r,o),!0;case"dragenter":return ra=Eu(ra,e,t,n,r,o),!0;case"mouseover":return ia=Eu(ia,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return rc.set(s,Eu(rc.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,ic.set(s,Eu(ic.get(s)||null,e,t,n,r,o)),!0}return!1}function t2(e){var t=Ha(e.target);if(t!==null){var n=ol(t);if(n!==null){if(t=n.tag,t===13){if(t=$g(n),t!==null){e.blockedOn=t,e2(e.priority,function(){Xg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ph(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ep(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Gd=r,n.target.dispatchEvent(r),Gd=null}else return t=Lc(n),t!==null&&c0(t),e.blockedOn=n,!1;t.shift()}return!0}function jm(e,t,n){ph(e)&&n.delete(t)}function By(){Qd=!1,na!==null&&ph(na)&&(na=null),ra!==null&&ph(ra)&&(ra=null),ia!==null&&ph(ia)&&(ia=null),rc.forEach(jm),ic.forEach(jm)}function Tu(e,t){e.blockedOn===t&&(e.blockedOn=null,Qd||(Qd=!0,bi.unstable_scheduleCallback(bi.unstable_NormalPriority,By)))}function oc(e){function t(o){return Tu(o,e)}if(0<Yc.length){Tu(Yc[0],e);for(var n=1;n<Yc.length;n++){var r=Yc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(na!==null&&Tu(na,e),ra!==null&&Tu(ra,e),ia!==null&&Tu(ia,e),rc.forEach(t),ic.forEach(t),n=0;n<Ys.length;n++)r=Ys[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ys.length&&(n=Ys[0],n.blockedOn===null);)t2(n),n.blockedOn===null&&Ys.shift()}var Jl=xs.ReactCurrentBatchConfig,zh=!0;function qy(e,t,n,r){var o=Xt,s=Jl.transition;Jl.transition=null;try{Xt=1,h0(e,t,n,r)}finally{Xt=o,Jl.transition=s}}function Uy(e,t,n,r){var o=Xt,s=Jl.transition;Jl.transition=null;try{Xt=4,h0(e,t,n,r)}finally{Xt=o,Jl.transition=s}}function h0(e,t,n,r){if(zh){var o=ep(e,t,n,r);if(o===null)cd(e,t,r,Dh,n),Am(e,r);else if(Dy(o,e,t,n,r))r.stopPropagation();else if(Am(e,r),t&4&&-1<zy.indexOf(e)){for(;o!==null;){var s=Lc(o);if(s!==null&&Yg(s),s=ep(e,t,n,r),s===null&&cd(e,t,r,Dh,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else cd(e,t,r,null,n)}}var Dh=null;function ep(e,t,n,r){if(Dh=null,e=a0(r),e=Ha(e),e!==null)if(t=ol(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Dh=e,null}function n2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jy()){case l0:return 1;case Vg:return 4;case Rh:case Cy:return 16;case Gg:return 536870912;default:return 16}default:return 16}}var Qs=null,f0=null,mh=null;function r2(){if(mh)return mh;var e,t=f0,n=t.length,r,o="value"in Qs?Qs.value:Qs.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[s-r];r++);return mh=o.slice(e,1<r?1-r:void 0)}function gh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xc(){return!0}function Cm(){return!1}function Si(e){function t(n,r,o,s,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xc:Cm,this.isPropagationStopped=Cm,this}return xn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),t}var fu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d0=Si(fu),Sc=xn({},fu,{view:0,detail:0}),$y=Si(Sc),td,nd,Ou,cf=xn({},Sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ou&&(Ou&&e.type==="mousemove"?(td=e.screenX-Ou.screenX,nd=e.screenY-Ou.screenY):nd=td=0,Ou=e),td)},movementY:function(e){return"movementY"in e?e.movementY:nd}}),Em=Si(cf),Hy=xn({},cf,{dataTransfer:0}),Wy=Si(Hy),Zy=xn({},Sc,{relatedTarget:0}),rd=Si(Zy),Vy=xn({},fu,{animationName:0,elapsedTime:0,pseudoElement:0}),Gy=Si(Vy),Ky=xn({},fu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jy=Si(Ky),Yy=xn({},fu,{data:0}),Tm=Si(Yy),Xy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=e_[e])?!!t[e]:!1}function p0(){return t_}var n_=xn({},Sc,{key:function(e){if(e.key){var t=Xy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p0,charCode:function(e){return e.type==="keypress"?gh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),r_=Si(n_),i_=xn({},cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Om=Si(i_),o_=xn({},Sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p0}),s_=Si(o_),a_=xn({},fu,{propertyName:0,elapsedTime:0,pseudoElement:0}),l_=Si(a_),u_=xn({},cf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),c_=Si(u_),h_=[9,13,27,32],m0=gs&&"CompositionEvent"in window,Zu=null;gs&&"documentMode"in document&&(Zu=document.documentMode);var f_=gs&&"TextEvent"in window&&!Zu,i2=gs&&(!m0||Zu&&8<Zu&&11>=Zu),Im=" ",Mm=!1;function o2(e,t){switch(e){case"keyup":return h_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rl=!1;function d_(e,t){switch(e){case"compositionend":return s2(t);case"keypress":return t.which!==32?null:(Mm=!0,Im);case"textInput":return e=t.data,e===Im&&Mm?null:e;default:return null}}function p_(e,t){if(Rl)return e==="compositionend"||!m0&&o2(e,t)?(e=r2(),mh=f0=Qs=null,Rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return i2&&t.locale!=="ko"?null:t.data;default:return null}}var m_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!m_[e.type]:t==="textarea"}function a2(e,t,n,r){zg(r),t=Bh(t,"onChange"),0<t.length&&(n=new d0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vu=null,sc=null;function g_(e){y2(e,0)}function hf(e){var t=Dl(e);if(Eg(t))return e}function v_(e,t){if(e==="change")return t}var l2=!1;if(gs){var id;if(gs){var od="oninput"in document;if(!od){var Fm=document.createElement("div");Fm.setAttribute("oninput","return;"),od=typeof Fm.oninput=="function"}id=od}else id=!1;l2=id&&(!document.documentMode||9<document.documentMode)}function zm(){Vu&&(Vu.detachEvent("onpropertychange",u2),sc=Vu=null)}function u2(e){if(e.propertyName==="value"&&hf(sc)){var t=[];a2(t,sc,e,a0(e)),Ug(g_,t)}}function y_(e,t,n){e==="focusin"?(zm(),Vu=t,sc=n,Vu.attachEvent("onpropertychange",u2)):e==="focusout"&&zm()}function __(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hf(sc)}function x_(e,t){if(e==="click")return hf(t)}function w_(e,t){if(e==="input"||e==="change")return hf(t)}function b_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var po=typeof Object.is=="function"?Object.is:b_;function ac(e,t){if(po(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Rd.call(t,o)||!po(e[o],t[o]))return!1}return!0}function Dm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bm(e,t){var n=Dm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dm(n)}}function c2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?c2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function h2(){for(var e=window,t=Oh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Oh(e.document)}return t}function g0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function N_(e){var t=h2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&c2(n.ownerDocument.documentElement,n)){if(r!==null&&g0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Bm(n,s);var l=Bm(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var S_=gs&&"documentMode"in document&&11>=document.documentMode,Fl=null,tp=null,Gu=null,np=!1;function qm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;np||Fl==null||Fl!==Oh(r)||(r=Fl,"selectionStart"in r&&g0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gu&&ac(Gu,r)||(Gu=r,r=Bh(tp,"onSelect"),0<r.length&&(t=new d0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fl)))}function Qc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zl={animationend:Qc("Animation","AnimationEnd"),animationiteration:Qc("Animation","AnimationIteration"),animationstart:Qc("Animation","AnimationStart"),transitionend:Qc("Transition","TransitionEnd")},sd={},f2={};gs&&(f2=document.createElement("div").style,"AnimationEvent"in window||(delete zl.animationend.animation,delete zl.animationiteration.animation,delete zl.animationstart.animation),"TransitionEvent"in window||delete zl.transitionend.transition);function ff(e){if(sd[e])return sd[e];if(!zl[e])return e;var t=zl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in f2)return sd[e]=t[n];return e}var d2=ff("animationend"),p2=ff("animationiteration"),m2=ff("animationstart"),g2=ff("transitionend"),v2=new Map,Um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(e,t){v2.set(e,t),il(t,[e])}for(var ad=0;ad<Um.length;ad++){var ld=Um[ad],L_=ld.toLowerCase(),k_=ld[0].toUpperCase()+ld.slice(1);pa(L_,"on"+k_)}pa(d2,"onAnimationEnd");pa(p2,"onAnimationIteration");pa(m2,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(g2,"onTransitionEnd");iu("onMouseEnter",["mouseout","mouseover"]);iu("onMouseLeave",["mouseout","mouseover"]);iu("onPointerEnter",["pointerout","pointerover"]);iu("onPointerLeave",["pointerout","pointerover"]);il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));il("onBeforeInput",["compositionend","keypress","textInput","paste"]);il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P_=new Set("cancel close invalid load scroll toggle".split(" ").concat($u));function $m(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ly(r,t,void 0,e),e.currentTarget=null}function y2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var c=r[l],h=c.instance,p=c.currentTarget;if(c=c.listener,h!==s&&o.isPropagationStopped())break e;$m(o,c,p),s=h}else for(l=0;l<r.length;l++){if(c=r[l],h=c.instance,p=c.currentTarget,c=c.listener,h!==s&&o.isPropagationStopped())break e;$m(o,c,p),s=h}}}if(Mh)throw e=Yd,Mh=!1,Yd=null,e}function un(e,t){var n=t[ap];n===void 0&&(n=t[ap]=new Set);var r=e+"__bubble";n.has(r)||(_2(t,e,2,!1),n.add(r))}function ud(e,t,n){var r=0;t&&(r|=4),_2(n,e,r,t)}var eh="_reactListening"+Math.random().toString(36).slice(2);function lc(e){if(!e[eh]){e[eh]=!0,kg.forEach(function(n){n!=="selectionchange"&&(P_.has(n)||ud(n,!1,e),ud(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[eh]||(t[eh]=!0,ud("selectionchange",!1,t))}}function _2(e,t,n,r){switch(n2(t)){case 1:var o=qy;break;case 4:o=Uy;break;default:o=h0}n=o.bind(null,t,n,e),o=void 0,!Jd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function cd(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var c=r.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;l=l.return}for(;c!==null;){if(l=Ha(c),l===null)return;if(h=l.tag,h===5||h===6){r=s=l;continue e}c=c.parentNode}}r=r.return}Ug(function(){var p=s,v=a0(n),x=[];e:{var b=v2.get(e);if(b!==void 0){var w=d0,P=e;switch(e){case"keypress":if(gh(n)===0)break e;case"keydown":case"keyup":w=r_;break;case"focusin":P="focus",w=rd;break;case"focusout":P="blur",w=rd;break;case"beforeblur":case"afterblur":w=rd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Wy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=s_;break;case d2:case p2:case m2:w=Gy;break;case g2:w=l_;break;case"scroll":w=$y;break;case"wheel":w=c_;break;case"copy":case"cut":case"paste":w=Jy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Om}var C=(t&4)!==0,U=!C&&e==="scroll",S=C?b!==null?b+"Capture":null:b;C=[];for(var A=p,F;A!==null;){F=A;var J=F.stateNode;if(F.tag===5&&J!==null&&(F=J,S!==null&&(J=nc(A,S),J!=null&&C.push(uc(A,J,F)))),U)break;A=A.return}0<C.length&&(b=new w(b,P,null,n,v),x.push({event:b,listeners:C}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",b&&n!==Gd&&(P=n.relatedTarget||n.fromElement)&&(Ha(P)||P[vs]))break e;if((w||b)&&(b=v.window===v?v:(b=v.ownerDocument)?b.defaultView||b.parentWindow:window,w?(P=n.relatedTarget||n.toElement,w=p,P=P?Ha(P):null,P!==null&&(U=ol(P),P!==U||P.tag!==5&&P.tag!==6)&&(P=null)):(w=null,P=p),w!==P)){if(C=Em,J="onMouseLeave",S="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(C=Om,J="onPointerLeave",S="onPointerEnter",A="pointer"),U=w==null?b:Dl(w),F=P==null?b:Dl(P),b=new C(J,A+"leave",w,n,v),b.target=U,b.relatedTarget=F,J=null,Ha(v)===p&&(C=new C(S,A+"enter",P,n,v),C.target=F,C.relatedTarget=U,J=C),U=J,w&&P)t:{for(C=w,S=P,A=0,F=C;F;F=jl(F))A++;for(F=0,J=S;J;J=jl(J))F++;for(;0<A-F;)C=jl(C),A--;for(;0<F-A;)S=jl(S),F--;for(;A--;){if(C===S||S!==null&&C===S.alternate)break t;C=jl(C),S=jl(S)}C=null}else C=null;w!==null&&Hm(x,b,w,C,!1),P!==null&&U!==null&&Hm(x,U,P,C,!0)}}e:{if(b=p?Dl(p):window,w=b.nodeName&&b.nodeName.toLowerCase(),w==="select"||w==="input"&&b.type==="file")var ie=v_;else if(Rm(b))if(l2)ie=w_;else{ie=__;var H=y_}else(w=b.nodeName)&&w.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(ie=x_);if(ie&&(ie=ie(e,p))){a2(x,ie,n,v);break e}H&&H(e,b,p),e==="focusout"&&(H=b._wrapperState)&&H.controlled&&b.type==="number"&&$d(b,"number",b.value)}switch(H=p?Dl(p):window,e){case"focusin":(Rm(H)||H.contentEditable==="true")&&(Fl=H,tp=p,Gu=null);break;case"focusout":Gu=tp=Fl=null;break;case"mousedown":np=!0;break;case"contextmenu":case"mouseup":case"dragend":np=!1,qm(x,n,v);break;case"selectionchange":if(S_)break;case"keydown":case"keyup":qm(x,n,v)}var Z;if(m0)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Rl?o2(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(i2&&n.locale!=="ko"&&(Rl||j!=="onCompositionStart"?j==="onCompositionEnd"&&Rl&&(Z=r2()):(Qs=v,f0="value"in Qs?Qs.value:Qs.textContent,Rl=!0)),H=Bh(p,j),0<H.length&&(j=new Tm(j,e,null,n,v),x.push({event:j,listeners:H}),Z?j.data=Z:(Z=s2(n),Z!==null&&(j.data=Z)))),(Z=f_?d_(e,n):p_(e,n))&&(p=Bh(p,"onBeforeInput"),0<p.length&&(v=new Tm("onBeforeInput","beforeinput",null,n,v),x.push({event:v,listeners:p}),v.data=Z))}y2(x,t)})}function uc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bh(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=nc(e,n),s!=null&&r.unshift(uc(e,s,o)),s=nc(e,t),s!=null&&r.push(uc(e,s,o))),e=e.return}return r}function jl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hm(e,t,n,r,o){for(var s=t._reactName,l=[];n!==null&&n!==r;){var c=n,h=c.alternate,p=c.stateNode;if(h!==null&&h===r)break;c.tag===5&&p!==null&&(c=p,o?(h=nc(n,s),h!=null&&l.unshift(uc(n,h,c))):o||(h=nc(n,s),h!=null&&l.push(uc(n,h,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var A_=/\r\n?/g,j_=/\u0000|\uFFFD/g;function Wm(e){return(typeof e=="string"?e:""+e).replace(A_,`
`).replace(j_,"")}function th(e,t,n){if(t=Wm(t),Wm(e)!==t&&n)throw Error(He(425))}function qh(){}var rp=null,ip=null;function op(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sp=typeof setTimeout=="function"?setTimeout:void 0,C_=typeof clearTimeout=="function"?clearTimeout:void 0,Zm=typeof Promise=="function"?Promise:void 0,E_=typeof queueMicrotask=="function"?queueMicrotask:typeof Zm<"u"?function(e){return Zm.resolve(null).then(e).catch(T_)}:sp;function T_(e){setTimeout(function(){throw e})}function hd(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),oc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);oc(t)}function oa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var du=Math.random().toString(36).slice(2),zo="__reactFiber$"+du,cc="__reactProps$"+du,vs="__reactContainer$"+du,ap="__reactEvents$"+du,O_="__reactListeners$"+du,I_="__reactHandles$"+du;function Ha(e){var t=e[zo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vs]||n[zo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vm(e);e!==null;){if(n=e[zo])return n;e=Vm(e)}return t}e=n,n=e.parentNode}return null}function Lc(e){return e=e[zo]||e[vs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(He(33))}function df(e){return e[cc]||null}var lp=[],Bl=-1;function ma(e){return{current:e}}function hn(e){0>Bl||(e.current=lp[Bl],lp[Bl]=null,Bl--)}function sn(e,t){Bl++,lp[Bl]=e.current,e.current=t}var ha={},Ar=ma(ha),ii=ma(!1),Xa=ha;function ou(e,t){var n=e.type.contextTypes;if(!n)return ha;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function oi(e){return e=e.childContextTypes,e!=null}function Uh(){hn(ii),hn(Ar)}function Gm(e,t,n){if(Ar.current!==ha)throw Error(He(168));sn(Ar,t),sn(ii,n)}function x2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(He(108,yy(e)||"Unknown",o));return xn({},n,r)}function $h(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ha,Xa=Ar.current,sn(Ar,e),sn(ii,ii.current),!0}function Km(e,t,n){var r=e.stateNode;if(!r)throw Error(He(169));n?(e=x2(e,t,Xa),r.__reactInternalMemoizedMergedChildContext=e,hn(ii),hn(Ar),sn(Ar,e)):hn(ii),sn(ii,n)}var fs=null,pf=!1,fd=!1;function w2(e){fs===null?fs=[e]:fs.push(e)}function M_(e){pf=!0,w2(e)}function ga(){if(!fd&&fs!==null){fd=!0;var e=0,t=Xt;try{var n=fs;for(Xt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fs=null,pf=!1}catch(o){throw fs!==null&&(fs=fs.slice(e+1)),Zg(l0,ga),o}finally{Xt=t,fd=!1}}return null}var ql=[],Ul=0,Hh=null,Wh=0,Bi=[],qi=0,Qa=null,ds=1,ps="";function za(e,t){ql[Ul++]=Wh,ql[Ul++]=Hh,Hh=e,Wh=t}function b2(e,t,n){Bi[qi++]=ds,Bi[qi++]=ps,Bi[qi++]=Qa,Qa=e;var r=ds;e=ps;var o=32-ho(r)-1;r&=~(1<<o),n+=1;var s=32-ho(t)+o;if(30<s){var l=o-o%5;s=(r&(1<<l)-1).toString(32),r>>=l,o-=l,ds=1<<32-ho(t)+o|n<<o|r,ps=s+e}else ds=1<<s|n<<o|r,ps=e}function v0(e){e.return!==null&&(za(e,1),b2(e,1,0))}function y0(e){for(;e===Hh;)Hh=ql[--Ul],ql[Ul]=null,Wh=ql[--Ul],ql[Ul]=null;for(;e===Qa;)Qa=Bi[--qi],Bi[qi]=null,ps=Bi[--qi],Bi[qi]=null,ds=Bi[--qi],Bi[qi]=null}var wi=null,_i=null,pn=!1,co=null;function N2(e,t){var n=Ui(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wi=e,_i=oa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wi=e,_i=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qa!==null?{id:ds,overflow:ps}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ui(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wi=e,_i=null,!0):!1;default:return!1}}function up(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cp(e){if(pn){var t=_i;if(t){var n=t;if(!Jm(e,t)){if(up(e))throw Error(He(418));t=oa(n.nextSibling);var r=wi;t&&Jm(e,t)?N2(r,n):(e.flags=e.flags&-4097|2,pn=!1,wi=e)}}else{if(up(e))throw Error(He(418));e.flags=e.flags&-4097|2,pn=!1,wi=e}}}function Ym(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wi=e}function nh(e){if(e!==wi)return!1;if(!pn)return Ym(e),pn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!op(e.type,e.memoizedProps)),t&&(t=_i)){if(up(e))throw S2(),Error(He(418));for(;t;)N2(e,t),t=oa(t.nextSibling)}if(Ym(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(He(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_i=oa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_i=null}}else _i=wi?oa(e.stateNode.nextSibling):null;return!0}function S2(){for(var e=_i;e;)e=oa(e.nextSibling)}function su(){_i=wi=null,pn=!1}function _0(e){co===null?co=[e]:co.push(e)}var R_=xs.ReactCurrentBatchConfig;function Iu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(He(309));var r=n.stateNode}if(!r)throw Error(He(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var c=o.refs;l===null?delete c[s]:c[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(He(284));if(!n._owner)throw Error(He(290,e))}return e}function rh(e,t){throw e=Object.prototype.toString.call(t),Error(He(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xm(e){var t=e._init;return t(e._payload)}function L2(e){function t(S,A){if(e){var F=S.deletions;F===null?(S.deletions=[A],S.flags|=16):F.push(A)}}function n(S,A){if(!e)return null;for(;A!==null;)t(S,A),A=A.sibling;return null}function r(S,A){for(S=new Map;A!==null;)A.key!==null?S.set(A.key,A):S.set(A.index,A),A=A.sibling;return S}function o(S,A){return S=ua(S,A),S.index=0,S.sibling=null,S}function s(S,A,F){return S.index=F,e?(F=S.alternate,F!==null?(F=F.index,F<A?(S.flags|=2,A):F):(S.flags|=2,A)):(S.flags|=1048576,A)}function l(S){return e&&S.alternate===null&&(S.flags|=2),S}function c(S,A,F,J){return A===null||A.tag!==6?(A=_d(F,S.mode,J),A.return=S,A):(A=o(A,F),A.return=S,A)}function h(S,A,F,J){var ie=F.type;return ie===Ml?v(S,A,F.props.children,J,F.key):A!==null&&(A.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Ks&&Xm(ie)===A.type)?(J=o(A,F.props),J.ref=Iu(S,A,F),J.return=S,J):(J=Nh(F.type,F.key,F.props,null,S.mode,J),J.ref=Iu(S,A,F),J.return=S,J)}function p(S,A,F,J){return A===null||A.tag!==4||A.stateNode.containerInfo!==F.containerInfo||A.stateNode.implementation!==F.implementation?(A=xd(F,S.mode,J),A.return=S,A):(A=o(A,F.children||[]),A.return=S,A)}function v(S,A,F,J,ie){return A===null||A.tag!==7?(A=Ka(F,S.mode,J,ie),A.return=S,A):(A=o(A,F),A.return=S,A)}function x(S,A,F){if(typeof A=="string"&&A!==""||typeof A=="number")return A=_d(""+A,S.mode,F),A.return=S,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Zc:return F=Nh(A.type,A.key,A.props,null,S.mode,F),F.ref=Iu(S,null,A),F.return=S,F;case Il:return A=xd(A,S.mode,F),A.return=S,A;case Ks:var J=A._init;return x(S,J(A._payload),F)}if(qu(A)||ju(A))return A=Ka(A,S.mode,F,null),A.return=S,A;rh(S,A)}return null}function b(S,A,F,J){var ie=A!==null?A.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ie!==null?null:c(S,A,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Zc:return F.key===ie?h(S,A,F,J):null;case Il:return F.key===ie?p(S,A,F,J):null;case Ks:return ie=F._init,b(S,A,ie(F._payload),J)}if(qu(F)||ju(F))return ie!==null?null:v(S,A,F,J,null);rh(S,F)}return null}function w(S,A,F,J,ie){if(typeof J=="string"&&J!==""||typeof J=="number")return S=S.get(F)||null,c(A,S,""+J,ie);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case Zc:return S=S.get(J.key===null?F:J.key)||null,h(A,S,J,ie);case Il:return S=S.get(J.key===null?F:J.key)||null,p(A,S,J,ie);case Ks:var H=J._init;return w(S,A,F,H(J._payload),ie)}if(qu(J)||ju(J))return S=S.get(F)||null,v(A,S,J,ie,null);rh(A,J)}return null}function P(S,A,F,J){for(var ie=null,H=null,Z=A,j=A=0,z=null;Z!==null&&j<F.length;j++){Z.index>j?(z=Z,Z=null):z=Z.sibling;var V=b(S,Z,F[j],J);if(V===null){Z===null&&(Z=z);break}e&&Z&&V.alternate===null&&t(S,Z),A=s(V,A,j),H===null?ie=V:H.sibling=V,H=V,Z=z}if(j===F.length)return n(S,Z),pn&&za(S,j),ie;if(Z===null){for(;j<F.length;j++)Z=x(S,F[j],J),Z!==null&&(A=s(Z,A,j),H===null?ie=Z:H.sibling=Z,H=Z);return pn&&za(S,j),ie}for(Z=r(S,Z);j<F.length;j++)z=w(Z,S,j,F[j],J),z!==null&&(e&&z.alternate!==null&&Z.delete(z.key===null?j:z.key),A=s(z,A,j),H===null?ie=z:H.sibling=z,H=z);return e&&Z.forEach(function(O){return t(S,O)}),pn&&za(S,j),ie}function C(S,A,F,J){var ie=ju(F);if(typeof ie!="function")throw Error(He(150));if(F=ie.call(F),F==null)throw Error(He(151));for(var H=ie=null,Z=A,j=A=0,z=null,V=F.next();Z!==null&&!V.done;j++,V=F.next()){Z.index>j?(z=Z,Z=null):z=Z.sibling;var O=b(S,Z,V.value,J);if(O===null){Z===null&&(Z=z);break}e&&Z&&O.alternate===null&&t(S,Z),A=s(O,A,j),H===null?ie=O:H.sibling=O,H=O,Z=z}if(V.done)return n(S,Z),pn&&za(S,j),ie;if(Z===null){for(;!V.done;j++,V=F.next())V=x(S,V.value,J),V!==null&&(A=s(V,A,j),H===null?ie=V:H.sibling=V,H=V);return pn&&za(S,j),ie}for(Z=r(S,Z);!V.done;j++,V=F.next())V=w(Z,S,j,V.value,J),V!==null&&(e&&V.alternate!==null&&Z.delete(V.key===null?j:V.key),A=s(V,A,j),H===null?ie=V:H.sibling=V,H=V);return e&&Z.forEach(function(R){return t(S,R)}),pn&&za(S,j),ie}function U(S,A,F,J){if(typeof F=="object"&&F!==null&&F.type===Ml&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Zc:e:{for(var ie=F.key,H=A;H!==null;){if(H.key===ie){if(ie=F.type,ie===Ml){if(H.tag===7){n(S,H.sibling),A=o(H,F.props.children),A.return=S,S=A;break e}}else if(H.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Ks&&Xm(ie)===H.type){n(S,H.sibling),A=o(H,F.props),A.ref=Iu(S,H,F),A.return=S,S=A;break e}n(S,H);break}else t(S,H);H=H.sibling}F.type===Ml?(A=Ka(F.props.children,S.mode,J,F.key),A.return=S,S=A):(J=Nh(F.type,F.key,F.props,null,S.mode,J),J.ref=Iu(S,A,F),J.return=S,S=J)}return l(S);case Il:e:{for(H=F.key;A!==null;){if(A.key===H)if(A.tag===4&&A.stateNode.containerInfo===F.containerInfo&&A.stateNode.implementation===F.implementation){n(S,A.sibling),A=o(A,F.children||[]),A.return=S,S=A;break e}else{n(S,A);break}else t(S,A);A=A.sibling}A=xd(F,S.mode,J),A.return=S,S=A}return l(S);case Ks:return H=F._init,U(S,A,H(F._payload),J)}if(qu(F))return P(S,A,F,J);if(ju(F))return C(S,A,F,J);rh(S,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,A!==null&&A.tag===6?(n(S,A.sibling),A=o(A,F),A.return=S,S=A):(n(S,A),A=_d(F,S.mode,J),A.return=S,S=A),l(S)):n(S,A)}return U}var au=L2(!0),k2=L2(!1),Zh=ma(null),Vh=null,$l=null,x0=null;function w0(){x0=$l=Vh=null}function b0(e){var t=Zh.current;hn(Zh),e._currentValue=t}function hp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yl(e,t){Vh=e,x0=$l=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ri=!0),e.firstContext=null)}function Hi(e){var t=e._currentValue;if(x0!==e)if(e={context:e,memoizedValue:t,next:null},$l===null){if(Vh===null)throw Error(He(308));$l=e,Vh.dependencies={lanes:0,firstContext:e}}else $l=$l.next=e;return t}var Wa=null;function N0(e){Wa===null?Wa=[e]:Wa.push(e)}function P2(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,N0(t)):(n.next=o.next,o.next=n),t.interleaved=n,ys(e,r)}function ys(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Js=!1;function S0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,zt&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,ys(e,n)}return o=r.interleaved,o===null?(t.next=t,N0(r)):(t.next=o.next,o.next=t),r.interleaved=t,ys(e,n)}function vh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,u0(e,n)}}function Qm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gh(e,t,n,r){var o=e.updateQueue;Js=!1;var s=o.firstBaseUpdate,l=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var h=c,p=h.next;h.next=null,l===null?s=p:l.next=p,l=h;var v=e.alternate;v!==null&&(v=v.updateQueue,c=v.lastBaseUpdate,c!==l&&(c===null?v.firstBaseUpdate=p:c.next=p,v.lastBaseUpdate=h))}if(s!==null){var x=o.baseState;l=0,v=p=h=null,c=s;do{var b=c.lane,w=c.eventTime;if((r&b)===b){v!==null&&(v=v.next={eventTime:w,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var P=e,C=c;switch(b=t,w=n,C.tag){case 1:if(P=C.payload,typeof P=="function"){x=P.call(w,x,b);break e}x=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=C.payload,b=typeof P=="function"?P.call(w,x,b):P,b==null)break e;x=xn({},x,b);break e;case 2:Js=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,b=o.effects,b===null?o.effects=[c]:b.push(c))}else w={eventTime:w,lane:b,tag:c.tag,payload:c.payload,callback:c.callback,next:null},v===null?(p=v=w,h=x):v=v.next=w,l|=b;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;b=c,c=b.next,b.next=null,o.lastBaseUpdate=b,o.shared.pending=null}}while(!0);if(v===null&&(h=x),o.baseState=h,o.firstBaseUpdate=p,o.lastBaseUpdate=v,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);tl|=l,e.lanes=l,e.memoizedState=x}}function e1(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(He(191,o));o.call(r)}}}var kc={},qo=ma(kc),hc=ma(kc),fc=ma(kc);function Za(e){if(e===kc)throw Error(He(174));return e}function L0(e,t){switch(sn(fc,t),sn(hc,e),sn(qo,kc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wd(t,e)}hn(qo),sn(qo,t)}function lu(){hn(qo),hn(hc),hn(fc)}function j2(e){Za(fc.current);var t=Za(qo.current),n=Wd(t,e.type);t!==n&&(sn(hc,e),sn(qo,n))}function k0(e){hc.current===e&&(hn(qo),hn(hc))}var yn=ma(0);function Kh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dd=[];function P0(){for(var e=0;e<dd.length;e++)dd[e]._workInProgressVersionPrimary=null;dd.length=0}var yh=xs.ReactCurrentDispatcher,pd=xs.ReactCurrentBatchConfig,el=0,_n=null,Wn=null,er=null,Jh=!1,Ku=!1,dc=0,F_=0;function _r(){throw Error(He(321))}function A0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!po(e[n],t[n]))return!1;return!0}function j0(e,t,n,r,o,s){if(el=s,_n=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yh.current=e===null||e.memoizedState===null?q_:U_,e=n(r,o),Ku){s=0;do{if(Ku=!1,dc=0,25<=s)throw Error(He(301));s+=1,er=Wn=null,t.updateQueue=null,yh.current=$_,e=n(r,o)}while(Ku)}if(yh.current=Yh,t=Wn!==null&&Wn.next!==null,el=0,er=Wn=_n=null,Jh=!1,t)throw Error(He(300));return e}function C0(){var e=dc!==0;return dc=0,e}function Fo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?_n.memoizedState=er=e:er=er.next=e,er}function Wi(){if(Wn===null){var e=_n.alternate;e=e!==null?e.memoizedState:null}else e=Wn.next;var t=er===null?_n.memoizedState:er.next;if(t!==null)er=t,Wn=e;else{if(e===null)throw Error(He(310));Wn=e,e={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},er===null?_n.memoizedState=er=e:er=er.next=e}return er}function pc(e,t){return typeof t=="function"?t(e):t}function md(e){var t=Wi(),n=t.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=e;var r=Wn,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var l=o.next;o.next=s.next,s.next=l}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var c=l=null,h=null,p=s;do{var v=p.lane;if((el&v)===v)h!==null&&(h=h.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var x={lane:v,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};h===null?(c=h=x,l=r):h=h.next=x,_n.lanes|=v,tl|=v}p=p.next}while(p!==null&&p!==s);h===null?l=r:h.next=c,po(r,t.memoizedState)||(ri=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=h,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,_n.lanes|=s,tl|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gd(e){var t=Wi(),n=t.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do s=e(s,l.action),l=l.next;while(l!==o);po(s,t.memoizedState)||(ri=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function C2(){}function E2(e,t){var n=_n,r=Wi(),o=t(),s=!po(r.memoizedState,o);if(s&&(r.memoizedState=o,ri=!0),r=r.queue,E0(I2.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||er!==null&&er.memoizedState.tag&1){if(n.flags|=2048,mc(9,O2.bind(null,n,r,o,t),void 0,null),nr===null)throw Error(He(349));el&30||T2(n,t,o)}return o}function T2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_n.updateQueue,t===null?(t={lastEffect:null,stores:null},_n.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function O2(e,t,n,r){t.value=n,t.getSnapshot=r,M2(t)&&R2(e)}function I2(e,t,n){return n(function(){M2(t)&&R2(e)})}function M2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!po(e,n)}catch{return!0}}function R2(e){var t=ys(e,1);t!==null&&fo(t,e,1,-1)}function t1(e){var t=Fo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:e},t.queue=e,e=e.dispatch=B_.bind(null,_n,e),[t.memoizedState,e]}function mc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_n.updateQueue,t===null?(t={lastEffect:null,stores:null},_n.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function F2(){return Wi().memoizedState}function _h(e,t,n,r){var o=Fo();_n.flags|=e,o.memoizedState=mc(1|t,n,void 0,r===void 0?null:r)}function mf(e,t,n,r){var o=Wi();r=r===void 0?null:r;var s=void 0;if(Wn!==null){var l=Wn.memoizedState;if(s=l.destroy,r!==null&&A0(r,l.deps)){o.memoizedState=mc(t,n,s,r);return}}_n.flags|=e,o.memoizedState=mc(1|t,n,s,r)}function n1(e,t){return _h(8390656,8,e,t)}function E0(e,t){return mf(2048,8,e,t)}function z2(e,t){return mf(4,2,e,t)}function D2(e,t){return mf(4,4,e,t)}function B2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function q2(e,t,n){return n=n!=null?n.concat([e]):null,mf(4,4,B2.bind(null,t,e),n)}function T0(){}function U2(e,t){var n=Wi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&A0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $2(e,t){var n=Wi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&A0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function H2(e,t,n){return el&21?(po(n,t)||(n=Kg(),_n.lanes|=n,tl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ri=!0),e.memoizedState=n)}function z_(e,t){var n=Xt;Xt=n!==0&&4>n?n:4,e(!0);var r=pd.transition;pd.transition={};try{e(!1),t()}finally{Xt=n,pd.transition=r}}function W2(){return Wi().memoizedState}function D_(e,t,n){var r=la(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Z2(e))V2(t,n);else if(n=P2(e,t,n,r),n!==null){var o=qr();fo(n,e,r,o),G2(n,t,r)}}function B_(e,t,n){var r=la(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Z2(e))V2(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,c=s(l,n);if(o.hasEagerState=!0,o.eagerState=c,po(c,l)){var h=t.interleaved;h===null?(o.next=o,N0(t)):(o.next=h.next,h.next=o),t.interleaved=o;return}}catch{}finally{}n=P2(e,t,o,r),n!==null&&(o=qr(),fo(n,e,r,o),G2(n,t,r))}}function Z2(e){var t=e.alternate;return e===_n||t!==null&&t===_n}function V2(e,t){Ku=Jh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function G2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,u0(e,n)}}var Yh={readContext:Hi,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:!1},q_={readContext:Hi,useCallback:function(e,t){return Fo().memoizedState=[e,t===void 0?null:t],e},useContext:Hi,useEffect:n1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_h(4194308,4,B2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _h(4194308,4,e,t)},useInsertionEffect:function(e,t){return _h(4,2,e,t)},useMemo:function(e,t){var n=Fo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=D_.bind(null,_n,e),[r.memoizedState,e]},useRef:function(e){var t=Fo();return e={current:e},t.memoizedState=e},useState:t1,useDebugValue:T0,useDeferredValue:function(e){return Fo().memoizedState=e},useTransition:function(){var e=t1(!1),t=e[0];return e=z_.bind(null,e[1]),Fo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_n,o=Fo();if(pn){if(n===void 0)throw Error(He(407));n=n()}else{if(n=t(),nr===null)throw Error(He(349));el&30||T2(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,n1(I2.bind(null,r,s,e),[e]),r.flags|=2048,mc(9,O2.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Fo(),t=nr.identifierPrefix;if(pn){var n=ps,r=ds;n=(r&~(1<<32-ho(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=dc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=F_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},U_={readContext:Hi,useCallback:U2,useContext:Hi,useEffect:E0,useImperativeHandle:q2,useInsertionEffect:z2,useLayoutEffect:D2,useMemo:$2,useReducer:md,useRef:F2,useState:function(){return md(pc)},useDebugValue:T0,useDeferredValue:function(e){var t=Wi();return H2(t,Wn.memoizedState,e)},useTransition:function(){var e=md(pc)[0],t=Wi().memoizedState;return[e,t]},useMutableSource:C2,useSyncExternalStore:E2,useId:W2,unstable_isNewReconciler:!1},$_={readContext:Hi,useCallback:U2,useContext:Hi,useEffect:E0,useImperativeHandle:q2,useInsertionEffect:z2,useLayoutEffect:D2,useMemo:$2,useReducer:gd,useRef:F2,useState:function(){return gd(pc)},useDebugValue:T0,useDeferredValue:function(e){var t=Wi();return Wn===null?t.memoizedState=e:H2(t,Wn.memoizedState,e)},useTransition:function(){var e=gd(pc)[0],t=Wi().memoizedState;return[e,t]},useMutableSource:C2,useSyncExternalStore:E2,useId:W2,unstable_isNewReconciler:!1};function ao(e,t){if(e&&e.defaultProps){t=xn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gf={isMounted:function(e){return(e=e._reactInternals)?ol(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qr(),o=la(e),s=ms(r,o);s.payload=t,n!=null&&(s.callback=n),t=sa(e,s,o),t!==null&&(fo(t,e,o,r),vh(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qr(),o=la(e),s=ms(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=sa(e,s,o),t!==null&&(fo(t,e,o,r),vh(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qr(),r=la(e),o=ms(n,r);o.tag=2,t!=null&&(o.callback=t),t=sa(e,o,r),t!==null&&(fo(t,e,r,n),vh(t,e,r))}};function r1(e,t,n,r,o,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,l):t.prototype&&t.prototype.isPureReactComponent?!ac(n,r)||!ac(o,s):!0}function K2(e,t,n){var r=!1,o=ha,s=t.contextType;return typeof s=="object"&&s!==null?s=Hi(s):(o=oi(t)?Xa:Ar.current,r=t.contextTypes,s=(r=r!=null)?ou(e,o):ha),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function i1(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gf.enqueueReplaceState(t,t.state,null)}function dp(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},S0(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Hi(s):(s=oi(t)?Xa:Ar.current,o.context=ou(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(fp(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&gf.enqueueReplaceState(o,o.state,null),Gh(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function uu(e,t){try{var n="",r=t;do n+=vy(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function vd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function pp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var H_=typeof WeakMap=="function"?WeakMap:Map;function J2(e,t,n){n=ms(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qh||(Qh=!0,Sp=r),pp(e,t)},n}function Y2(e,t,n){n=ms(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){pp(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pp(e,t),typeof r!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function o1(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new H_;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=ix.bind(null,e,t,n),t.then(e,e))}function s1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function a1(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ms(-1,1),t.tag=2,sa(n,t,1))),n.lanes|=1),e)}var W_=xs.ReactCurrentOwner,ri=!1;function Br(e,t,n,r){t.child=e===null?k2(t,null,n,r):au(t,e.child,n,r)}function l1(e,t,n,r,o){n=n.render;var s=t.ref;return Yl(t,o),r=j0(e,t,n,r,s,o),n=C0(),e!==null&&!ri?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,_s(e,t,o)):(pn&&n&&v0(t),t.flags|=1,Br(e,t,r,o),t.child)}function u1(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!B0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,X2(e,t,s,r,o)):(e=Nh(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:ac,n(l,r)&&e.ref===t.ref)return _s(e,t,o)}return t.flags|=1,e=ua(s,r),e.ref=t.ref,e.return=t,t.child=e}function X2(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(ac(s,r)&&e.ref===t.ref)if(ri=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(ri=!0);else return t.lanes=e.lanes,_s(e,t,o)}return mp(e,t,n,r,o)}function Q2(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},sn(Wl,yi),yi|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,sn(Wl,yi),yi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,sn(Wl,yi),yi|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,sn(Wl,yi),yi|=r;return Br(e,t,o,n),t.child}function ev(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mp(e,t,n,r,o){var s=oi(n)?Xa:Ar.current;return s=ou(t,s),Yl(t,o),n=j0(e,t,n,r,s,o),r=C0(),e!==null&&!ri?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,_s(e,t,o)):(pn&&r&&v0(t),t.flags|=1,Br(e,t,n,o),t.child)}function c1(e,t,n,r,o){if(oi(n)){var s=!0;$h(t)}else s=!1;if(Yl(t,o),t.stateNode===null)xh(e,t),K2(t,n,r),dp(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var h=l.context,p=n.contextType;typeof p=="object"&&p!==null?p=Hi(p):(p=oi(n)?Xa:Ar.current,p=ou(t,p));var v=n.getDerivedStateFromProps,x=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function";x||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||h!==p)&&i1(t,l,r,p),Js=!1;var b=t.memoizedState;l.state=b,Gh(t,r,l,o),h=t.memoizedState,c!==r||b!==h||ii.current||Js?(typeof v=="function"&&(fp(t,n,v,r),h=t.memoizedState),(c=Js||r1(t,n,c,r,b,h,p))?(x||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),l.props=r,l.state=h,l.context=p,r=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,A2(e,t),c=t.memoizedProps,p=t.type===t.elementType?c:ao(t.type,c),l.props=p,x=t.pendingProps,b=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=Hi(h):(h=oi(n)?Xa:Ar.current,h=ou(t,h));var w=n.getDerivedStateFromProps;(v=typeof w=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==x||b!==h)&&i1(t,l,r,h),Js=!1,b=t.memoizedState,l.state=b,Gh(t,r,l,o);var P=t.memoizedState;c!==x||b!==P||ii.current||Js?(typeof w=="function"&&(fp(t,n,w,r),P=t.memoizedState),(p=Js||r1(t,n,p,r,b,P,h)||!1)?(v||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,P,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,P,h)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=P),l.props=r,l.state=P,l.context=h,r=p):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),r=!1)}return gp(e,t,n,r,s,o)}function gp(e,t,n,r,o,s){ev(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&Km(t,n,!1),_s(e,t,s);r=t.stateNode,W_.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=au(t,e.child,null,s),t.child=au(t,null,c,s)):Br(e,t,c,s),t.memoizedState=r.state,o&&Km(t,n,!0),t.child}function tv(e){var t=e.stateNode;t.pendingContext?Gm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gm(e,t.context,!1),L0(e,t.containerInfo)}function h1(e,t,n,r,o){return su(),_0(o),t.flags|=256,Br(e,t,n,r),t.child}var vp={dehydrated:null,treeContext:null,retryLane:0};function yp(e){return{baseLanes:e,cachePool:null,transitions:null}}function nv(e,t,n){var r=t.pendingProps,o=yn.current,s=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(o&2)!==0),c?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),sn(yn,o&1),e===null)return cp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=_f(l,r,0,null),e=Ka(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=yp(n),t.memoizedState=vp,e):O0(t,l));if(o=e.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return Z_(e,t,l,r,c,o,n);if(s){s=r.fallback,l=t.mode,o=e.child,c=o.sibling;var h={mode:"hidden",children:r.children};return!(l&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=h,t.deletions=null):(r=ua(o,h),r.subtreeFlags=o.subtreeFlags&14680064),c!==null?s=ua(c,s):(s=Ka(s,l,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=e.child.memoizedState,l=l===null?yp(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=vp,r}return s=e.child,e=s.sibling,r=ua(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function O0(e,t){return t=_f({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ih(e,t,n,r){return r!==null&&_0(r),au(t,e.child,null,n),e=O0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Z_(e,t,n,r,o,s,l){if(n)return t.flags&256?(t.flags&=-257,r=vd(Error(He(422))),ih(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=_f({mode:"visible",children:r.children},o,0,null),s=Ka(s,o,l,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&au(t,e.child,null,l),t.child.memoizedState=yp(l),t.memoizedState=vp,s);if(!(t.mode&1))return ih(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(He(419)),r=vd(s,r,void 0),ih(e,t,l,r)}if(c=(l&e.childLanes)!==0,ri||c){if(r=nr,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,ys(e,o),fo(r,e,o,-1))}return D0(),r=vd(Error(He(421))),ih(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=ox.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,_i=oa(o.nextSibling),wi=t,pn=!0,co=null,e!==null&&(Bi[qi++]=ds,Bi[qi++]=ps,Bi[qi++]=Qa,ds=e.id,ps=e.overflow,Qa=t),t=O0(t,r.children),t.flags|=4096,t)}function f1(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),hp(e.return,t,n)}function yd(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function rv(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Br(e,t,r.children,n),r=yn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&f1(e,n,t);else if(e.tag===19)f1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(sn(yn,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Kh(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),yd(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Kh(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}yd(t,!0,n,null,s);break;case"together":yd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _s(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(He(153));if(t.child!==null){for(e=t.child,n=ua(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ua(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function V_(e,t,n){switch(t.tag){case 3:tv(t),su();break;case 5:j2(t);break;case 1:oi(t.type)&&$h(t);break;case 4:L0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;sn(Zh,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(sn(yn,yn.current&1),t.flags|=128,null):n&t.child.childLanes?nv(e,t,n):(sn(yn,yn.current&1),e=_s(e,t,n),e!==null?e.sibling:null);sn(yn,yn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rv(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),sn(yn,yn.current),r)break;return null;case 22:case 23:return t.lanes=0,Q2(e,t,n)}return _s(e,t,n)}var iv,_p,ov,sv;iv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_p=function(){};ov=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Za(qo.current);var s=null;switch(n){case"input":o=qd(e,o),r=qd(e,r),s=[];break;case"select":o=xn({},o,{value:void 0}),r=xn({},r,{value:void 0}),s=[];break;case"textarea":o=Hd(e,o),r=Hd(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qh)}Zd(n,r);var l;n=null;for(p in o)if(!r.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var c=o[p];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(ec.hasOwnProperty(p)?s||(s=[]):(s=s||[]).push(p,null));for(p in r){var h=r[p];if(c=o!=null?o[p]:void 0,r.hasOwnProperty(p)&&h!==c&&(h!=null||c!=null))if(p==="style")if(c){for(l in c)!c.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&c[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(s||(s=[]),s.push(p,n)),n=h;else p==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(s=s||[]).push(p,h)):p==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(p,""+h):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(ec.hasOwnProperty(p)?(h!=null&&p==="onScroll"&&un("scroll",e),s||c===h||(s=[])):(s=s||[]).push(p,h))}n&&(s=s||[]).push("style",n);var p=s;(t.updateQueue=p)&&(t.flags|=4)}};sv=function(e,t,n,r){n!==r&&(t.flags|=4)};function Mu(e,t){if(!pn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function G_(e,t,n){var r=t.pendingProps;switch(y0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(t),null;case 1:return oi(t.type)&&Uh(),xr(t),null;case 3:return r=t.stateNode,lu(),hn(ii),hn(Ar),P0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(nh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,co!==null&&(Pp(co),co=null))),_p(e,t),xr(t),null;case 5:k0(t);var o=Za(fc.current);if(n=t.type,e!==null&&t.stateNode!=null)ov(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(He(166));return xr(t),null}if(e=Za(qo.current),nh(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[zo]=t,r[cc]=s,e=(t.mode&1)!==0,n){case"dialog":un("cancel",r),un("close",r);break;case"iframe":case"object":case"embed":un("load",r);break;case"video":case"audio":for(o=0;o<$u.length;o++)un($u[o],r);break;case"source":un("error",r);break;case"img":case"image":case"link":un("error",r),un("load",r);break;case"details":un("toggle",r);break;case"input":wm(r,s),un("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},un("invalid",r);break;case"textarea":Nm(r,s),un("invalid",r)}Zd(n,s),o=null;for(var l in s)if(s.hasOwnProperty(l)){var c=s[l];l==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&th(r.textContent,c,e),o=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&th(r.textContent,c,e),o=["children",""+c]):ec.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&un("scroll",r)}switch(n){case"input":Vc(r),bm(r,s,!0);break;case"textarea":Vc(r),Sm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qh)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ig(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[zo]=t,e[cc]=r,iv(e,t,!1,!1),t.stateNode=e;e:{switch(l=Vd(n,r),n){case"dialog":un("cancel",e),un("close",e),o=r;break;case"iframe":case"object":case"embed":un("load",e),o=r;break;case"video":case"audio":for(o=0;o<$u.length;o++)un($u[o],e);o=r;break;case"source":un("error",e),o=r;break;case"img":case"image":case"link":un("error",e),un("load",e),o=r;break;case"details":un("toggle",e),o=r;break;case"input":wm(e,r),o=qd(e,r),un("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=xn({},r,{value:void 0}),un("invalid",e);break;case"textarea":Nm(e,r),o=Hd(e,r),un("invalid",e);break;default:o=r}Zd(n,o),c=o;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];s==="style"?Fg(e,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Mg(e,h)):s==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&tc(e,h):typeof h=="number"&&tc(e,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ec.hasOwnProperty(s)?h!=null&&s==="onScroll"&&un("scroll",e):h!=null&&r0(e,s,h,l))}switch(n){case"input":Vc(e),bm(e,r,!1);break;case"textarea":Vc(e),Sm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ca(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Vl(e,!!r.multiple,s,!1):r.defaultValue!=null&&Vl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=qh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xr(t),null;case 6:if(e&&t.stateNode!=null)sv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(He(166));if(n=Za(fc.current),Za(qo.current),nh(t)){if(r=t.stateNode,n=t.memoizedProps,r[zo]=t,(s=r.nodeValue!==n)&&(e=wi,e!==null))switch(e.tag){case 3:th(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&th(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zo]=t,t.stateNode=r}return xr(t),null;case 13:if(hn(yn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pn&&_i!==null&&t.mode&1&&!(t.flags&128))S2(),su(),t.flags|=98560,s=!1;else if(s=nh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(He(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(He(317));s[zo]=t}else su(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xr(t),s=!1}else co!==null&&(Pp(co),co=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||yn.current&1?Zn===0&&(Zn=3):D0())),t.updateQueue!==null&&(t.flags|=4),xr(t),null);case 4:return lu(),_p(e,t),e===null&&lc(t.stateNode.containerInfo),xr(t),null;case 10:return b0(t.type._context),xr(t),null;case 17:return oi(t.type)&&Uh(),xr(t),null;case 19:if(hn(yn),s=t.memoizedState,s===null)return xr(t),null;if(r=(t.flags&128)!==0,l=s.rendering,l===null)if(r)Mu(s,!1);else{if(Zn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Kh(e),l!==null){for(t.flags|=128,Mu(s,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return sn(yn,yn.current&1|2),t.child}e=e.sibling}s.tail!==null&&En()>cu&&(t.flags|=128,r=!0,Mu(s,!1),t.lanes=4194304)}else{if(!r)if(e=Kh(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!pn)return xr(t),null}else 2*En()-s.renderingStartTime>cu&&n!==1073741824&&(t.flags|=128,r=!0,Mu(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=En(),t.sibling=null,n=yn.current,sn(yn,r?n&1|2:n&1),t):(xr(t),null);case 22:case 23:return z0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yi&1073741824&&(xr(t),t.subtreeFlags&6&&(t.flags|=8192)):xr(t),null;case 24:return null;case 25:return null}throw Error(He(156,t.tag))}function K_(e,t){switch(y0(t),t.tag){case 1:return oi(t.type)&&Uh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lu(),hn(ii),hn(Ar),P0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return k0(t),null;case 13:if(hn(yn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(He(340));su()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return hn(yn),null;case 4:return lu(),null;case 10:return b0(t.type._context),null;case 22:case 23:return z0(),null;case 24:return null;default:return null}}var oh=!1,Lr=!1,J_=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Hl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pn(e,t,r)}else n.current=null}function xp(e,t,n){try{n()}catch(r){Pn(e,t,r)}}var d1=!1;function Y_(e,t){if(rp=zh,e=h2(),g0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,c=-1,h=-1,p=0,v=0,x=e,b=null;t:for(;;){for(var w;x!==n||o!==0&&x.nodeType!==3||(c=l+o),x!==s||r!==0&&x.nodeType!==3||(h=l+r),x.nodeType===3&&(l+=x.nodeValue.length),(w=x.firstChild)!==null;)b=x,x=w;for(;;){if(x===e)break t;if(b===n&&++p===o&&(c=l),b===s&&++v===r&&(h=l),(w=x.nextSibling)!==null)break;x=b,b=x.parentNode}x=w}n=c===-1||h===-1?null:{start:c,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(ip={focusedElem:e,selectionRange:n},zh=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){t=nt;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var C=P.memoizedProps,U=P.memoizedState,S=t.stateNode,A=S.getSnapshotBeforeUpdate(t.elementType===t.type?C:ao(t.type,C),U);S.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var F=t.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(J){Pn(t,t.return,J)}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}return P=d1,d1=!1,P}function Ju(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&xp(t,n,s)}o=o.next}while(o!==r)}}function vf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function av(e){var t=e.alternate;t!==null&&(e.alternate=null,av(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zo],delete t[cc],delete t[ap],delete t[O_],delete t[I_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lv(e){return e.tag===5||e.tag===3||e.tag===4}function p1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qh));else if(r!==4&&(e=e.child,e!==null))for(bp(e,t,n),e=e.sibling;e!==null;)bp(e,t,n),e=e.sibling}function Np(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Np(e,t,n),e=e.sibling;e!==null;)Np(e,t,n),e=e.sibling}var ur=null,uo=!1;function Zs(e,t,n){for(n=n.child;n!==null;)uv(e,t,n),n=n.sibling}function uv(e,t,n){if(Bo&&typeof Bo.onCommitFiberUnmount=="function")try{Bo.onCommitFiberUnmount(uf,n)}catch{}switch(n.tag){case 5:Lr||Hl(n,t);case 6:var r=ur,o=uo;ur=null,Zs(e,t,n),ur=r,uo=o,ur!==null&&(uo?(e=ur,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ur.removeChild(n.stateNode));break;case 18:ur!==null&&(uo?(e=ur,n=n.stateNode,e.nodeType===8?hd(e.parentNode,n):e.nodeType===1&&hd(e,n),oc(e)):hd(ur,n.stateNode));break;case 4:r=ur,o=uo,ur=n.stateNode.containerInfo,uo=!0,Zs(e,t,n),ur=r,uo=o;break;case 0:case 11:case 14:case 15:if(!Lr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&xp(n,t,l),o=o.next}while(o!==r)}Zs(e,t,n);break;case 1:if(!Lr&&(Hl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Pn(n,t,c)}Zs(e,t,n);break;case 21:Zs(e,t,n);break;case 22:n.mode&1?(Lr=(r=Lr)||n.memoizedState!==null,Zs(e,t,n),Lr=r):Zs(e,t,n);break;default:Zs(e,t,n)}}function m1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new J_),t.forEach(function(r){var o=sx.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function io(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:ur=c.stateNode,uo=!1;break e;case 3:ur=c.stateNode.containerInfo,uo=!0;break e;case 4:ur=c.stateNode.containerInfo,uo=!0;break e}c=c.return}if(ur===null)throw Error(He(160));uv(s,l,o),ur=null,uo=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(p){Pn(o,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cv(t,e),t=t.sibling}function cv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(io(t,e),Io(e),r&4){try{Ju(3,e,e.return),vf(3,e)}catch(C){Pn(e,e.return,C)}try{Ju(5,e,e.return)}catch(C){Pn(e,e.return,C)}}break;case 1:io(t,e),Io(e),r&512&&n!==null&&Hl(n,n.return);break;case 5:if(io(t,e),Io(e),r&512&&n!==null&&Hl(n,n.return),e.flags&32){var o=e.stateNode;try{tc(o,"")}catch(C){Pn(e,e.return,C)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,c=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&Tg(o,s),Vd(c,l);var p=Vd(c,s);for(l=0;l<h.length;l+=2){var v=h[l],x=h[l+1];v==="style"?Fg(o,x):v==="dangerouslySetInnerHTML"?Mg(o,x):v==="children"?tc(o,x):r0(o,v,x,p)}switch(c){case"input":Ud(o,s);break;case"textarea":Og(o,s);break;case"select":var b=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Vl(o,!!s.multiple,w,!1):b!==!!s.multiple&&(s.defaultValue!=null?Vl(o,!!s.multiple,s.defaultValue,!0):Vl(o,!!s.multiple,s.multiple?[]:"",!1))}o[cc]=s}catch(C){Pn(e,e.return,C)}}break;case 6:if(io(t,e),Io(e),r&4){if(e.stateNode===null)throw Error(He(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(C){Pn(e,e.return,C)}}break;case 3:if(io(t,e),Io(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{oc(t.containerInfo)}catch(C){Pn(e,e.return,C)}break;case 4:io(t,e),Io(e);break;case 13:io(t,e),Io(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(R0=En())),r&4&&m1(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(Lr=(p=Lr)||v,io(t,e),Lr=p):io(t,e),Io(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!v&&e.mode&1)for(nt=e,v=e.child;v!==null;){for(x=nt=v;nt!==null;){switch(b=nt,w=b.child,b.tag){case 0:case 11:case 14:case 15:Ju(4,b,b.return);break;case 1:Hl(b,b.return);var P=b.stateNode;if(typeof P.componentWillUnmount=="function"){r=b,n=b.return;try{t=r,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(C){Pn(r,n,C)}}break;case 5:Hl(b,b.return);break;case 22:if(b.memoizedState!==null){v1(x);continue}}w!==null?(w.return=b,nt=w):v1(x)}v=v.sibling}e:for(v=null,x=e;;){if(x.tag===5){if(v===null){v=x;try{o=x.stateNode,p?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=x.stateNode,h=x.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=Rg("display",l))}catch(C){Pn(e,e.return,C)}}}else if(x.tag===6){if(v===null)try{x.stateNode.nodeValue=p?"":x.memoizedProps}catch(C){Pn(e,e.return,C)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;v===x&&(v=null),x=x.return}v===x&&(v=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:io(t,e),Io(e),r&4&&m1(e);break;case 21:break;default:io(t,e),Io(e)}}function Io(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lv(n)){var r=n;break e}n=n.return}throw Error(He(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(tc(o,""),r.flags&=-33);var s=p1(e);Np(e,s,o);break;case 3:case 4:var l=r.stateNode.containerInfo,c=p1(e);bp(e,c,l);break;default:throw Error(He(161))}}catch(h){Pn(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function X_(e,t,n){nt=e,hv(e)}function hv(e,t,n){for(var r=(e.mode&1)!==0;nt!==null;){var o=nt,s=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||oh;if(!l){var c=o.alternate,h=c!==null&&c.memoizedState!==null||Lr;c=oh;var p=Lr;if(oh=l,(Lr=h)&&!p)for(nt=o;nt!==null;)l=nt,h=l.child,l.tag===22&&l.memoizedState!==null?y1(o):h!==null?(h.return=l,nt=h):y1(o);for(;s!==null;)nt=s,hv(s),s=s.sibling;nt=o,oh=c,Lr=p}g1(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,nt=s):g1(e)}}function g1(e){for(;nt!==null;){var t=nt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Lr||vf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Lr)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ao(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&e1(t,s,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}e1(t,l,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var v=p.memoizedState;if(v!==null){var x=v.dehydrated;x!==null&&oc(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}Lr||t.flags&512&&wp(t)}catch(b){Pn(t,t.return,b)}}if(t===e){nt=null;break}if(n=t.sibling,n!==null){n.return=t.return,nt=n;break}nt=t.return}}function v1(e){for(;nt!==null;){var t=nt;if(t===e){nt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,nt=n;break}nt=t.return}}function y1(e){for(;nt!==null;){var t=nt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vf(4,t)}catch(h){Pn(t,n,h)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(h){Pn(t,o,h)}}var s=t.return;try{wp(t)}catch(h){Pn(t,s,h)}break;case 5:var l=t.return;try{wp(t)}catch(h){Pn(t,l,h)}}}catch(h){Pn(t,t.return,h)}if(t===e){nt=null;break}var c=t.sibling;if(c!==null){c.return=t.return,nt=c;break}nt=t.return}}var Q_=Math.ceil,Xh=xs.ReactCurrentDispatcher,I0=xs.ReactCurrentOwner,$i=xs.ReactCurrentBatchConfig,zt=0,nr=null,zn=null,cr=0,yi=0,Wl=ma(0),Zn=0,gc=null,tl=0,yf=0,M0=0,Yu=null,ni=null,R0=0,cu=1/0,hs=null,Qh=!1,Sp=null,aa=null,sh=!1,ea=null,ef=0,Xu=0,Lp=null,wh=-1,bh=0;function qr(){return zt&6?En():wh!==-1?wh:wh=En()}function la(e){return e.mode&1?zt&2&&cr!==0?cr&-cr:R_.transition!==null?(bh===0&&(bh=Kg()),bh):(e=Xt,e!==0||(e=window.event,e=e===void 0?16:n2(e.type)),e):1}function fo(e,t,n,r){if(50<Xu)throw Xu=0,Lp=null,Error(He(185));Nc(e,n,r),(!(zt&2)||e!==nr)&&(e===nr&&(!(zt&2)&&(yf|=n),Zn===4&&Xs(e,cr)),si(e,r),n===1&&zt===0&&!(t.mode&1)&&(cu=En()+500,pf&&ga()))}function si(e,t){var n=e.callbackNode;Ry(e,t);var r=Fh(e,e===nr?cr:0);if(r===0)n!==null&&Pm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Pm(n),t===1)e.tag===0?M_(_1.bind(null,e)):w2(_1.bind(null,e)),E_(function(){!(zt&6)&&ga()}),n=null;else{switch(Jg(r)){case 1:n=l0;break;case 4:n=Vg;break;case 16:n=Rh;break;case 536870912:n=Gg;break;default:n=Rh}n=_v(n,fv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fv(e,t){if(wh=-1,bh=0,zt&6)throw Error(He(327));var n=e.callbackNode;if(Xl()&&e.callbackNode!==n)return null;var r=Fh(e,e===nr?cr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=tf(e,r);else{t=r;var o=zt;zt|=2;var s=pv();(nr!==e||cr!==t)&&(hs=null,cu=En()+500,Ga(e,t));do try{nx();break}catch(c){dv(e,c)}while(!0);w0(),Xh.current=s,zt=o,zn!==null?t=0:(nr=null,cr=0,t=Zn)}if(t!==0){if(t===2&&(o=Xd(e),o!==0&&(r=o,t=kp(e,o))),t===1)throw n=gc,Ga(e,0),Xs(e,r),si(e,En()),n;if(t===6)Xs(e,r);else{if(o=e.current.alternate,!(r&30)&&!ex(o)&&(t=tf(e,r),t===2&&(s=Xd(e),s!==0&&(r=s,t=kp(e,s))),t===1))throw n=gc,Ga(e,0),Xs(e,r),si(e,En()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(He(345));case 2:Da(e,ni,hs);break;case 3:if(Xs(e,r),(r&130023424)===r&&(t=R0+500-En(),10<t)){if(Fh(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){qr(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=sp(Da.bind(null,e,ni,hs),t);break}Da(e,ni,hs);break;case 4:if(Xs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-ho(r);s=1<<l,l=t[l],l>o&&(o=l),r&=~s}if(r=o,r=En()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Q_(r/1960))-r,10<r){e.timeoutHandle=sp(Da.bind(null,e,ni,hs),r);break}Da(e,ni,hs);break;case 5:Da(e,ni,hs);break;default:throw Error(He(329))}}}return si(e,En()),e.callbackNode===n?fv.bind(null,e):null}function kp(e,t){var n=Yu;return e.current.memoizedState.isDehydrated&&(Ga(e,t).flags|=256),e=tf(e,t),e!==2&&(t=ni,ni=n,t!==null&&Pp(t)),e}function Pp(e){ni===null?ni=e:ni.push.apply(ni,e)}function ex(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!po(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xs(e,t){for(t&=~M0,t&=~yf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ho(t),r=1<<n;e[n]=-1,t&=~r}}function _1(e){if(zt&6)throw Error(He(327));Xl();var t=Fh(e,0);if(!(t&1))return si(e,En()),null;var n=tf(e,t);if(e.tag!==0&&n===2){var r=Xd(e);r!==0&&(t=r,n=kp(e,r))}if(n===1)throw n=gc,Ga(e,0),Xs(e,t),si(e,En()),n;if(n===6)throw Error(He(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Da(e,ni,hs),si(e,En()),null}function F0(e,t){var n=zt;zt|=1;try{return e(t)}finally{zt=n,zt===0&&(cu=En()+500,pf&&ga())}}function nl(e){ea!==null&&ea.tag===0&&!(zt&6)&&Xl();var t=zt;zt|=1;var n=$i.transition,r=Xt;try{if($i.transition=null,Xt=1,e)return e()}finally{Xt=r,$i.transition=n,zt=t,!(zt&6)&&ga()}}function z0(){yi=Wl.current,hn(Wl)}function Ga(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,C_(n)),zn!==null)for(n=zn.return;n!==null;){var r=n;switch(y0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uh();break;case 3:lu(),hn(ii),hn(Ar),P0();break;case 5:k0(r);break;case 4:lu();break;case 13:hn(yn);break;case 19:hn(yn);break;case 10:b0(r.type._context);break;case 22:case 23:z0()}n=n.return}if(nr=e,zn=e=ua(e.current,null),cr=yi=t,Zn=0,gc=null,M0=yf=tl=0,ni=Yu=null,Wa!==null){for(t=0;t<Wa.length;t++)if(n=Wa[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=o,r.next=l}n.pending=r}Wa=null}return e}function dv(e,t){do{var n=zn;try{if(w0(),yh.current=Yh,Jh){for(var r=_n.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Jh=!1}if(el=0,er=Wn=_n=null,Ku=!1,dc=0,I0.current=null,n===null||n.return===null){Zn=1,gc=t,zn=null;break}e:{var s=e,l=n.return,c=n,h=t;if(t=cr,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var p=h,v=c,x=v.tag;if(!(v.mode&1)&&(x===0||x===11||x===15)){var b=v.alternate;b?(v.updateQueue=b.updateQueue,v.memoizedState=b.memoizedState,v.lanes=b.lanes):(v.updateQueue=null,v.memoizedState=null)}var w=s1(l);if(w!==null){w.flags&=-257,a1(w,l,c,s,t),w.mode&1&&o1(s,p,t),t=w,h=p;var P=t.updateQueue;if(P===null){var C=new Set;C.add(h),t.updateQueue=C}else P.add(h);break e}else{if(!(t&1)){o1(s,p,t),D0();break e}h=Error(He(426))}}else if(pn&&c.mode&1){var U=s1(l);if(U!==null){!(U.flags&65536)&&(U.flags|=256),a1(U,l,c,s,t),_0(uu(h,c));break e}}s=h=uu(h,c),Zn!==4&&(Zn=2),Yu===null?Yu=[s]:Yu.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var S=J2(s,h,t);Qm(s,S);break e;case 1:c=h;var A=s.type,F=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(aa===null||!aa.has(F)))){s.flags|=65536,t&=-t,s.lanes|=t;var J=Y2(s,c,t);Qm(s,J);break e}}s=s.return}while(s!==null)}gv(n)}catch(ie){t=ie,zn===n&&n!==null&&(zn=n=n.return);continue}break}while(!0)}function pv(){var e=Xh.current;return Xh.current=Yh,e===null?Yh:e}function D0(){(Zn===0||Zn===3||Zn===2)&&(Zn=4),nr===null||!(tl&268435455)&&!(yf&268435455)||Xs(nr,cr)}function tf(e,t){var n=zt;zt|=2;var r=pv();(nr!==e||cr!==t)&&(hs=null,Ga(e,t));do try{tx();break}catch(o){dv(e,o)}while(!0);if(w0(),zt=n,Xh.current=r,zn!==null)throw Error(He(261));return nr=null,cr=0,Zn}function tx(){for(;zn!==null;)mv(zn)}function nx(){for(;zn!==null&&!Py();)mv(zn)}function mv(e){var t=yv(e.alternate,e,yi);e.memoizedProps=e.pendingProps,t===null?gv(e):zn=t,I0.current=null}function gv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=K_(n,t),n!==null){n.flags&=32767,zn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Zn=6,zn=null;return}}else if(n=G_(n,t,yi),n!==null){zn=n;return}if(t=t.sibling,t!==null){zn=t;return}zn=t=e}while(t!==null);Zn===0&&(Zn=5)}function Da(e,t,n){var r=Xt,o=$i.transition;try{$i.transition=null,Xt=1,rx(e,t,n,r)}finally{$i.transition=o,Xt=r}return null}function rx(e,t,n,r){do Xl();while(ea!==null);if(zt&6)throw Error(He(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(He(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Fy(e,s),e===nr&&(zn=nr=null,cr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sh||(sh=!0,_v(Rh,function(){return Xl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$i.transition,$i.transition=null;var l=Xt;Xt=1;var c=zt;zt|=4,I0.current=null,Y_(e,n),cv(n,e),N_(ip),zh=!!rp,ip=rp=null,e.current=n,X_(n),Ay(),zt=c,Xt=l,$i.transition=s}else e.current=n;if(sh&&(sh=!1,ea=e,ef=o),s=e.pendingLanes,s===0&&(aa=null),Ey(n.stateNode),si(e,En()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Qh)throw Qh=!1,e=Sp,Sp=null,e;return ef&1&&e.tag!==0&&Xl(),s=e.pendingLanes,s&1?e===Lp?Xu++:(Xu=0,Lp=e):Xu=0,ga(),null}function Xl(){if(ea!==null){var e=Jg(ef),t=$i.transition,n=Xt;try{if($i.transition=null,Xt=16>e?16:e,ea===null)var r=!1;else{if(e=ea,ea=null,ef=0,zt&6)throw Error(He(331));var o=zt;for(zt|=4,nt=e.current;nt!==null;){var s=nt,l=s.child;if(nt.flags&16){var c=s.deletions;if(c!==null){for(var h=0;h<c.length;h++){var p=c[h];for(nt=p;nt!==null;){var v=nt;switch(v.tag){case 0:case 11:case 15:Ju(8,v,s)}var x=v.child;if(x!==null)x.return=v,nt=x;else for(;nt!==null;){v=nt;var b=v.sibling,w=v.return;if(av(v),v===p){nt=null;break}if(b!==null){b.return=w,nt=b;break}nt=w}}}var P=s.alternate;if(P!==null){var C=P.child;if(C!==null){P.child=null;do{var U=C.sibling;C.sibling=null,C=U}while(C!==null)}}nt=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,nt=l;else e:for(;nt!==null;){if(s=nt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ju(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,nt=S;break e}nt=s.return}}var A=e.current;for(nt=A;nt!==null;){l=nt;var F=l.child;if(l.subtreeFlags&2064&&F!==null)F.return=l,nt=F;else e:for(l=A;nt!==null;){if(c=nt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:vf(9,c)}}catch(ie){Pn(c,c.return,ie)}if(c===l){nt=null;break e}var J=c.sibling;if(J!==null){J.return=c.return,nt=J;break e}nt=c.return}}if(zt=o,ga(),Bo&&typeof Bo.onPostCommitFiberRoot=="function")try{Bo.onPostCommitFiberRoot(uf,e)}catch{}r=!0}return r}finally{Xt=n,$i.transition=t}}return!1}function x1(e,t,n){t=uu(n,t),t=J2(e,t,1),e=sa(e,t,1),t=qr(),e!==null&&(Nc(e,1,t),si(e,t))}function Pn(e,t,n){if(e.tag===3)x1(e,e,n);else for(;t!==null;){if(t.tag===3){x1(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(aa===null||!aa.has(r))){e=uu(n,e),e=Y2(t,e,1),t=sa(t,e,1),e=qr(),t!==null&&(Nc(t,1,e),si(t,e));break}}t=t.return}}function ix(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qr(),e.pingedLanes|=e.suspendedLanes&n,nr===e&&(cr&n)===n&&(Zn===4||Zn===3&&(cr&130023424)===cr&&500>En()-R0?Ga(e,0):M0|=n),si(e,t)}function vv(e,t){t===0&&(e.mode&1?(t=Jc,Jc<<=1,!(Jc&130023424)&&(Jc=4194304)):t=1);var n=qr();e=ys(e,t),e!==null&&(Nc(e,t,n),si(e,n))}function ox(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vv(e,n)}function sx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(He(314))}r!==null&&r.delete(t),vv(e,n)}var yv;yv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ii.current)ri=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ri=!1,V_(e,t,n);ri=!!(e.flags&131072)}else ri=!1,pn&&t.flags&1048576&&b2(t,Wh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xh(e,t),e=t.pendingProps;var o=ou(t,Ar.current);Yl(t,n),o=j0(null,t,r,e,o,n);var s=C0();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,oi(r)?(s=!0,$h(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,S0(t),o.updater=gf,t.stateNode=o,o._reactInternals=t,dp(t,r,e,n),t=gp(null,t,r,!0,s,n)):(t.tag=0,pn&&s&&v0(t),Br(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xh(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=lx(r),e=ao(r,e),o){case 0:t=mp(null,t,r,e,n);break e;case 1:t=c1(null,t,r,e,n);break e;case 11:t=l1(null,t,r,e,n);break e;case 14:t=u1(null,t,r,ao(r.type,e),n);break e}throw Error(He(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ao(r,o),mp(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ao(r,o),c1(e,t,r,o,n);case 3:e:{if(tv(t),e===null)throw Error(He(387));r=t.pendingProps,s=t.memoizedState,o=s.element,A2(e,t),Gh(t,r,null,n);var l=t.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=uu(Error(He(423)),t),t=h1(e,t,r,n,o);break e}else if(r!==o){o=uu(Error(He(424)),t),t=h1(e,t,r,n,o);break e}else for(_i=oa(t.stateNode.containerInfo.firstChild),wi=t,pn=!0,co=null,n=k2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(su(),r===o){t=_s(e,t,n);break e}Br(e,t,r,n)}t=t.child}return t;case 5:return j2(t),e===null&&cp(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,l=o.children,op(r,o)?l=null:s!==null&&op(r,s)&&(t.flags|=32),ev(e,t),Br(e,t,l,n),t.child;case 6:return e===null&&cp(t),null;case 13:return nv(e,t,n);case 4:return L0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=au(t,null,r,n):Br(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ao(r,o),l1(e,t,r,o,n);case 7:return Br(e,t,t.pendingProps,n),t.child;case 8:return Br(e,t,t.pendingProps.children,n),t.child;case 12:return Br(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,l=o.value,sn(Zh,r._currentValue),r._currentValue=l,s!==null)if(po(s.value,l)){if(s.children===o.children&&!ii.current){t=_s(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var c=s.dependencies;if(c!==null){l=s.child;for(var h=c.firstContext;h!==null;){if(h.context===r){if(s.tag===1){h=ms(-1,n&-n),h.tag=2;var p=s.updateQueue;if(p!==null){p=p.shared;var v=p.pending;v===null?h.next=h:(h.next=v.next,v.next=h),p.pending=h}}s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),hp(s.return,n,t),c.lanes|=n;break}h=h.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(He(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),hp(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Br(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Yl(t,n),o=Hi(o),r=r(o),t.flags|=1,Br(e,t,r,n),t.child;case 14:return r=t.type,o=ao(r,t.pendingProps),o=ao(r.type,o),u1(e,t,r,o,n);case 15:return X2(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ao(r,o),xh(e,t),t.tag=1,oi(r)?(e=!0,$h(t)):e=!1,Yl(t,n),K2(t,r,o),dp(t,r,o,n),gp(null,t,r,!0,e,n);case 19:return rv(e,t,n);case 22:return Q2(e,t,n)}throw Error(He(156,t.tag))};function _v(e,t){return Zg(e,t)}function ax(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(e,t,n,r){return new ax(e,t,n,r)}function B0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lx(e){if(typeof e=="function")return B0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===o0)return 11;if(e===s0)return 14}return 2}function ua(e,t){var n=e.alternate;return n===null?(n=Ui(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nh(e,t,n,r,o,s){var l=2;if(r=e,typeof e=="function")B0(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Ml:return Ka(n.children,o,s,t);case i0:l=8,o|=8;break;case Fd:return e=Ui(12,n,t,o|2),e.elementType=Fd,e.lanes=s,e;case zd:return e=Ui(13,n,t,o),e.elementType=zd,e.lanes=s,e;case Dd:return e=Ui(19,n,t,o),e.elementType=Dd,e.lanes=s,e;case jg:return _f(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pg:l=10;break e;case Ag:l=9;break e;case o0:l=11;break e;case s0:l=14;break e;case Ks:l=16,r=null;break e}throw Error(He(130,e==null?e:typeof e,""))}return t=Ui(l,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Ka(e,t,n,r){return e=Ui(7,e,r,t),e.lanes=n,e}function _f(e,t,n,r){return e=Ui(22,e,r,t),e.elementType=jg,e.lanes=n,e.stateNode={isHidden:!1},e}function _d(e,t,n){return e=Ui(6,e,null,t),e.lanes=n,e}function xd(e,t,n){return t=Ui(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ux(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ed(0),this.expirationTimes=ed(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ed(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function q0(e,t,n,r,o,s,l,c,h){return e=new ux(e,t,n,c,h),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ui(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},S0(s),e}function cx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Il,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xv(e){if(!e)return ha;e=e._reactInternals;e:{if(ol(e)!==e||e.tag!==1)throw Error(He(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(He(171))}if(e.tag===1){var n=e.type;if(oi(n))return x2(e,n,t)}return t}function wv(e,t,n,r,o,s,l,c,h){return e=q0(n,r,!0,e,o,s,l,c,h),e.context=xv(null),n=e.current,r=qr(),o=la(n),s=ms(r,o),s.callback=t??null,sa(n,s,o),e.current.lanes=o,Nc(e,o,r),si(e,r),e}function xf(e,t,n,r){var o=t.current,s=qr(),l=la(o);return n=xv(n),t.context===null?t.context=n:t.pendingContext=n,t=ms(s,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sa(o,t,l),e!==null&&(fo(e,o,l,s),vh(e,o,l)),l}function nf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function w1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function U0(e,t){w1(e,t),(e=e.alternate)&&w1(e,t)}function hx(){return null}var bv=typeof reportError=="function"?reportError:function(e){console.error(e)};function $0(e){this._internalRoot=e}wf.prototype.render=$0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(He(409));xf(e,t,null,null)};wf.prototype.unmount=$0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nl(function(){xf(null,e,null,null)}),t[vs]=null}};function wf(e){this._internalRoot=e}wf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ys.length&&t!==0&&t<Ys[n].priority;n++);Ys.splice(n,0,e),n===0&&t2(e)}};function H0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function b1(){}function fx(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var p=nf(l);s.call(p)}}var l=wv(t,r,e,0,null,!1,!1,"",b1);return e._reactRootContainer=l,e[vs]=l.current,lc(e.nodeType===8?e.parentNode:e),nl(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var c=r;r=function(){var p=nf(h);c.call(p)}}var h=q0(e,0,!1,null,null,!1,!1,"",b1);return e._reactRootContainer=h,e[vs]=h.current,lc(e.nodeType===8?e.parentNode:e),nl(function(){xf(t,h,n,r)}),h}function Nf(e,t,n,r,o){var s=n._reactRootContainer;if(s){var l=s;if(typeof o=="function"){var c=o;o=function(){var h=nf(l);c.call(h)}}xf(t,l,e,o)}else l=fx(n,t,e,o,r);return nf(l)}Yg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Uu(t.pendingLanes);n!==0&&(u0(t,n|1),si(t,En()),!(zt&6)&&(cu=En()+500,ga()))}break;case 13:nl(function(){var r=ys(e,1);if(r!==null){var o=qr();fo(r,e,1,o)}}),U0(e,1)}};c0=function(e){if(e.tag===13){var t=ys(e,134217728);if(t!==null){var n=qr();fo(t,e,134217728,n)}U0(e,134217728)}};Xg=function(e){if(e.tag===13){var t=la(e),n=ys(e,t);if(n!==null){var r=qr();fo(n,e,t,r)}U0(e,t)}};Qg=function(){return Xt};e2=function(e,t){var n=Xt;try{return Xt=e,t()}finally{Xt=n}};Kd=function(e,t,n){switch(t){case"input":if(Ud(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=df(r);if(!o)throw Error(He(90));Eg(r),Ud(r,o)}}}break;case"textarea":Og(e,n);break;case"select":t=n.value,t!=null&&Vl(e,!!n.multiple,t,!1)}};Bg=F0;qg=nl;var dx={usingClientEntryPoint:!1,Events:[Lc,Dl,df,zg,Dg,F0]},Ru={findFiberByHostInstance:Ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},px={bundleType:Ru.bundleType,version:Ru.version,rendererPackageName:Ru.rendererPackageName,rendererConfig:Ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hg(e),e===null?null:e.stateNode},findFiberByHostInstance:Ru.findFiberByHostInstance||hx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{uf=ah.inject(px),Bo=ah}catch{}}Ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dx;Ni.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!H0(t))throw Error(He(200));return cx(e,t,null,n)};Ni.createRoot=function(e,t){if(!H0(e))throw Error(He(299));var n=!1,r="",o=bv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=q0(e,1,!1,null,null,n,!1,r,o),e[vs]=t.current,lc(e.nodeType===8?e.parentNode:e),new $0(t)};Ni.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(He(188)):(e=Object.keys(e).join(","),Error(He(268,e)));return e=Hg(t),e=e===null?null:e.stateNode,e};Ni.flushSync=function(e){return nl(e)};Ni.hydrate=function(e,t,n){if(!bf(t))throw Error(He(200));return Nf(null,e,t,!0,n)};Ni.hydrateRoot=function(e,t,n){if(!H0(e))throw Error(He(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",l=bv;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=wv(t,null,e,1,n??null,o,!1,s,l),e[vs]=t.current,lc(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new wf(t)};Ni.render=function(e,t,n){if(!bf(t))throw Error(He(200));return Nf(null,e,t,!1,n)};Ni.unmountComponentAtNode=function(e){if(!bf(e))throw Error(He(40));return e._reactRootContainer?(nl(function(){Nf(null,null,e,!1,function(){e._reactRootContainer=null,e[vs]=null})}),!0):!1};Ni.unstable_batchedUpdates=F0;Ni.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bf(n))throw Error(He(200));if(e==null||e._reactInternals===void 0)throw Error(He(38));return Nf(e,t,n,!1,r)};Ni.version="18.3.1-next-f1338f8080-20240426";function Nv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nv)}catch(e){console.error(e)}}Nv(),Ng.exports=Ni;var mx=Ng.exports,N1=mx;Md.createRoot=N1.createRoot,Md.hydrateRoot=N1.hydrateRoot;var Ap={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(Ua,function(n){var r="1.9.4";function o(i){var a,f,g,k;for(f=1,g=arguments.length;f<g;f++){k=arguments[f];for(a in k)i[a]=k[a]}return i}var s=Object.create||function(){function i(){}return function(a){return i.prototype=a,new i}}();function l(i,a){var f=Array.prototype.slice;if(i.bind)return i.bind.apply(i,f.call(arguments,1));var g=f.call(arguments,2);return function(){return i.apply(a,g.length?g.concat(f.call(arguments)):arguments)}}var c=0;function h(i){return"_leaflet_id"in i||(i._leaflet_id=++c),i._leaflet_id}function p(i,a,f){var g,k,q,oe;return oe=function(){g=!1,k&&(q.apply(f,k),k=!1)},q=function(){g?k=arguments:(i.apply(f,arguments),setTimeout(oe,a),g=!0)},q}function v(i,a,f){var g=a[1],k=a[0],q=g-k;return i===g&&f?i:((i-k)%q+q)%q+k}function x(){return!1}function b(i,a){if(a===!1)return i;var f=Math.pow(10,a===void 0?6:a);return Math.round(i*f)/f}function w(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function P(i){return w(i).split(/\s+/)}function C(i,a){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?s(i.options):{});for(var f in a)i.options[f]=a[f];return i.options}function U(i,a,f){var g=[];for(var k in i)g.push(encodeURIComponent(f?k.toUpperCase():k)+"="+encodeURIComponent(i[k]));return(!a||a.indexOf("?")===-1?"?":"&")+g.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function A(i,a){return i.replace(S,function(f,g){var k=a[g];if(k===void 0)throw new Error("No value provided for variable "+f);return typeof k=="function"&&(k=k(a)),k})}var F=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function J(i,a){for(var f=0;f<i.length;f++)if(i[f]===a)return f;return-1}var ie="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function H(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var Z=0;function j(i){var a=+new Date,f=Math.max(0,16-(a-Z));return Z=a+f,window.setTimeout(i,f)}var z=window.requestAnimationFrame||H("RequestAnimationFrame")||j,V=window.cancelAnimationFrame||H("CancelAnimationFrame")||H("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function O(i,a,f){if(f&&z===j)i.call(a);else return z.call(window,l(i,a))}function R(i){i&&V.call(window,i)}var ne={__proto__:null,extend:o,create:s,bind:l,get lastId(){return c},stamp:h,throttle:p,wrapNum:v,falseFn:x,formatNum:b,trim:w,splitWords:P,setOptions:C,getParamString:U,template:A,isArray:F,indexOf:J,emptyImageUrl:ie,requestFn:z,cancelFn:V,requestAnimFrame:O,cancelAnimFrame:R};function Q(){}Q.extend=function(i){var a=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=a.__super__=this.prototype,g=s(f);g.constructor=a,a.prototype=g;for(var k in this)Object.prototype.hasOwnProperty.call(this,k)&&k!=="prototype"&&k!=="__super__"&&(a[k]=this[k]);return i.statics&&o(a,i.statics),i.includes&&(we(i.includes),o.apply(null,[g].concat(i.includes))),o(g,i),delete g.statics,delete g.includes,g.options&&(g.options=f.options?s(f.options):{},o(g.options,i.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var q=0,oe=g._initHooks.length;q<oe;q++)g._initHooks[q].call(this)}},a},Q.include=function(i){var a=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=a,this.mergeOptions(i.options)),this},Q.mergeOptions=function(i){return o(this.prototype.options,i),this},Q.addInitHook=function(i){var a=Array.prototype.slice.call(arguments,1),f=typeof i=="function"?i:function(){this[i].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function we(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=F(i)?i:[i];for(var a=0;a<i.length;a++)i[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var fe={on:function(i,a,f){if(typeof i=="object")for(var g in i)this._on(g,i[g],a);else{i=P(i);for(var k=0,q=i.length;k<q;k++)this._on(i[k],a,f)}return this},off:function(i,a,f){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var g in i)this._off(g,i[g],a);else{i=P(i);for(var k=arguments.length===1,q=0,oe=i.length;q<oe;q++)k?this._off(i[q]):this._off(i[q],a,f)}return this},_on:function(i,a,f,g){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(i,a,f)===!1){f===this&&(f=void 0);var k={fn:a,ctx:f};g&&(k.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(k)}},_off:function(i,a,f){var g,k,q;if(this._events&&(g=this._events[i],!!g)){if(arguments.length===1){if(this._firingCount)for(k=0,q=g.length;k<q;k++)g[k].fn=x;delete this._events[i];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var oe=this._listens(i,a,f);if(oe!==!1){var xe=g[oe];this._firingCount&&(xe.fn=x,this._events[i]=g=g.slice()),g.splice(oe,1)}}},fire:function(i,a,f){if(!this.listens(i,f))return this;var g=o({},a,{type:i,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var k=this._events[i];if(k){this._firingCount=this._firingCount+1||1;for(var q=0,oe=k.length;q<oe;q++){var xe=k[q],Le=xe.fn;xe.once&&this.off(i,Le,xe.ctx),Le.call(xe.ctx||this,g)}this._firingCount--}}return f&&this._propagateEvent(g),this},listens:function(i,a,f,g){typeof i!="string"&&console.warn('"string" type argument expected');var k=a;typeof a!="function"&&(g=!!a,k=void 0,f=void 0);var q=this._events&&this._events[i];if(q&&q.length&&this._listens(i,k,f)!==!1)return!0;if(g){for(var oe in this._eventParents)if(this._eventParents[oe].listens(i,a,f,g))return!0}return!1},_listens:function(i,a,f){if(!this._events)return!1;var g=this._events[i]||[];if(!a)return!!g.length;f===this&&(f=void 0);for(var k=0,q=g.length;k<q;k++)if(g[k].fn===a&&g[k].ctx===f)return k;return!1},once:function(i,a,f){if(typeof i=="object")for(var g in i)this._on(g,i[g],a,!0);else{i=P(i);for(var k=0,q=i.length;k<q;k++)this._on(i[k],a,f,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[h(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[h(i)],this},_propagateEvent:function(i){for(var a in this._eventParents)this._eventParents[a].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};fe.addEventListener=fe.on,fe.removeEventListener=fe.clearAllEventListeners=fe.off,fe.addOneTimeEventListener=fe.once,fe.fireEvent=fe.fire,fe.hasEventListeners=fe.listens;var ve=Q.extend(fe);function K(i,a,f){this.x=f?Math.round(i):i,this.y=f?Math.round(a):a}var ae=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};K.prototype={clone:function(){return new K(this.x,this.y)},add:function(i){return this.clone()._add(se(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(se(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new K(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new K(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ae(this.x),this.y=ae(this.y),this},distanceTo:function(i){i=se(i);var a=i.x-this.x,f=i.y-this.y;return Math.sqrt(a*a+f*f)},equals:function(i){return i=se(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=se(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function se(i,a,f){return i instanceof K?i:F(i)?new K(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new K(i.x,i.y):new K(i,a,f)}function _e(i,a){if(i)for(var f=a?[i,a]:i,g=0,k=f.length;g<k;g++)this.extend(f[g])}_e.prototype={extend:function(i){var a,f;if(!i)return this;if(i instanceof K||typeof i[0]=="number"||"x"in i)a=f=se(i);else if(i=E(i),a=i.min,f=i.max,!a||!f)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=f.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(i){return se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return se(this.min.x,this.max.y)},getTopRight:function(){return se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var a,f;return typeof i[0]=="number"||i instanceof K?i=se(i):i=E(i),i instanceof _e?(a=i.min,f=i.max):a=f=i,a.x>=this.min.x&&f.x<=this.max.x&&a.y>=this.min.y&&f.y<=this.max.y},intersects:function(i){i=E(i);var a=this.min,f=this.max,g=i.min,k=i.max,q=k.x>=a.x&&g.x<=f.x,oe=k.y>=a.y&&g.y<=f.y;return q&&oe},overlaps:function(i){i=E(i);var a=this.min,f=this.max,g=i.min,k=i.max,q=k.x>a.x&&g.x<f.x,oe=k.y>a.y&&g.y<f.y;return q&&oe},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var a=this.min,f=this.max,g=Math.abs(a.x-f.x)*i,k=Math.abs(a.y-f.y)*i;return E(se(a.x-g,a.y-k),se(f.x+g,f.y+k))},equals:function(i){return i?(i=E(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function E(i,a){return!i||i instanceof _e?i:new _e(i,a)}function T(i,a){if(i)for(var f=a?[i,a]:i,g=0,k=f.length;g<k;g++)this.extend(f[g])}T.prototype={extend:function(i){var a=this._southWest,f=this._northEast,g,k;if(i instanceof ee)g=i,k=i;else if(i instanceof T){if(g=i._southWest,k=i._northEast,!g||!k)return this}else return i?this.extend(re(i)||G(i)):this;return!a&&!f?(this._southWest=new ee(g.lat,g.lng),this._northEast=new ee(k.lat,k.lng)):(a.lat=Math.min(g.lat,a.lat),a.lng=Math.min(g.lng,a.lng),f.lat=Math.max(k.lat,f.lat),f.lng=Math.max(k.lng,f.lng)),this},pad:function(i){var a=this._southWest,f=this._northEast,g=Math.abs(a.lat-f.lat)*i,k=Math.abs(a.lng-f.lng)*i;return new T(new ee(a.lat-g,a.lng-k),new ee(f.lat+g,f.lng+k))},getCenter:function(){return new ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof ee||"lat"in i?i=re(i):i=G(i);var a=this._southWest,f=this._northEast,g,k;return i instanceof T?(g=i.getSouthWest(),k=i.getNorthEast()):g=k=i,g.lat>=a.lat&&k.lat<=f.lat&&g.lng>=a.lng&&k.lng<=f.lng},intersects:function(i){i=G(i);var a=this._southWest,f=this._northEast,g=i.getSouthWest(),k=i.getNorthEast(),q=k.lat>=a.lat&&g.lat<=f.lat,oe=k.lng>=a.lng&&g.lng<=f.lng;return q&&oe},overlaps:function(i){i=G(i);var a=this._southWest,f=this._northEast,g=i.getSouthWest(),k=i.getNorthEast(),q=k.lat>a.lat&&g.lat<f.lat,oe=k.lng>a.lng&&g.lng<f.lng;return q&&oe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,a){return i?(i=G(i),this._southWest.equals(i.getSouthWest(),a)&&this._northEast.equals(i.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function G(i,a){return i instanceof T?i:new T(i,a)}function ee(i,a,f){if(isNaN(i)||isNaN(a))throw new Error("Invalid LatLng object: ("+i+", "+a+")");this.lat=+i,this.lng=+a,f!==void 0&&(this.alt=+f)}ee.prototype={equals:function(i,a){if(!i)return!1;i=re(i);var f=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return f<=(a===void 0?1e-9:a)},toString:function(i){return"LatLng("+b(this.lat,i)+", "+b(this.lng,i)+")"},distanceTo:function(i){return he.distance(this,re(i))},wrap:function(){return he.wrapLatLng(this)},toBounds:function(i){var a=180*i/40075017,f=a/Math.cos(Math.PI/180*this.lat);return G([this.lat-a,this.lng-f],[this.lat+a,this.lng+f])},clone:function(){return new ee(this.lat,this.lng,this.alt)}};function re(i,a,f){return i instanceof ee?i:F(i)&&typeof i[0]!="object"?i.length===3?new ee(i[0],i[1],i[2]):i.length===2?new ee(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new ee(i.lat,"lng"in i?i.lng:i.lon,i.alt):a===void 0?null:new ee(i,a,f)}var pe={latLngToPoint:function(i,a){var f=this.projection.project(i),g=this.scale(a);return this.transformation._transform(f,g)},pointToLatLng:function(i,a){var f=this.scale(a),g=this.transformation.untransform(i,f);return this.projection.unproject(g)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var a=this.projection.bounds,f=this.scale(i),g=this.transformation.transform(a.min,f),k=this.transformation.transform(a.max,f);return new _e(g,k)},infinite:!1,wrapLatLng:function(i){var a=this.wrapLng?v(i.lng,this.wrapLng,!0):i.lng,f=this.wrapLat?v(i.lat,this.wrapLat,!0):i.lat,g=i.alt;return new ee(f,a,g)},wrapLatLngBounds:function(i){var a=i.getCenter(),f=this.wrapLatLng(a),g=a.lat-f.lat,k=a.lng-f.lng;if(g===0&&k===0)return i;var q=i.getSouthWest(),oe=i.getNorthEast(),xe=new ee(q.lat-g,q.lng-k),Le=new ee(oe.lat-g,oe.lng-k);return new T(xe,Le)}},he=o({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(i,a){var f=Math.PI/180,g=i.lat*f,k=a.lat*f,q=Math.sin((a.lat-i.lat)*f/2),oe=Math.sin((a.lng-i.lng)*f/2),xe=q*q+Math.cos(g)*Math.cos(k)*oe*oe,Le=2*Math.atan2(Math.sqrt(xe),Math.sqrt(1-xe));return this.R*Le}}),me=6378137,Oe={R:me,MAX_LATITUDE:85.0511287798,project:function(i){var a=Math.PI/180,f=this.MAX_LATITUDE,g=Math.max(Math.min(f,i.lat),-f),k=Math.sin(g*a);return new K(this.R*i.lng*a,this.R*Math.log((1+k)/(1-k))/2)},unproject:function(i){var a=180/Math.PI;return new ee((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*a,i.x*a/this.R)},bounds:function(){var i=me*Math.PI;return new _e([-i,-i],[i,i])}()};function ke(i,a,f,g){if(F(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=a,this._c=f,this._d=g}ke.prototype={transform:function(i,a){return this._transform(i.clone(),a)},_transform:function(i,a){return a=a||1,i.x=a*(this._a*i.x+this._b),i.y=a*(this._c*i.y+this._d),i},untransform:function(i,a){return a=a||1,new K((i.x/a-this._b)/this._a,(i.y/a-this._d)/this._c)}};function Be(i,a,f,g){return new ke(i,a,f,g)}var Ue=o({},he,{code:"EPSG:3857",projection:Oe,transformation:function(){var i=.5/(Math.PI*Oe.R);return Be(i,.5,-i,.5)}()}),Ze=o({},Ue,{code:"EPSG:900913"});function Se(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function X(i,a){var f="",g,k,q,oe,xe,Le;for(g=0,q=i.length;g<q;g++){for(xe=i[g],k=0,oe=xe.length;k<oe;k++)Le=xe[k],f+=(k?"L":"M")+Le.x+" "+Le.y;f+=a?Ge.svg?"z":"x":""}return f||"M0 0"}var it=document.documentElement.style,Fe="ActiveXObject"in window,Te=Fe&&!document.addEventListener,Pe="msLaunchUri"in navigator&&!("documentMode"in document),Ce=$t("webkit"),$e=$t("android"),tt=$t("android 2")||$t("android 3"),Qe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=$e&&$t("Google")&&Qe<537&&!("AudioNode"in window),ot=!!window.opera,ft=!Pe&&$t("chrome"),kt=$t("gecko")&&!Ce&&!ot&&!Fe,ut=!ft&&$t("safari"),Nt=$t("phantom"),We="OTransition"in it,Ht=navigator.platform.indexOf("Win")===0,Pt=Fe&&"transition"in it,Vn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!tt,Ut="MozPerspective"in it,rn=!window.L_DISABLE_3D&&(Pt||Vn||Ut)&&!We&&!Nt,fr=typeof orientation<"u"||$t("mobile"),Dt=fr&&Ce,Ho=fr&&Vn,an=!window.PointerEvent&&window.MSPointerEvent,Hr=!!(window.PointerEvent||an),Li="ontouchstart"in window||!!window.TouchEvent,fn=!window.L_NO_TOUCH&&(Li||Hr),vt=fr&&ot,Bt=fr&&kt,Wo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Dn=function(){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",x,a),window.removeEventListener("testPassiveEventSupport",x,a)}catch{}return i}(),ki=function(){return!!document.createElement("canvas").getContext}(),Wr=!!(document.createElementNS&&Se("svg").createSVGRect),ct=!!Wr&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ci=!Wr&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var a=i.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),Pi=navigator.platform.indexOf("Mac")===0,dr=navigator.platform.indexOf("Linux")===0;function $t(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Ge={ie:Fe,ielt9:Te,edge:Pe,webkit:Ce,android:$e,android23:tt,androidStock:lt,opera:ot,chrome:ft,gecko:kt,safari:ut,phantom:Nt,opera12:We,win:Ht,ie3d:Pt,webkit3d:Vn,gecko3d:Ut,any3d:rn,mobile:fr,mobileWebkit:Dt,mobileWebkit3d:Ho,msPointer:an,pointer:Hr,touch:fn,touchNative:Li,mobileOpera:vt,mobileGecko:Bt,retina:Wo,passiveEvents:Dn,canvas:ki,svg:Wr,vml:ci,inlineSvg:ct,mac:Pi,linux:dr},pr=Ge.msPointer?"MSPointerDown":"pointerdown",Zo=Ge.msPointer?"MSPointerMove":"pointermove",Ai=Ge.msPointer?"MSPointerUp":"pointerup",Zr=Ge.msPointer?"MSPointerCancel":"pointercancel",jr={touchstart:pr,touchmove:Zo,touchend:Ai,touchcancel:Zr},Vr={touchstart:gu,touchmove:Ko,touchend:Ko,touchcancel:Ko},rr={},Cr=!1;function ji(i,a,f){return a==="touchstart"&&Ns(),Vr[a]?(f=Vr[a].bind(this,f),i.addEventListener(jr[a],f,!1),f):(console.warn("wrong event specified:",a),x)}function Vo(i,a,f){if(!jr[a]){console.warn("wrong event specified:",a);return}i.removeEventListener(jr[a],f,!1)}function ws(i){rr[i.pointerId]=i}function bs(i){rr[i.pointerId]&&(rr[i.pointerId]=i)}function Go(i){delete rr[i.pointerId]}function Ns(){Cr||(document.addEventListener(pr,ws,!0),document.addEventListener(Zo,bs,!0),document.addEventListener(Ai,Go,!0),document.addEventListener(Zr,Go,!0),Cr=!0)}function Ko(i,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var f in rr)a.touches.push(rr[f]);a.changedTouches=[a],i(a)}}function gu(i,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&mn(a),Ko(i,a)}function vu(i){var a={},f,g;for(g in i)f=i[g],a[g]=f&&f.bind?f.bind(i):f;return i=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var Ss=200;function al(i,a){i.addEventListener("dblclick",a);var f=0,g;function k(q){if(q.detail!==1){g=q.detail;return}if(!(q.pointerType==="mouse"||q.sourceCapabilities&&!q.sourceCapabilities.firesTouchEvents)){var oe=Yi(q);if(!(oe.some(function(Le){return Le instanceof HTMLLabelElement&&Le.attributes.for})&&!oe.some(function(Le){return Le instanceof HTMLInputElement||Le instanceof HTMLSelectElement}))){var xe=Date.now();xe-f<=Ss?(g++,g===2&&a(vu(q))):g=1,f=xe}}}return i.addEventListener("click",k),{dblclick:a,simDblclick:k}}function yu(i,a){i.removeEventListener("dblclick",a.dblclick),i.removeEventListener("click",a.simDblclick)}var Jo=Ls(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yo=Ls(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),va=Yo==="webkitTransition"||Yo==="OTransition"?Yo+"End":"transitionend";function ll(i){return typeof i=="string"?document.getElementById(i):i}function Ci(i,a){var f=i.style[a]||i.currentStyle&&i.currentStyle[a];if((!f||f==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(i,null);f=g?g[a]:null}return f==="auto"?null:f}function Ot(i,a,f){var g=document.createElement(i);return g.className=a||"",f&&f.appendChild(g),g}function xt(i){var a=i.parentNode;a&&a.removeChild(i)}function Xo(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Zi(i){var a=i.parentNode;a&&a.lastChild!==i&&a.appendChild(i)}function Vi(i){var a=i.parentNode;a&&a.firstChild!==i&&a.insertBefore(i,a.firstChild)}function Qo(i,a){if(i.classList!==void 0)return i.classList.contains(a);var f=Bn(i);return f.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(f)}function wt(i,a){if(i.classList!==void 0)for(var f=P(a),g=0,k=f.length;g<k;g++)i.classList.add(f[g]);else if(!Qo(i,a)){var q=Bn(i);yo(i,(q?q+" ":"")+a)}}function Rt(i,a){i.classList!==void 0?i.classList.remove(a):yo(i,w((" "+Bn(i)+" ").replace(" "+a+" "," ")))}function yo(i,a){i.className.baseVal===void 0?i.className=a:i.className.baseVal=a}function Bn(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Gn(i,a){"opacity"in i.style?i.style.opacity=a:"filter"in i.style&&ul(i,a)}function ul(i,a){var f=!1,g="DXImageTransform.Microsoft.Alpha";try{f=i.filters.item(g)}catch{if(a===1)return}a=Math.round(a*100),f?(f.Enabled=a!==100,f.Opacity=a):i.style.filter+=" progid:"+g+"(opacity="+a+")"}function Ls(i){for(var a=document.documentElement.style,f=0;f<i.length;f++)if(i[f]in a)return i[f];return!1}function Ei(i,a,f){var g=a||new K(0,0);i.style[Jo]=(Ge.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(f?" scale("+f+")":"")}function dn(i,a){i._leaflet_pos=a,Ge.any3d?Ei(i,a):(i.style.left=a.x+"px",i.style.top=a.y+"px")}function Ti(i){return i._leaflet_pos||new K(0,0)}var es,Gi,ya;if("onselectstart"in document)es=function(){yt(window,"selectstart",mn)},Gi=function(){Ct(window,"selectstart",mn)};else{var ts=Ls(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);es=function(){if(ts){var i=document.documentElement.style;ya=i[ts],i[ts]="none"}},Gi=function(){ts&&(document.documentElement.style[ts]=ya,ya=void 0)}}function _a(){yt(window,"dragstart",mn)}function hi(){Ct(window,"dragstart",mn)}var Ki,_o;function ks(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(An(),Ki=i,_o=i.style.outlineStyle,i.style.outlineStyle="none",yt(window,"keydown",An))}function An(){Ki&&(Ki.style.outlineStyle=_o,Ki=void 0,_o=void 0,Ct(window,"keydown",An))}function cl(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Ps(i){var a=i.getBoundingClientRect();return{x:a.width/i.offsetWidth||1,y:a.height/i.offsetHeight||1,boundingClientRect:a}}var mt={__proto__:null,TRANSFORM:Jo,TRANSITION:Yo,TRANSITION_END:va,get:ll,getStyle:Ci,create:Ot,remove:xt,empty:Xo,toFront:Zi,toBack:Vi,hasClass:Qo,addClass:wt,removeClass:Rt,setClass:yo,getClass:Bn,setOpacity:Gn,testProp:Ls,setTransform:Ei,setPosition:dn,getPosition:Ti,get disableTextSelection(){return es},get enableTextSelection(){return Gi},disableImageDrag:_a,enableImageDrag:hi,preventOutline:ks,restoreOutline:An,getSizedParentNode:cl,getScale:Ps};function yt(i,a,f,g){if(a&&typeof a=="object")for(var k in a)xo(i,k,a[k],f);else{a=P(a);for(var q=0,oe=a.length;q<oe;q++)xo(i,a[q],f,g)}return this}var Gr="_leaflet_events";function Ct(i,a,f,g){if(arguments.length===1)xa(i),delete i[Gr];else if(a&&typeof a=="object")for(var k in a)ns(i,k,a[k],f);else if(a=P(a),arguments.length===2)xa(i,function(xe){return J(a,xe)!==-1});else for(var q=0,oe=a.length;q<oe;q++)ns(i,a[q],f,g);return this}function xa(i,a){for(var f in i[Gr]){var g=f.split(/\d/)[0];(!a||a(g))&&ns(i,g,null,null,f)}}var As={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function xo(i,a,f,g){var k=a+h(f)+(g?"_"+h(g):"");if(i[Gr]&&i[Gr][k])return this;var q=function(xe){return f.call(g||i,xe||window.event)},oe=q;!Ge.touchNative&&Ge.pointer&&a.indexOf("touch")===0?q=ji(i,a,q):Ge.touch&&a==="dblclick"?q=al(i,q):"addEventListener"in i?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?i.addEventListener(As[a]||a,q,Ge.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(q=function(xe){xe=xe||window.event,wo(i,xe)&&oe(xe)},i.addEventListener(As[a],q,!1)):i.addEventListener(a,oe,!1):i.attachEvent("on"+a,q),i[Gr]=i[Gr]||{},i[Gr][k]=q}function ns(i,a,f,g,k){k=k||a+h(f)+(g?"_"+h(g):"");var q=i[Gr]&&i[Gr][k];if(!q)return this;!Ge.touchNative&&Ge.pointer&&a.indexOf("touch")===0?Vo(i,a,q):Ge.touch&&a==="dblclick"?yu(i,q):"removeEventListener"in i?i.removeEventListener(As[a]||a,q,!1):i.detachEvent("on"+a,q),i[Gr][k]=null}function Ji(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function wa(i){return xo(i,"wheel",Ji),this}function rs(i){return yt(i,"mousedown touchstart dblclick contextmenu",Ji),i._leaflet_disable_click=!0,this}function mn(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Er(i){return mn(i),Ji(i),this}function Yi(i){if(i.composedPath)return i.composedPath();for(var a=[],f=i.target;f;)a.push(f),f=f.parentNode;return a}function hl(i,a){if(!a)return new K(i.clientX,i.clientY);var f=Ps(a),g=f.boundingClientRect;return new K((i.clientX-g.left)/f.x-a.clientLeft,(i.clientY-g.top)/f.y-a.clientTop)}var is=Ge.linux&&Ge.chrome?window.devicePixelRatio:Ge.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function js(i){return Ge.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/is:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function wo(i,a){var f=a.relatedTarget;if(!f)return!0;try{for(;f&&f!==i;)f=f.parentNode}catch{return!1}return f!==i}var fl={__proto__:null,on:yt,off:Ct,stopPropagation:Ji,disableScrollPropagation:wa,disableClickPropagation:rs,preventDefault:mn,stop:Er,getPropagationPath:Yi,getMousePosition:hl,getWheelDelta:js,isExternalTarget:wo,addListener:yt,removeListener:Ct},ba=ve.extend({run:function(i,a,f,g){this.stop(),this._el=i,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=Ti(i),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=O(this._animate,this),this._step()},_step:function(i){var a=+new Date-this._startTime,f=this._duration*1e3;a<f?this._runFrame(this._easeOut(a/f),i):(this._runFrame(1),this._complete())},_runFrame:function(i,a){var f=this._startPos.add(this._offset.multiplyBy(i));a&&f._round(),dn(this._el,f),this.fire("step")},_complete:function(){R(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),jt=ve.extend({options:{crs:Ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,a){a=C(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(re(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yo&&Ge.any3d&&!Ge.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),yt(this._proxy,va,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,a,f){if(a=a===void 0?this._zoom:this._limitZoom(a),i=this._limitCenter(re(i),a,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=o({animate:f.animate},f.zoom),f.pan=o({animate:f.animate,duration:f.duration},f.pan));var g=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,a,f.zoom):this._tryAnimatedPan(i,f.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(i,a,f.pan&&f.pan.noMoveStart),this},setZoom:function(i,a){return this._loaded?this.setView(this.getCenter(),i,{zoom:a}):(this._zoom=i,this)},zoomIn:function(i,a){return i=i||(Ge.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,a)},zoomOut:function(i,a){return i=i||(Ge.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,a)},setZoomAround:function(i,a,f){var g=this.getZoomScale(a),k=this.getSize().divideBy(2),q=i instanceof K?i:this.latLngToContainerPoint(i),oe=q.subtract(k).multiplyBy(1-1/g),xe=this.containerPointToLatLng(k.add(oe));return this.setView(xe,a,{zoom:f})},_getBoundsCenterZoom:function(i,a){a=a||{},i=i.getBounds?i.getBounds():G(i);var f=se(a.paddingTopLeft||a.padding||[0,0]),g=se(a.paddingBottomRight||a.padding||[0,0]),k=this.getBoundsZoom(i,!1,f.add(g));if(k=typeof a.maxZoom=="number"?Math.min(a.maxZoom,k):k,k===1/0)return{center:i.getCenter(),zoom:k};var q=g.subtract(f).divideBy(2),oe=this.project(i.getSouthWest(),k),xe=this.project(i.getNorthEast(),k),Le=this.unproject(oe.add(xe).divideBy(2).add(q),k);return{center:Le,zoom:k}},fitBounds:function(i,a){if(i=G(i),!i.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(i,a);return this.setView(f.center,f.zoom,a)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,a){return this.setView(i,this._zoom,{pan:a})},panBy:function(i,a){if(i=se(i).round(),a=a||{},!i.x&&!i.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ba,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){wt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,f,a.duration||.25,a.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,a,f){if(f=f||{},f.animate===!1||!Ge.any3d)return this.setView(i,a,f);this._stop();var g=this.project(this.getCenter()),k=this.project(i),q=this.getSize(),oe=this._zoom;i=re(i),a=a===void 0?oe:a;var xe=Math.max(q.x,q.y),Le=xe*this.getZoomScale(oe,a),ze=k.distanceTo(g)||1,Ye=1.42,at=Ye*Ye;function At(Gt){var ar=Gt?-1:1,Ff=Gt?Le:xe,zf=Le*Le-xe*xe+ar*at*at*ze*ze,Cc=2*Ff*at*ze,Sl=zf/Cc,Nu=Math.sqrt(Sl*Sl+1)-Sl,Ec=Nu<1e-9?-18:Math.log(Nu);return Ec}function sr(Gt){return(Math.exp(Gt)-Math.exp(-Gt))/2}function Cn(Gt){return(Math.exp(Gt)+Math.exp(-Gt))/2}function Qr(Gt){return sr(Gt)/Cn(Gt)}var yr=At(0);function Bs(Gt){return xe*(Cn(yr)/Cn(yr+Ye*Gt))}function Mf(Gt){return xe*(Cn(yr)*Qr(yr+Ye*Gt)-sr(yr))/at}function To(Gt){return 1-Math.pow(1-Gt,1.5)}var mi=Date.now(),zi=(At(1)-yr)/Ye,Rf=f.duration?1e3*f.duration:1e3*zi*.8;function bu(){var Gt=(Date.now()-mi)/Rf,ar=To(Gt)*zi;Gt<=1?(this._flyToFrame=O(bu,this),this._move(this.unproject(g.add(k.subtract(g).multiplyBy(Mf(ar)/ze)),oe),this.getScaleZoom(xe/Bs(ar),oe),{flyTo:!0})):this._move(i,a)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),bu.call(this),this},flyToBounds:function(i,a){var f=this._getBoundsCenterZoom(i,a);return this.flyTo(f.center,f.zoom,a)},setMaxBounds:function(i){return i=G(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var a=this.options.minZoom;return this.options.minZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var a=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,a){this._enforcingBounds=!0;var f=this.getCenter(),g=this._limitCenter(f,this._zoom,G(i));return f.equals(g)||this.panTo(g,a),this._enforcingBounds=!1,this},panInside:function(i,a){a=a||{};var f=se(a.paddingTopLeft||a.padding||[0,0]),g=se(a.paddingBottomRight||a.padding||[0,0]),k=this.project(this.getCenter()),q=this.project(i),oe=this.getPixelBounds(),xe=E([oe.min.add(f),oe.max.subtract(g)]),Le=xe.getSize();if(!xe.contains(q)){this._enforcingBounds=!0;var ze=q.subtract(xe.getCenter()),Ye=xe.extend(q).getSize().subtract(Le);k.x+=ze.x<0?-Ye.x:Ye.x,k.y+=ze.y<0?-Ye.y:Ye.y,this.panTo(this.unproject(k),a),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),g=a.divideBy(2).round(),k=f.divideBy(2).round(),q=g.subtract(k);return!q.x&&!q.y?this:(i.animate&&i.pan?this.panBy(q):(i.pan&&this._rawPanBy(q),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),f=l(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,f,i):navigator.geolocation.getCurrentPosition(a,f,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var a=i.code,f=i.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var a=i.coords.latitude,f=i.coords.longitude,g=new ee(a,f),k=g.toBounds(i.coords.accuracy*2),q=this._locateOptions;if(q.setView){var oe=this.getBoundsZoom(k);this.setView(g,q.maxZoom?Math.min(oe,q.maxZoom):oe)}var xe={latlng:g,bounds:k,timestamp:i.timestamp};for(var Le in i.coords)typeof i.coords[Le]=="number"&&(xe[Le]=i.coords[Le]);this.fire("locationfound",xe)}},addHandler:function(i,a){if(!a)return this;var f=this[i]=new a(this);return this._handlers.push(f),this.options[i]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),xt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(R(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)xt(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,a){var f="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),g=Ot("div",f,a||this._mapPane);return i&&(this._panes[i]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),a=this.unproject(i.getBottomLeft()),f=this.unproject(i.getTopRight());return new T(a,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,a,f){i=G(i),f=se(f||[0,0]);var g=this.getZoom()||0,k=this.getMinZoom(),q=this.getMaxZoom(),oe=i.getNorthWest(),xe=i.getSouthEast(),Le=this.getSize().subtract(f),ze=E(this.project(xe,g),this.project(oe,g)).getSize(),Ye=Ge.any3d?this.options.zoomSnap:1,at=Le.x/ze.x,At=Le.y/ze.y,sr=a?Math.max(at,At):Math.min(at,At);return g=this.getScaleZoom(sr,g),Ye&&(g=Math.round(g/(Ye/100))*(Ye/100),g=a?Math.ceil(g/Ye)*Ye:Math.floor(g/Ye)*Ye),Math.max(k,Math.min(q,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new K(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,a){var f=this._getTopLeftPoint(i,a);return new _e(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,a){var f=this.options.crs;return a=a===void 0?this._zoom:a,f.scale(i)/f.scale(a)},getScaleZoom:function(i,a){var f=this.options.crs;a=a===void 0?this._zoom:a;var g=f.zoom(i*f.scale(a));return isNaN(g)?1/0:g},project:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(re(i),a)},unproject:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(se(i),a)},layerPointToLatLng:function(i){var a=se(i).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(i){var a=this.project(re(i))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(re(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(G(i))},distance:function(i,a){return this.options.crs.distance(re(i),re(a))},containerPointToLayerPoint:function(i){return se(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return se(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var a=this.containerPointToLayerPoint(se(i));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(re(i)))},mouseEventToContainerPoint:function(i){return hl(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var a=this._container=ll(i);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");yt(a,"scroll",this._onScroll,this),this._containerId=h(a)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ge.any3d,wt(i,"leaflet-container"+(Ge.touch?" leaflet-touch":"")+(Ge.retina?" leaflet-retina":"")+(Ge.ielt9?" leaflet-oldie":"")+(Ge.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Ci(i,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),dn(this._mapPane,new K(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(wt(i.markerPane,"leaflet-zoom-hide"),wt(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,a,f){dn(this._mapPane,new K(0,0));var g=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var k=this._zoom!==a;this._moveStart(k,f)._move(i,a)._moveEnd(k),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(i,a){return i&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(i,a,f,g){a===void 0&&(a=this._zoom);var k=this._zoom!==a;return this._zoom=a,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),g?f&&f.pinch&&this.fire("zoom",f):((k||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return R(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){dn(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[h(this._container)]=this;var a=i?Ct:yt;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),Ge.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){R(this._resizeRequest),this._resizeRequest=O(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,a){for(var f=[],g,k=a==="mouseout"||a==="mouseover",q=i.target||i.srcElement,oe=!1;q;){if(g=this._targets[h(q)],g&&(a==="click"||a==="preclick")&&this._draggableMoved(g)){oe=!0;break}if(g&&g.listens(a,!0)&&(k&&!wo(q,i)||(f.push(g),k))||q===this._container)break;q=q.parentNode}return!f.length&&!oe&&!k&&this.listens(a,!0)&&(f=[this]),f},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var a=i.target||i.srcElement;if(!(!this._loaded||a._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(a))){var f=i.type;f==="mousedown"&&ks(a),this._fireDOMEvent(i,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,a,f){if(i.type==="click"){var g=o({},i);g.type="preclick",this._fireDOMEvent(g,g.type,f)}var k=this._findEventTargets(i,a);if(f){for(var q=[],oe=0;oe<f.length;oe++)f[oe].listens(a,!0)&&q.push(f[oe]);k=q.concat(k)}if(k.length){a==="contextmenu"&&mn(i);var xe=k[0],Le={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var ze=xe.getLatLng&&(!xe._radius||xe._radius<=10);Le.containerPoint=ze?this.latLngToContainerPoint(xe.getLatLng()):this.mouseEventToContainerPoint(i),Le.layerPoint=this.containerPointToLayerPoint(Le.containerPoint),Le.latlng=ze?xe.getLatLng():this.layerPointToLatLng(Le.layerPoint)}for(oe=0;oe<k.length;oe++)if(k[oe].fire(a,Le,!0),Le.originalEvent._stopped||k[oe].options.bubblingMouseEvents===!1&&J(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,a=this._handlers.length;i<a;i++)this._handlers[i].disable()},whenReady:function(i,a){return this._loaded?i.call(a||this,{target:this}):this.on("load",i,a),this},_getMapPanePos:function(){return Ti(this._mapPane)||new K(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,a){var f=i&&a!==void 0?this._getNewPixelOrigin(i,a):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,a){var f=this.getSize()._divideBy(2);return this.project(i,a)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,a,f){var g=this._getNewPixelOrigin(f,a);return this.project(i,a)._subtract(g)},_latLngBoundsToNewLayerBounds:function(i,a,f){var g=this._getNewPixelOrigin(f,a);return E([this.project(i.getSouthWest(),a)._subtract(g),this.project(i.getNorthWest(),a)._subtract(g),this.project(i.getSouthEast(),a)._subtract(g),this.project(i.getNorthEast(),a)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,a,f){if(!f)return i;var g=this.project(i,a),k=this.getSize().divideBy(2),q=new _e(g.subtract(k),g.add(k)),oe=this._getBoundsOffset(q,f,a);return Math.abs(oe.x)<=1&&Math.abs(oe.y)<=1?i:this.unproject(g.add(oe),a)},_limitOffset:function(i,a){if(!a)return i;var f=this.getPixelBounds(),g=new _e(f.min.add(i),f.max.add(i));return i.add(this._getBoundsOffset(g,a))},_getBoundsOffset:function(i,a,f){var g=E(this.project(a.getNorthEast(),f),this.project(a.getSouthWest(),f)),k=g.min.subtract(i.min),q=g.max.subtract(i.max),oe=this._rebound(k.x,-q.x),xe=this._rebound(k.y,-q.y);return new K(oe,xe)},_rebound:function(i,a){return i+a>0?Math.round(i-a)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(a))},_limitZoom:function(i){var a=this.getMinZoom(),f=this.getMaxZoom(),g=Ge.any3d?this.options.zoomSnap:1;return g&&(i=Math.round(i/g)*g),Math.max(a,Math.min(f,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Rt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,a){var f=this._getCenterOffset(i)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,a),!0)},_createAnimProxy:function(){var i=this._proxy=Ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(a){var f=Jo,g=this._proxy.style[f];Ei(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),g===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){xt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),a=this.getZoom();Ei(this._proxy,this.project(i,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,a,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(a),k=this._getCenterOffset(i)._divideBy(1-1/g);return f.animate!==!0&&!this.getSize().contains(k)?!1:(O(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(i,a,!0)},this),!0)},_animateZoom:function(i,a,f,g){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=a,wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:a,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Rt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function dl(i,a){return new jt(i,a)}var wn=Q.extend({options:{position:"topright"},initialize:function(i){C(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var a=this._map;return a&&a.removeControl(this),this.options.position=i,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var a=this._container=this.onAdd(i),f=this.getPosition(),g=i._controlCorners[f];return wt(a,"leaflet-control"),f.indexOf("bottom")!==-1?g.insertBefore(a,g.firstChild):g.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(xt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Tr=function(i){return new wn(i)};jt.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},a="leaflet-",f=this._controlContainer=Ot("div",a+"control-container",this._container);function g(k,q){var oe=a+k+" "+a+q;i[k+q]=Ot("div",oe,f)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)xt(this._controlCorners[i]);xt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var pl=wn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,a,f,g){return f<g?-1:g<f?1:0}},initialize:function(i,a,f){C(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in i)this._addLayer(i[g],g);for(g in a)this._addLayer(a[g],g,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return wn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,a){return this._addLayer(i,a),this._map?this._update():this},addOverlay:function(i,a){return this._addLayer(i,a,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var a=this._getLayer(h(i));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Rt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Rt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",a=this._container=Ot("div",i),f=this.options.collapsed;a.setAttribute("aria-haspopup",!0),rs(a),wa(a);var g=this._section=Ot("section",i+"-list");f&&(this._map.on("click",this.collapse,this),yt(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var k=this._layersLink=Ot("a",i+"-toggle",a);k.href="#",k.title="Layers",k.setAttribute("role","button"),yt(k,{keydown:function(q){q.keyCode===13&&this._expandSafely()},click:function(q){mn(q),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=Ot("div",i+"-base",g),this._separator=Ot("div",i+"-separator",g),this._overlaysList=Ot("div",i+"-overlays",g),a.appendChild(g)},_getLayer:function(i){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&h(this._layers[a].layer)===i)return this._layers[a]},_addLayer:function(i,a,f){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:a,overlay:f}),this.options.sortLayers&&this._layers.sort(l(function(g,k){return this.options.sortFunction(g.layer,k.layer,g.name,k.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Xo(this._baseLayersList),Xo(this._overlaysList),this._layerControlInputs=[];var i,a,f,g,k=0;for(f=0;f<this._layers.length;f++)g=this._layers[f],this._addItem(g),a=a||g.overlay,i=i||!g.overlay,k+=g.overlay?0:1;return this.options.hideSingleBase&&(i=i&&k>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=a&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var a=this._getLayer(h(i.target)),f=a.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;f&&this._map.fire(f,a)},_createRadioElement:function(i,a){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(a?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=f,g.firstChild},_addItem:function(i){var a=document.createElement("label"),f=this._map.hasLayer(i.layer),g;i.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=f):g=this._createRadioElement("leaflet-base-layers_"+h(this),f),this._layerControlInputs.push(g),g.layerId=h(i.layer),yt(g,"click",this._onInputClick,this);var k=document.createElement("span");k.innerHTML=" "+i.name;var q=document.createElement("span");a.appendChild(q),q.appendChild(g),q.appendChild(k);var oe=i.overlay?this._overlaysList:this._baseLayersList;return oe.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,a,f,g=[],k=[];this._handlingClick=!0;for(var q=i.length-1;q>=0;q--)a=i[q],f=this._getLayer(a.layerId).layer,a.checked?g.push(f):a.checked||k.push(f);for(q=0;q<k.length;q++)this._map.hasLayer(k[q])&&this._map.removeLayer(k[q]);for(q=0;q<g.length;q++)this._map.hasLayer(g[q])||this._map.addLayer(g[q]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,a,f,g=this._map.getZoom(),k=i.length-1;k>=0;k--)a=i[k],f=this._getLayer(a.layerId).layer,a.disabled=f.options.minZoom!==void 0&&g<f.options.minZoom||f.options.maxZoom!==void 0&&g>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,yt(i,"click",mn),this.expand();var a=this;setTimeout(function(){Ct(i,"click",mn),a._preventClick=!1})}}),bo=function(i,a,f){return new pl(i,a,f)},Or=wn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var a="leaflet-control-zoom",f=Ot("div",a+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,a+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,a+"-out",f,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,a,f,g,k){var q=Ot("a",f,g);return q.innerHTML=i,q.href="#",q.title=a,q.setAttribute("role","button"),q.setAttribute("aria-label",a),rs(q),yt(q,"click",Er),yt(q,"click",k,this),yt(q,"click",this._refocusOnMap,this),q},_updateDisabled:function(){var i=this._map,a="leaflet-disabled";Rt(this._zoomInButton,a),Rt(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(wt(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(wt(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});jt.mergeOptions({zoomControl:!0}),jt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Or,this.addControl(this.zoomControl))});var Na=function(i){return new Or(i)},No=wn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var a="leaflet-control-scale",f=Ot("div",a),g=this.options;return this._addScales(g,a+"-line",f),i.on(g.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),f},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,a,f){i.metric&&(this._mScale=Ot("div",a,f)),i.imperial&&(this._iScale=Ot("div",a,f))},_update:function(){var i=this._map,a=i.getSize().y/2,f=i.distance(i.containerPointToLatLng([0,a]),i.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(f)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var a=this._getRoundNum(i),f=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,f,a/i)},_updateImperial:function(i){var a=i*3.2808399,f,g,k;a>5280?(f=a/5280,g=this._getRoundNum(f),this._updateScale(this._iScale,g+" mi",g/f)):(k=this._getRoundNum(a),this._updateScale(this._iScale,k+" ft",k/a))},_updateScale:function(i,a,f){i.style.width=Math.round(this.options.maxWidth*f)+"px",i.innerHTML=a},_getRoundNum:function(i){var a=Math.pow(10,(Math.floor(i)+"").length-1),f=i/a;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,a*f}}),_u=function(i){return new No(i)},Cs='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Sa=wn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ge.inlineSvg?Cs+" ":"")+"Leaflet</a>"},initialize:function(i){C(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=Ot("div","leaflet-control-attribution"),rs(this._container);for(var a in i._layers)i._layers[a].getAttribution&&this.addAttribution(i._layers[a].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var a in this._attributions)this._attributions[a]&&i.push(a);var f=[];this.options.prefix&&f.push(this.options.prefix),i.length&&f.push(i.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});jt.mergeOptions({attributionControl:!0}),jt.addInitHook(function(){this.options.attributionControl&&new Sa().addTo(this)});var La=function(i){return new Sa(i)};wn.Layers=pl,wn.Zoom=Or,wn.Scale=No,wn.Attribution=Sa,Tr.layers=bo,Tr.zoom=Na,Tr.scale=_u,Tr.attribution=La;var mr=Q.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});mr.addTo=function(i,a){return i.addHandler(a,this),this};var ml={Events:fe},os=Ge.touch?"touchstart mousedown":"mousedown",Kr=ve.extend({options:{clickTolerance:3},initialize:function(i,a,f,g){C(this,g),this._element=i,this._dragStartTarget=a||i,this._preventOutline=f},enable:function(){this._enabled||(yt(this._dragStartTarget,os,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Kr._dragging===this&&this.finishDrag(!0),Ct(this._dragStartTarget,os,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Qo(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Kr._dragging===this&&this.finishDrag();return}if(!(Kr._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Kr._dragging=this,this._preventOutline&&ks(this._element),_a(),es(),!this._moving)){this.fire("down");var a=i.touches?i.touches[0]:i,f=cl(this._element);this._startPoint=new K(a.clientX,a.clientY),this._startPos=Ti(this._element),this._parentScale=Ps(f);var g=i.type==="mousedown";yt(document,g?"mousemove":"touchmove",this._onMove,this),yt(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var a=i.touches&&i.touches.length===1?i.touches[0]:i,f=new K(a.clientX,a.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,mn(i),this._moved||(this.fire("dragstart"),this._moved=!0,wt(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),dn(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Rt(document.body,"leaflet-dragging"),this._lastTarget&&(Rt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ct(document,"mousemove touchmove",this._onMove,this),Ct(document,"mouseup touchend touchcancel",this._onUp,this),hi(),Gi();var a=this._moved&&this._moving;this._moving=!1,Kr._dragging=!1,a&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Es(i,a,f){var g,k=[1,4,2,8],q,oe,xe,Le,ze,Ye,at,At;for(q=0,Ye=i.length;q<Ye;q++)i[q]._code=Ae(i[q],a);for(xe=0;xe<4;xe++){for(at=k[xe],g=[],q=0,Ye=i.length,oe=Ye-1;q<Ye;oe=q++)Le=i[q],ze=i[oe],Le._code&at?ze._code&at||(At=ye(ze,Le,at,a,f),At._code=Ae(At,a),g.push(At)):(ze._code&at&&(At=ye(ze,Le,at,a,f),At._code=Ae(At,a),g.push(At)),g.push(Le));i=g}return i}function ka(i,a){var f,g,k,q,oe,xe,Le,ze,Ye;if(!i||i.length===0)throw new Error("latlngs not passed");et(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var at=re([0,0]),At=G(i),sr=At.getNorthWest().distanceTo(At.getSouthWest())*At.getNorthEast().distanceTo(At.getNorthWest());sr<1700&&(at=Pa(i));var Cn=i.length,Qr=[];for(f=0;f<Cn;f++){var yr=re(i[f]);Qr.push(a.project(re([yr.lat-at.lat,yr.lng-at.lng])))}for(xe=Le=ze=0,f=0,g=Cn-1;f<Cn;g=f++)k=Qr[f],q=Qr[g],oe=k.y*q.x-q.y*k.x,Le+=(k.x+q.x)*oe,ze+=(k.y+q.y)*oe,xe+=oe*3;xe===0?Ye=Qr[0]:Ye=[Le/xe,ze/xe];var Bs=a.unproject(se(Ye));return re([Bs.lat+at.lat,Bs.lng+at.lng])}function Pa(i){for(var a=0,f=0,g=0,k=0;k<i.length;k++){var q=re(i[k]);a+=q.lat,f+=q.lng,g++}return re([a/g,f/g])}var Ts={__proto__:null,clipPolygon:Es,polygonCenter:ka,centroid:Pa};function So(i,a){if(!a||!i.length)return i.slice();var f=a*a;return i=M(i,f),i=Aa(i,f),i}function Os(i,a,f){return Math.sqrt(Ke(i,a,f,!0))}function Lo(i,a,f){return Ke(i,a,f)}function Aa(i,a){var f=i.length,g=typeof Uint8Array<"u"?Uint8Array:Array,k=new g(f);k[0]=k[f-1]=1,m(i,k,a,0,f-1);var q,oe=[];for(q=0;q<f;q++)k[q]&&oe.push(i[q]);return oe}function m(i,a,f,g,k){var q=0,oe,xe,Le;for(xe=g+1;xe<=k-1;xe++)Le=Ke(i[xe],i[g],i[k],!0),Le>q&&(oe=xe,q=Le);q>f&&(a[oe]=1,m(i,a,f,g,oe),m(i,a,f,oe,k))}function M(i,a){for(var f=[i[0]],g=1,k=0,q=i.length;g<q;g++)qe(i[g],i[k])>a&&(f.push(i[g]),k=g);return k<q-1&&f.push(i[q-1]),f}var te;function le(i,a,f,g,k){var q=g?te:Ae(i,f),oe=Ae(a,f),xe,Le,ze;for(te=oe;;){if(!(q|oe))return[i,a];if(q&oe)return!1;xe=q||oe,Le=ye(i,a,xe,f,k),ze=Ae(Le,f),xe===q?(i=Le,q=ze):(a=Le,oe=ze)}}function ye(i,a,f,g,k){var q=a.x-i.x,oe=a.y-i.y,xe=g.min,Le=g.max,ze,Ye;return f&8?(ze=i.x+q*(Le.y-i.y)/oe,Ye=Le.y):f&4?(ze=i.x+q*(xe.y-i.y)/oe,Ye=xe.y):f&2?(ze=Le.x,Ye=i.y+oe*(Le.x-i.x)/q):f&1&&(ze=xe.x,Ye=i.y+oe*(xe.x-i.x)/q),new K(ze,Ye,k)}function Ae(i,a){var f=0;return i.x<a.min.x?f|=1:i.x>a.max.x&&(f|=2),i.y<a.min.y?f|=4:i.y>a.max.y&&(f|=8),f}function qe(i,a){var f=a.x-i.x,g=a.y-i.y;return f*f+g*g}function Ke(i,a,f,g){var k=a.x,q=a.y,oe=f.x-k,xe=f.y-q,Le=oe*oe+xe*xe,ze;return Le>0&&(ze=((i.x-k)*oe+(i.y-q)*xe)/Le,ze>1?(k=f.x,q=f.y):ze>0&&(k+=oe*ze,q+=xe*ze)),oe=i.x-k,xe=i.y-q,g?oe*oe+xe*xe:new K(k,q)}function et(i){return!F(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function _t(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),et(i)}function gt(i,a){var f,g,k,q,oe,xe,Le,ze;if(!i||i.length===0)throw new Error("latlngs not passed");et(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Ye=re([0,0]),at=G(i),At=at.getNorthWest().distanceTo(at.getSouthWest())*at.getNorthEast().distanceTo(at.getNorthWest());At<1700&&(Ye=Pa(i));var sr=i.length,Cn=[];for(f=0;f<sr;f++){var Qr=re(i[f]);Cn.push(a.project(re([Qr.lat-Ye.lat,Qr.lng-Ye.lng])))}for(f=0,g=0;f<sr-1;f++)g+=Cn[f].distanceTo(Cn[f+1])/2;if(g===0)ze=Cn[0];else for(f=0,q=0;f<sr-1;f++)if(oe=Cn[f],xe=Cn[f+1],k=oe.distanceTo(xe),q+=k,q>g){Le=(q-g)/k,ze=[xe.x-Le*(xe.x-oe.x),xe.y-Le*(xe.y-oe.y)];break}var yr=a.unproject(se(ze));return re([yr.lat+Ye.lat,yr.lng+Ye.lng])}var It={__proto__:null,simplify:So,pointToSegmentDistance:Os,closestPointOnSegment:Lo,clipSegment:le,_getEdgeIntersection:ye,_getBitCode:Ae,_sqClosestPointOnSegment:Ke,isFlat:et,_flat:_t,polylineCenter:gt},en={project:function(i){return new K(i.lng,i.lat)},unproject:function(i){return new ee(i.y,i.x)},bounds:new _e([-180,-90],[180,90])},on={R:6378137,R_MINOR:6356752314245179e-9,bounds:new _e([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var a=Math.PI/180,f=this.R,g=i.lat*a,k=this.R_MINOR/f,q=Math.sqrt(1-k*k),oe=q*Math.sin(g),xe=Math.tan(Math.PI/4-g/2)/Math.pow((1-oe)/(1+oe),q/2);return g=-f*Math.log(Math.max(xe,1e-10)),new K(i.lng*a*f,g)},unproject:function(i){for(var a=180/Math.PI,f=this.R,g=this.R_MINOR/f,k=Math.sqrt(1-g*g),q=Math.exp(-i.y/f),oe=Math.PI/2-2*Math.atan(q),xe=0,Le=.1,ze;xe<15&&Math.abs(Le)>1e-7;xe++)ze=k*Math.sin(oe),ze=Math.pow((1-ze)/(1+ze),k/2),Le=Math.PI/2-2*Math.atan(q*ze)-oe,oe+=Le;return new ee(oe*a,i.x*a/f)}},bn={__proto__:null,LonLat:en,Mercator:on,SphericalMercator:Oe},Kn=o({},he,{code:"EPSG:3395",projection:on,transformation:function(){var i=.5/(Math.PI*on.R);return Be(i,.5,-i,.5)}()}),jn=o({},he,{code:"EPSG:4326",projection:en,transformation:Be(1/180,1,-1/180,.5)}),fi=o({},pe,{projection:en,transformation:Be(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,a){var f=a.lng-i.lng,g=a.lat-i.lat;return Math.sqrt(f*f+g*g)},infinite:!0});pe.Earth=he,pe.EPSG3395=Kn,pe.EPSG3857=Ue,pe.EPSG900913=Ze,pe.EPSG4326=jn,pe.Simple=fi;var ln=ve.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[h(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[h(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var a=i.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var f=this.getEvents();a.on(f,this),this.once("remove",function(){a.off(f,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});jt.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var a=h(i);return this._layers[a]?this:(this._layers[a]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var a=h(i);return this._layers[a]?(this._loaded&&i.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return h(i)in this._layers},eachLayer:function(i,a){for(var f in this._layers)i.call(a,this._layers[f]);return this},_addLayers:function(i){i=i?F(i)?i:[i]:[];for(var a=0,f=i.length;a<f;a++)this.addLayer(i[a])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[h(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var a=h(i);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,a=-1/0,f=this._getZoomSpan();for(var g in this._zoomBoundLayers){var k=this._zoomBoundLayers[g].options;i=k.minZoom===void 0?i:Math.min(i,k.minZoom),a=k.maxZoom===void 0?a:Math.max(a,k.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=i===1/0?void 0:i,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ir=ln.extend({initialize:function(i,a){C(this,a),this._layers={};var f,g;if(i)for(f=0,g=i.length;f<g;f++)this.addLayer(i[f])},addLayer:function(i){var a=this.getLayerId(i);return this._layers[a]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var a=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(i){var a=typeof i=="number"?i:this.getLayerId(i);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var a=Array.prototype.slice.call(arguments,1),f,g;for(f in this._layers)g=this._layers[f],g[i]&&g[i].apply(g,a);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,a){for(var f in this._layers)i.call(a,this._layers[f]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return h(i)}}),gl=function(i,a){return new ir(i,a)},Ir=ir.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),ir.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),ir.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new T;for(var a in this._layers){var f=this._layers[a];i.extend(f.getBounds?f.getBounds():f.getLatLng())}return i}}),ja=function(i,a){return new Ir(i,a)},di=Q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){C(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,a){var f=this._getIconUrl(i);if(!f){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(f,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(g,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(i,a){var f=this.options,g=f[a+"Size"];typeof g=="number"&&(g=[g,g]);var k=se(g),q=se(a==="shadow"&&f.shadowAnchor||f.iconAnchor||k&&k.divideBy(2,!0));i.className="leaflet-marker-"+a+" "+(f.className||""),q&&(i.style.marginLeft=-q.x+"px",i.style.marginTop=-q.y+"px"),k&&(i.style.width=k.x+"px",i.style.height=k.y+"px")},_createImg:function(i,a){return a=a||document.createElement("img"),a.src=i,a},_getIconUrl:function(i){return Ge.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Ca(i){return new di(i)}var Xi=di.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Xi.imagePath!="string"&&(Xi.imagePath=this._detectIconPath()),(this.options.imagePath||Xi.imagePath)+di.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var a=function(f,g,k){var q=g.exec(f);return q&&q[k]};return i=a(i,/^url\((['"])?(.+)\1\)$/,2),i&&a(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=Ot("div","leaflet-default-icon-path",document.body),a=Ci(i,"background-image")||Ci(i,"backgroundImage");if(document.body.removeChild(i),a=this._stripUrl(a),a)return a;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),ss=mr.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Kr(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),wt(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Rt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var a=this._marker,f=a._map,g=this._marker.options.autoPanSpeed,k=this._marker.options.autoPanPadding,q=Ti(a._icon),oe=f.getPixelBounds(),xe=f.getPixelOrigin(),Le=E(oe.min._subtract(xe).add(k),oe.max._subtract(xe).subtract(k));if(!Le.contains(q)){var ze=se((Math.max(Le.max.x,q.x)-Le.max.x)/(oe.max.x-Le.max.x)-(Math.min(Le.min.x,q.x)-Le.min.x)/(oe.min.x-Le.min.x),(Math.max(Le.max.y,q.y)-Le.max.y)/(oe.max.y-Le.max.y)-(Math.min(Le.min.y,q.y)-Le.min.y)/(oe.min.y-Le.min.y)).multiplyBy(g);f.panBy(ze,{animate:!1}),this._draggable._newPos._add(ze),this._draggable._startPos._add(ze),dn(a._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=O(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(R(this._panRequest),this._panRequest=O(this._adjustPan.bind(this,i)))},_onDrag:function(i){var a=this._marker,f=a._shadow,g=Ti(a._icon),k=a._map.layerPointToLatLng(g);f&&dn(f,g),a._latlng=k,i.latlng=k,i.oldLatLng=this._oldLatLng,a.fire("move",i).fire("drag",i)},_onDragEnd:function(i){R(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Nn=ln.extend({options:{icon:new Xi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,a){C(this,a),this._latlng=re(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var a=this._latlng;return this._latlng=re(i),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=i.icon.createIcon(this._icon),g=!1;f!==this._icon&&(this._icon&&this._removeIcon(),g=!0,i.title&&(f.title=i.title),f.tagName==="IMG"&&(f.alt=i.alt||"")),wt(f,a),i.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&yt(f,"focus",this._panOnFocus,this);var k=i.icon.createShadow(this._shadow),q=!1;k!==this._shadow&&(this._removeShadow(),q=!0),k&&(wt(k,a),k.alt=""),this._shadow=k,i.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),k&&q&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ct(this._icon,"focus",this._panOnFocus,this),xt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&xt(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&dn(this._icon,i),this._shadow&&dn(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ss)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ss(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Gn(this._icon,i),this._shadow&&Gn(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var a=this.options.icon.options,f=a.iconSize?se(a.iconSize):se(0,0),g=a.iconAnchor?se(a.iconAnchor):se(0,0);i.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:f.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Is(i,a){return new Nn(i,a)}var Mr=ln.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return C(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Qi=Mr.extend({options:{fill:!0,radius:10},initialize:function(i,a){C(this,a),this._latlng=re(i),this._radius=this.options.radius},setLatLng:function(i){var a=this._latlng;return this._latlng=re(i),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var a=i&&i.radius||this._radius;return Mr.prototype.setStyle.call(this,i),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,a=this._radiusY||i,f=this._clickTolerance(),g=[i+f,a+f];this._pxBounds=new _e(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ea(i,a){return new Qi(i,a)}var Jn=Qi.extend({initialize:function(i,a,f){if(typeof a=="number"&&(a=o({},f,{radius:a})),C(this,a),this._latlng=re(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new T(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Mr.prototype.setStyle,_project:function(){var i=this._latlng.lng,a=this._latlng.lat,f=this._map,g=f.options.crs;if(g.distance===he.distance){var k=Math.PI/180,q=this._mRadius/he.R/k,oe=f.project([a+q,i]),xe=f.project([a-q,i]),Le=oe.add(xe).divideBy(2),ze=f.unproject(Le).lat,Ye=Math.acos((Math.cos(q*k)-Math.sin(a*k)*Math.sin(ze*k))/(Math.cos(a*k)*Math.cos(ze*k)))/k;(isNaN(Ye)||Ye===0)&&(Ye=q/Math.cos(Math.PI/180*a)),this._point=Le.subtract(f.getPixelOrigin()),this._radius=isNaN(Ye)?0:Le.x-f.project([ze,i-Ye]).x,this._radiusY=Le.y-oe.y}else{var at=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(at).x}this._updateBounds()}});function xu(i,a,f){return new Jn(i,a,f)}var Rr=Mr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,a){C(this,a),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var a=1/0,f=null,g=Ke,k,q,oe=0,xe=this._parts.length;oe<xe;oe++)for(var Le=this._parts[oe],ze=1,Ye=Le.length;ze<Ye;ze++){k=Le[ze-1],q=Le[ze];var at=g(i,k,q,!0);at<a&&(a=at,f=g(i,k,q))}return f&&(f.distance=Math.sqrt(a)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,a){return a=a||this._defaultShape(),i=re(i),a.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new T,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return et(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var a=[],f=et(i),g=0,k=i.length;g<k;g++)f?(a[g]=re(i[g]),this._bounds.extend(a[g])):a[g]=this._convertLatLngs(i[g]);return a},_project:function(){var i=new _e;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),a=new K(i,i);this._rawPxBounds&&(this._pxBounds=new _e([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(i,a,f){var g=i[0]instanceof ee,k=i.length,q,oe;if(g){for(oe=[],q=0;q<k;q++)oe[q]=this._map.latLngToLayerPoint(i[q]),f.extend(oe[q]);a.push(oe)}else for(q=0;q<k;q++)this._projectLatlngs(i[q],a,f)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,f,g,k,q,oe,xe,Le;for(f=0,k=0,q=this._rings.length;f<q;f++)for(Le=this._rings[f],g=0,oe=Le.length;g<oe-1;g++)xe=le(Le[g],Le[g+1],i,g,!0),xe&&(a[k]=a[k]||[],a[k].push(xe[0]),(xe[1]!==Le[g+1]||g===oe-2)&&(a[k].push(xe[1]),k++))}},_simplifyPoints:function(){for(var i=this._parts,a=this.options.smoothFactor,f=0,g=i.length;f<g;f++)i[f]=So(i[f],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,a){var f,g,k,q,oe,xe,Le=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(f=0,q=this._parts.length;f<q;f++)for(xe=this._parts[f],g=0,oe=xe.length,k=oe-1;g<oe;k=g++)if(!(!a&&g===0)&&Os(i,xe[k],xe[g])<=Le)return!0;return!1}});function vl(i,a){return new Rr(i,a)}Rr._flat=_t;var qn=Rr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ka(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var a=Rr.prototype._convertLatLngs.call(this,i),f=a.length;return f>=2&&a[0]instanceof ee&&a[0].equals(a[f-1])&&a.pop(),a},_setLatLngs:function(i){Rr.prototype._setLatLngs.call(this,i),et(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return et(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,a=this.options.weight,f=new K(a,a);if(i=new _e(i.min.subtract(f),i.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,k=this._rings.length,q;g<k;g++)q=Es(this._rings[g],i,!0),q.length&&this._parts.push(q)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var a=!1,f,g,k,q,oe,xe,Le,ze;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(q=0,Le=this._parts.length;q<Le;q++)for(f=this._parts[q],oe=0,ze=f.length,xe=ze-1;oe<ze;xe=oe++)g=f[oe],k=f[xe],g.y>i.y!=k.y>i.y&&i.x<(k.x-g.x)*(i.y-g.y)/(k.y-g.y)+g.x&&(a=!a);return a||Rr.prototype._containsPoint.call(this,i,!0)}});function Ms(i,a){return new qn(i,a)}var Jr=Ir.extend({initialize:function(i,a){C(this,a),this._layers={},i&&this.addData(i)},addData:function(i){var a=F(i)?i:i.features,f,g,k;if(a){for(f=0,g=a.length;f<g;f++)k=a[f],(k.geometries||k.geometry||k.features||k.coordinates)&&this.addData(k);return this}var q=this.options;if(q.filter&&!q.filter(i))return this;var oe=as(i,q);return oe?(oe.feature=Yr(i),oe.defaultOptions=oe.options,this.resetStyle(oe),q.onEachFeature&&q.onEachFeature(i,oe),this.addLayer(oe)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(a){this._setLayerStyle(a,i)},this)},_setLayerStyle:function(i,a){i.setStyle&&(typeof a=="function"&&(a=a(i.feature)),i.setStyle(a))}});function as(i,a){var f=i.type==="Feature"?i.geometry:i,g=f?f.coordinates:null,k=[],q=a&&a.pointToLayer,oe=a&&a.coordsToLatLng||to,xe,Le,ze,Ye;if(!g&&!f)return null;switch(f.type){case"Point":return xe=oe(g),eo(q,i,xe,a);case"MultiPoint":for(ze=0,Ye=g.length;ze<Ye;ze++)xe=oe(g[ze]),k.push(eo(q,i,xe,a));return new Ir(k);case"LineString":case"MultiLineString":return Le=Un(g,f.type==="LineString"?0:1,oe),new Rr(Le,a);case"Polygon":case"MultiPolygon":return Le=Un(g,f.type==="Polygon"?1:2,oe),new qn(Le,a);case"GeometryCollection":for(ze=0,Ye=f.geometries.length;ze<Ye;ze++){var at=as({geometry:f.geometries[ze],type:"Feature",properties:i.properties},a);at&&k.push(at)}return new Ir(k);case"FeatureCollection":for(ze=0,Ye=f.features.length;ze<Ye;ze++){var At=as(f.features[ze],a);At&&k.push(At)}return new Ir(k);default:throw new Error("Invalid GeoJSON object.")}}function eo(i,a,f,g){return i?i(a,f):new Nn(f,g&&g.markersInheritOptions&&g)}function to(i){return new ee(i[1],i[0],i[2])}function Un(i,a,f){for(var g=[],k=0,q=i.length,oe;k<q;k++)oe=a?Un(i[k],a-1,f):(f||to)(i[k]),g.push(oe);return g}function $n(i,a){return i=re(i),i.alt!==void 0?[b(i.lng,a),b(i.lat,a),b(i.alt,a)]:[b(i.lng,a),b(i.lat,a)]}function pi(i,a,f,g){for(var k=[],q=0,oe=i.length;q<oe;q++)k.push(a?pi(i[q],et(i[q])?0:a-1,f,g):$n(i[q],g));return!a&&f&&k.length>0&&k.push(k[0].slice()),k}function gr(i,a){return i.feature?o({},i.feature,{geometry:a}):Yr(a)}function Yr(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var ko={toGeoJSON:function(i){return gr(this,{type:"Point",coordinates:$n(this.getLatLng(),i)})}};Nn.include(ko),Jn.include(ko),Qi.include(ko),Rr.include({toGeoJSON:function(i){var a=!et(this._latlngs),f=pi(this._latlngs,a?1:0,!1,i);return gr(this,{type:(a?"Multi":"")+"LineString",coordinates:f})}}),qn.include({toGeoJSON:function(i){var a=!et(this._latlngs),f=a&&!et(this._latlngs[0]),g=pi(this._latlngs,f?2:a?1:0,!0,i);return a||(g=[g]),gr(this,{type:(f?"Multi":"")+"Polygon",coordinates:g})}}),ir.include({toMultiPoint:function(i){var a=[];return this.eachLayer(function(f){a.push(f.toGeoJSON(i).geometry.coordinates)}),gr(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(i){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(i);var f=a==="GeometryCollection",g=[];return this.eachLayer(function(k){if(k.toGeoJSON){var q=k.toGeoJSON(i);if(f)g.push(q.geometry);else{var oe=Yr(q);oe.type==="FeatureCollection"?g.push.apply(g,oe.features):g.push(oe)}}}),f?gr(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function Oi(i,a){return new Jr(i,a)}var gn=Oi,Po=ln.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,a,f){this._url=i,this._bounds=G(a),C(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){xt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Zi(this._image),this},bringToBack:function(){return this._map&&Vi(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=G(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",a=this._image=i?this._url:Ot("img");if(wt(a,"leaflet-image-layer"),this._zoomAnimated&&wt(a,"leaflet-zoom-animated"),this.options.className&&wt(a,this.options.className),a.onselectstart=x,a.onmousemove=x,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(i){var a=this._map.getZoomScale(i.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Ei(this._image,f,a)},_reset:function(){var i=this._image,a=new _e(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=a.getSize();dn(i,a.min),i.style.width=f.x+"px",i.style.height=f.y+"px"},_updateOpacity:function(){Gn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),or=function(i,a,f){return new Po(i,a,f)},Fr=Po.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",a=this._image=i?this._url:Ot("video");if(wt(a,"leaflet-image-layer"),this._zoomAnimated&&wt(a,"leaflet-zoom-animated"),this.options.className&&wt(a,this.options.className),a.onselectstart=x,a.onmousemove=x,a.onloadeddata=l(this.fire,this,"load"),i){for(var f=a.getElementsByTagName("source"),g=[],k=0;k<f.length;k++)g.push(f[k].src);this._url=f.length>0?g:[a.src];return}F(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var q=0;q<this._url.length;q++){var oe=Ot("source");oe.src=this._url[q],a.appendChild(oe)}}});function Rs(i,a,f){return new Fr(i,a,f)}var Ta=Po.extend({_initImage:function(){var i=this._image=this._url;wt(i,"leaflet-image-layer"),this._zoomAnimated&&wt(i,"leaflet-zoom-animated"),this.options.className&&wt(i,this.options.className),i.onselectstart=x,i.onmousemove=x}});function Oa(i,a,f){return new Ta(i,a,f)}var Yn=ln.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,a){i&&(i instanceof ee||F(i))?(this._latlng=re(i),C(this,a)):(C(this,i),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Gn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Gn(this._container,1),this.bringToFront(),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Gn(this._container,0),this._removeTimeout=setTimeout(l(xt,void 0,this._container),200)):xt(this._container),this.options.interactive&&(Rt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=re(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Zi(this._container),this},bringToBack:function(){return this._map&&Vi(this._container),this},_prepareOpen:function(i){var a=this._source;if(!a._map)return!1;if(a instanceof Ir){a=null;var f=this._source._layers;for(var g in f)if(f[g]._map){a=f[g];break}if(!a)return!1;this._source=a}if(!i)if(a.getCenter)i=a.getCenter();else if(a.getLatLng)i=a.getLatLng();else if(a.getBounds)i=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")i.innerHTML=a;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),a=se(this.options.offset),f=this._getAnchor();this._zoomAnimated?dn(this._container,i.add(f)):a=a.add(i).add(f);var g=this._containerBottom=-a.y,k=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=g+"px",this._container.style.left=k+"px"}},_getAnchor:function(){return[0,0]}});jt.include({_initOverlay:function(i,a,f,g){var k=a;return k instanceof i||(k=new i(g).setContent(a)),f&&k.setLatLng(f),k}}),ln.include({_initOverlay:function(i,a,f,g){var k=f;return k instanceof i?(C(k,g),k._source=this):(k=a&&!g?a:new i(g,this),k.setContent(f)),k}});var Ii=Yn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Yn.prototype.openOn.call(this,i)},onAdd:function(i){Yn.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Mr||this._source.on("preclick",Ji))},onRemove:function(i){Yn.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Mr||this._source.off("preclick",Ji))},getEvents:function(){var i=Yn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",a=this._container=Ot("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=Ot("div",i+"-content-wrapper",a);if(this._contentNode=Ot("div",i+"-content",f),rs(a),wa(this._contentNode),yt(a,"contextmenu",Ji),this._tipContainer=Ot("div",i+"-tip-container",a),this._tip=Ot("div",i+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=Ot("a",i+"-close-button",a);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',yt(g,"click",function(k){mn(k),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,a=i.style;a.width="",a.whiteSpace="nowrap";var f=i.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),a.width=f+1+"px",a.whiteSpace="",a.height="";var g=i.offsetHeight,k=this.options.maxHeight,q="leaflet-popup-scrolled";k&&g>k?(a.height=k+"px",wt(i,q)):Rt(i,q),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),f=this._getAnchor();dn(this._container,a.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,a=parseInt(Ci(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+a,g=this._containerWidth,k=new K(this._containerLeft,-f-this._containerBottom);k._add(Ti(this._container));var q=i.layerPointToContainerPoint(k),oe=se(this.options.autoPanPadding),xe=se(this.options.autoPanPaddingTopLeft||oe),Le=se(this.options.autoPanPaddingBottomRight||oe),ze=i.getSize(),Ye=0,at=0;q.x+g+Le.x>ze.x&&(Ye=q.x+g-ze.x+Le.x),q.x-Ye-xe.x<0&&(Ye=q.x-xe.x),q.y+f+Le.y>ze.y&&(at=q.y+f-ze.y+Le.y),q.y-at-xe.y<0&&(at=q.y-xe.y),(Ye||at)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([Ye,at]))}},_getAnchor:function(){return se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ao=function(i,a){return new Ii(i,a)};jt.mergeOptions({closePopupOnClick:!0}),jt.include({openPopup:function(i,a,f){return this._initOverlay(Ii,i,a,f).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),ln.include({bindPopup:function(i,a){return this._popup=this._initOverlay(Ii,this._popup,i,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Ir||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Er(i);var a=i.layer||i.target;if(this._popup._source===a&&!(a instanceof Mr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=a,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Mi=Yn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Yn.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Yn.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Yn.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",a=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ot("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var a,f,g=this._map,k=this._container,q=g.latLngToContainerPoint(g.getCenter()),oe=g.layerPointToContainerPoint(i),xe=this.options.direction,Le=k.offsetWidth,ze=k.offsetHeight,Ye=se(this.options.offset),at=this._getAnchor();xe==="top"?(a=Le/2,f=ze):xe==="bottom"?(a=Le/2,f=0):xe==="center"?(a=Le/2,f=ze/2):xe==="right"?(a=0,f=ze/2):xe==="left"?(a=Le,f=ze/2):oe.x<q.x?(xe="right",a=0,f=ze/2):(xe="left",a=Le+(Ye.x+at.x)*2,f=ze/2),i=i.subtract(se(a,f,!0)).add(Ye).add(at),Rt(k,"leaflet-tooltip-right"),Rt(k,"leaflet-tooltip-left"),Rt(k,"leaflet-tooltip-top"),Rt(k,"leaflet-tooltip-bottom"),wt(k,"leaflet-tooltip-"+xe),dn(k,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Gn(this._container,i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(a)},_getAnchor:function(){return se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Fs=function(i,a){return new Mi(i,a)};jt.include({openTooltip:function(i,a,f){return this._initOverlay(Mi,i,a,f).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),ln.include({bindTooltip:function(i,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Mi,this._tooltip,i,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var a=i?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[a](f),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Ir||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&(yt(a,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),yt(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var a=i.latlng,f,g;this._tooltip.options.sticky&&i.originalEvent&&(f=this._map.mouseEventToContainerPoint(i.originalEvent),g=this._map.containerPointToLayerPoint(f),a=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(a)}});var jo=di.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var a=i&&i.tagName==="DIV"?i:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Xo(a),a.appendChild(f.html)):a.innerHTML=f.html!==!1?f.html:"",f.bgPos){var g=se(f.bgPos);a.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function Co(i){return new jo(i)}di.Default=Xi;var no=ln.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ge.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){C(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),xt(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Zi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Vi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof K?i:new K(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var a=this.getPane().children,f=-i(-1/0,1/0),g=0,k=a.length,q;g<k;g++)q=a[g].style.zIndex,a[g]!==this._container&&q&&(f=i(f,+q));isFinite(f)&&(this.options.zIndex=f+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ge.ielt9){Gn(this._container,this.options.opacity);var i=+new Date,a=!1,f=!1;for(var g in this._tiles){var k=this._tiles[g];if(!(!k.current||!k.loaded)){var q=Math.min(1,(i-k.loaded)/200);Gn(k.el,q),q<1?a=!0:(k.active?f=!0:this._onOpaqueTile(k),k.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),a&&(R(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=Ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,a=this.options.maxZoom;if(i!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===i?(this._levels[f].el.style.zIndex=a-Math.abs(i-f),this._onUpdateLevel(f)):(xt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var g=this._levels[i],k=this._map;return g||(g=this._levels[i]={},g.el=Ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=a,g.origin=k.project(k.unproject(k.getPixelOrigin()),i).round(),g.zoom=i,this._setZoomTransform(g,k.getCenter(),k.getZoom()),x(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var i,a,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)a=this._tiles[i],a.retain=a.current;for(i in this._tiles)if(a=this._tiles[i],a.current&&!a.active){var g=a.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var a in this._tiles)this._tiles[a].coords.z===i&&this._removeTile(a)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)xt(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,a,f,g){var k=Math.floor(i/2),q=Math.floor(a/2),oe=f-1,xe=new K(+k,+q);xe.z=+oe;var Le=this._tileCoordsToKey(xe),ze=this._tiles[Le];return ze&&ze.active?(ze.retain=!0,!0):(ze&&ze.loaded&&(ze.retain=!0),oe>g?this._retainParent(k,q,oe,g):!1)},_retainChildren:function(i,a,f,g){for(var k=2*i;k<2*i+2;k++)for(var q=2*a;q<2*a+2;q++){var oe=new K(k,q);oe.z=f+1;var xe=this._tileCoordsToKey(oe),Le=this._tiles[xe];if(Le&&Le.active){Le.retain=!0;continue}else Le&&Le.loaded&&(Le.retain=!0);f+1<g&&this._retainChildren(k,q,f+1,g)}},_resetView:function(i){var a=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var a=this.options;return a.minNativeZoom!==void 0&&i<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<i?a.maxNativeZoom:i},_setView:function(i,a,f,g){var k=Math.round(a);this.options.maxZoom!==void 0&&k>this.options.maxZoom||this.options.minZoom!==void 0&&k<this.options.minZoom?k=void 0:k=this._clampZoom(k);var q=this.options.updateWhenZooming&&k!==this._tileZoom;(!g||q)&&(this._tileZoom=k,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),k!==void 0&&this._update(i),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(i,a)},_setZoomTransforms:function(i,a){for(var f in this._levels)this._setZoomTransform(this._levels[f],i,a)},_setZoomTransform:function(i,a,f){var g=this._map.getZoomScale(f,i.zoom),k=i.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(a,f)).round();Ge.any3d?Ei(i.el,k,g):dn(i.el,k)},_resetGrid:function(){var i=this._map,a=i.options.crs,f=this._tileSize=this.getTileSize(),g=this._tileZoom,k=this._map.getPixelWorldBounds(this._tileZoom);k&&(this._globalTileRange=this._pxBoundsToTileRange(k)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,a.wrapLng[0]],g).x/f.x),Math.ceil(i.project([0,a.wrapLng[1]],g).x/f.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([a.wrapLat[0],0],g).y/f.x),Math.ceil(i.project([a.wrapLat[1],0],g).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var a=this._map,f=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),g=a.getZoomScale(f,this._tileZoom),k=a.project(i,this._tileZoom).floor(),q=a.getSize().divideBy(g*2);return new _e(k.subtract(q),k.add(q))},_update:function(i){var a=this._map;if(a){var f=this._clampZoom(a.getZoom());if(i===void 0&&(i=a.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(i),k=this._pxBoundsToTileRange(g),q=k.getCenter(),oe=[],xe=this.options.keepBuffer,Le=new _e(k.getBottomLeft().subtract([xe,-xe]),k.getTopRight().add([xe,-xe]));if(!(isFinite(k.min.x)&&isFinite(k.min.y)&&isFinite(k.max.x)&&isFinite(k.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ze in this._tiles){var Ye=this._tiles[ze].coords;(Ye.z!==this._tileZoom||!Le.contains(new K(Ye.x,Ye.y)))&&(this._tiles[ze].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(i,f);return}for(var at=k.min.y;at<=k.max.y;at++)for(var At=k.min.x;At<=k.max.x;At++){var sr=new K(At,at);if(sr.z=this._tileZoom,!!this._isValidTile(sr)){var Cn=this._tiles[this._tileCoordsToKey(sr)];Cn?Cn.current=!0:oe.push(sr)}}if(oe.sort(function(yr,Bs){return yr.distanceTo(q)-Bs.distanceTo(q)}),oe.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qr=document.createDocumentFragment();for(At=0;At<oe.length;At++)this._addTile(oe[At],Qr);this._level.el.appendChild(Qr)}}}},_isValidTile:function(i){var a=this._map.options.crs;if(!a.infinite){var f=this._globalTileRange;if(!a.wrapLng&&(i.x<f.min.x||i.x>f.max.x)||!a.wrapLat&&(i.y<f.min.y||i.y>f.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(i);return G(this.options.bounds).overlaps(g)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var a=this._map,f=this.getTileSize(),g=i.scaleBy(f),k=g.add(f),q=a.unproject(g,i.z),oe=a.unproject(k,i.z);return[q,oe]},_tileCoordsToBounds:function(i){var a=this._tileCoordsToNwSe(i),f=new T(a[0],a[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var a=i.split(":"),f=new K(+a[0],+a[1]);return f.z=+a[2],f},_removeTile:function(i){var a=this._tiles[i];a&&(xt(a.el),delete this._tiles[i],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){wt(i,"leaflet-tile");var a=this.getTileSize();i.style.width=a.x+"px",i.style.height=a.y+"px",i.onselectstart=x,i.onmousemove=x,Ge.ielt9&&this.options.opacity<1&&Gn(i,this.options.opacity)},_addTile:function(i,a){var f=this._getTilePos(i),g=this._tileCoordsToKey(i),k=this.createTile(this._wrapCoords(i),l(this._tileReady,this,i));this._initTile(k),this.createTile.length<2&&O(l(this._tileReady,this,i,null,k)),dn(k,f),this._tiles[g]={el:k,coords:i,current:!0},a.appendChild(k),this.fire("tileloadstart",{tile:k,coords:i})},_tileReady:function(i,a,f){a&&this.fire("tileerror",{error:a,tile:f,coords:i});var g=this._tileCoordsToKey(i);f=this._tiles[g],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Gn(f.el,0),R(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),a||(wt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ge.ielt9||!this._map._fadeAnimated?O(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var a=new K(this._wrapX?v(i.x,this._wrapX):i.x,this._wrapY?v(i.y,this._wrapY):i.y);return a.z=i.z,a},_pxBoundsToTileRange:function(i){var a=this.getTileSize();return new _e(i.min.unscaleBy(a).floor(),i.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Xr(i){return new no(i)}var Hn=no.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,a){this._url=i,a=C(this,a),a.detectRetina&&Ge.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,a){return this._url===i&&a===void 0&&(a=!0),this._url=i,a||this.redraw(),this},createTile:function(i,a){var f=document.createElement("img");return yt(f,"load",l(this._tileOnLoad,this,a,f)),yt(f,"error",l(this._tileOnError,this,a,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(i),f},getTileUrl:function(i){var a={r:Ge.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-i.y;this.options.tms&&(a.y=f),a["-y"]=f}return A(this._url,o(a,this.options))},_tileOnLoad:function(i,a){Ge.ielt9?setTimeout(l(i,this,null,a),0):i(null,a)},_tileOnError:function(i,a,f){var g=this.options.errorTileUrl;g&&a.getAttribute("src")!==g&&(a.src=g),i(f,a)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,a=this.options.maxZoom,f=this.options.zoomReverse,g=this.options.zoomOffset;return f&&(i=a-i),i+g},_getSubdomain:function(i){var a=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var i,a;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(a=this._tiles[i].el,a.onload=x,a.onerror=x,!a.complete)){a.src=ie;var f=this._tiles[i].coords;xt(a),delete this._tiles[i],this.fire("tileabort",{tile:a,coords:f})}},_removeTile:function(i){var a=this._tiles[i];if(a)return a.el.setAttribute("src",ie),no.prototype._removeTile.call(this,i)},_tileReady:function(i,a,f){if(!(!this._map||f&&f.getAttribute("src")===ie))return no.prototype._tileReady.call(this,i,a,f)}});function Wt(i,a){return new Hn(i,a)}var Zt=Hn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,a){this._url=i;var f=o({},this.defaultWmsParams);for(var g in a)g in this.options||(f[g]=a[g]);a=C(this,a);var k=a.detectRetina&&Ge.retina?2:1,q=this.getTileSize();f.width=q.x*k,f.height=q.y*k,this.wmsParams=f},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,Hn.prototype.onAdd.call(this,i)},getTileUrl:function(i){var a=this._tileCoordsToNwSe(i),f=this._crs,g=E(f.project(a[0]),f.project(a[1])),k=g.min,q=g.max,oe=(this._wmsVersion>=1.3&&this._crs===jn?[k.y,k.x,q.y,q.x]:[k.x,k.y,q.x,q.y]).join(","),xe=Hn.prototype.getTileUrl.call(this,i);return xe+U(this.wmsParams,xe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+oe},setParams:function(i,a){return o(this.wmsParams,i),a||this.redraw(),this}});function vn(i,a){return new Zt(i,a)}Hn.WMS=Zt,Wt.wms=vn;var Vt=ln.extend({options:{padding:.1},initialize:function(i){C(this,i),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,a){var f=this._map.getZoomScale(a,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),k=this._map.project(this._center,a),q=g.multiplyBy(-f).add(k).subtract(this._map._getNewPixelOrigin(i,a));Ge.any3d?Ei(this._container,q,f):dn(this._container,q)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,a=this._map.getSize(),f=this._map.containerPointToLayerPoint(a.multiplyBy(-i)).round();this._bounds=new _e(f,f.add(a.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ri=Vt.extend({options:{tolerance:0},getEvents:function(){var i=Vt.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");yt(i,"mousemove",this._onMouseMove,this),yt(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),yt(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){R(this._redrawRequest),delete this._ctx,xt(this._container),Ct(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var a in this._layers)i=this._layers[a],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vt.prototype._update.call(this);var i=this._bounds,a=this._container,f=i.getSize(),g=Ge.retina?2:1;dn(a,i.min),a.width=g*f.x,a.height=g*f.y,a.style.width=f.x+"px",a.style.height=f.y+"px",Ge.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Vt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[h(i)]=i;var a=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var a=i._order,f=a.next,g=a.prev;f?f.prev=g:this._drawLast=g,g?g.next=f:this._drawFirst=f,delete i._order,delete this._layers[h(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var a=i.options.dashArray.split(/[, ]+/),f=[],g,k;for(k=0;k<a.length;k++){if(g=Number(a[k]),isNaN(g))return;f.push(g)}i.options._dashArray=f}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||O(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var a=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new _e,this._redrawBounds.extend(i._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(i._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var a=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,a=this._redrawBounds;if(this._ctx.save(),a){var f=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)i=g.layer,(!a||i._pxBounds&&i._pxBounds.intersects(a))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,a){if(this._drawing){var f,g,k,q,oe=i._parts,xe=oe.length,Le=this._ctx;if(xe){for(Le.beginPath(),f=0;f<xe;f++){for(g=0,k=oe[f].length;g<k;g++)q=oe[f][g],Le[g?"lineTo":"moveTo"](q.x,q.y);a&&Le.closePath()}this._fillStroke(Le,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var a=i._point,f=this._ctx,g=Math.max(Math.round(i._radius),1),k=(Math.max(Math.round(i._radiusY),1)||g)/g;k!==1&&(f.save(),f.scale(1,k)),f.beginPath(),f.arc(a.x,a.y/k,g,0,Math.PI*2,!1),k!==1&&f.restore(),this._fillStroke(f,i)}},_fillStroke:function(i,a){var f=a.options;f.fill&&(i.globalAlpha=f.fillOpacity,i.fillStyle=f.fillColor||f.color,i.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(i.setLineDash&&i.setLineDash(a.options&&a.options._dashArray||[]),i.globalAlpha=f.opacity,i.lineWidth=f.weight,i.strokeStyle=f.color,i.lineCap=f.lineCap,i.lineJoin=f.lineJoin,i.stroke())},_onClick:function(i){for(var a=this._map.mouseEventToLayerPoint(i),f,g,k=this._drawFirst;k;k=k.next)f=k.layer,f.options.interactive&&f._containsPoint(a)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(f))&&(g=f);this._fireEvent(g?[g]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,a)}},_handleMouseOut:function(i){var a=this._hoveredLayer;a&&(Rt(this._container,"leaflet-interactive"),this._fireEvent([a],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,a){if(!this._mouseHoverThrottled){for(var f,g,k=this._drawFirst;k;k=k.next)f=k.layer,f.options.interactive&&f._containsPoint(a)&&(g=f);g!==this._hoveredLayer&&(this._handleMouseOut(i),g&&(wt(this._container,"leaflet-interactive"),this._fireEvent([g],i,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,a,f){this._map._fireDOMEvent(a,f||a.type,i)},_bringToFront:function(i){var a=i._order;if(a){var f=a.next,g=a.prev;if(f)f.prev=g;else return;g?g.next=f:f&&(this._drawFirst=f),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(i)}},_bringToBack:function(i){var a=i._order;if(a){var f=a.next,g=a.prev;if(g)g.next=f;else return;f?f.prev=g:g&&(this._drawLast=g),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(i)}}});function zs(i){return Ge.canvas?new Ri(i):null}var Fi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),yl={_initContainer:function(){this._container=Ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vt.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var a=i._container=Fi("shape");wt(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",i._path=Fi("path"),a.appendChild(i._path),this._updateStyle(i),this._layers[h(i)]=i},_addPath:function(i){var a=i._container;this._container.appendChild(a),i.options.interactive&&i.addInteractiveTarget(a)},_removePath:function(i){var a=i._container;xt(a),i.removeInteractiveTarget(a),delete this._layers[h(i)]},_updateStyle:function(i){var a=i._stroke,f=i._fill,g=i.options,k=i._container;k.stroked=!!g.stroke,k.filled=!!g.fill,g.stroke?(a||(a=i._stroke=Fi("stroke")),k.appendChild(a),a.weight=g.weight+"px",a.color=g.color,a.opacity=g.opacity,g.dashArray?a.dashStyle=F(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=g.lineCap.replace("butt","flat"),a.joinstyle=g.lineJoin):a&&(k.removeChild(a),i._stroke=null),g.fill?(f||(f=i._fill=Fi("fill")),k.appendChild(f),f.color=g.fillColor||g.color,f.opacity=g.fillOpacity):f&&(k.removeChild(f),i._fill=null)},_updateCircle:function(i){var a=i._point.round(),f=Math.round(i._radius),g=Math.round(i._radiusY||f);this._setPath(i,i._empty()?"M0 0":"AL "+a.x+","+a.y+" "+f+","+g+" 0,"+65535*360)},_setPath:function(i,a){i._path.v=a},_bringToFront:function(i){Zi(i._container)},_bringToBack:function(i){Vi(i._container)}},Ds=Ge.vml?Fi:Se,Eo=Vt.extend({_initContainer:function(){this._container=Ds("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ds("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){xt(this._container),Ct(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vt.prototype._update.call(this);var i=this._bounds,a=i.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,f.setAttribute("width",a.x),f.setAttribute("height",a.y)),dn(f,i.min),f.setAttribute("viewBox",[i.min.x,i.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(i){var a=i._path=Ds("path");i.options.className&&wt(a,i.options.className),i.options.interactive&&wt(a,"leaflet-interactive"),this._updateStyle(i),this._layers[h(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){xt(i._path),i.removeInteractiveTarget(i._path),delete this._layers[h(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var a=i._path,f=i.options;a&&(f.stroke?(a.setAttribute("stroke",f.color),a.setAttribute("stroke-opacity",f.opacity),a.setAttribute("stroke-width",f.weight),a.setAttribute("stroke-linecap",f.lineCap),a.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?a.setAttribute("stroke-dasharray",f.dashArray):a.removeAttribute("stroke-dasharray"),f.dashOffset?a.setAttribute("stroke-dashoffset",f.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),f.fill?(a.setAttribute("fill",f.fillColor||f.color),a.setAttribute("fill-opacity",f.fillOpacity),a.setAttribute("fill-rule",f.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(i,a){this._setPath(i,X(i._parts,a))},_updateCircle:function(i){var a=i._point,f=Math.max(Math.round(i._radius),1),g=Math.max(Math.round(i._radiusY),1)||f,k="a"+f+","+g+" 0 1,0 ",q=i._empty()?"M0 0":"M"+(a.x-f)+","+a.y+k+f*2+",0 "+k+-f*2+",0 ";this._setPath(i,q)},_setPath:function(i,a){i._path.setAttribute("d",a)},_bringToFront:function(i){Zi(i._path)},_bringToBack:function(i){Vi(i._path)}});Ge.vml&&Eo.include(yl);function vr(i){return Ge.svg||Ge.vml?new Eo(i):null}jt.include({getRenderer:function(i){var a=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var a=this._paneRenderers[i];return a===void 0&&(a=this._createRenderer({pane:i}),this._paneRenderers[i]=a),a},_createRenderer:function(i){return this.options.preferCanvas&&zs(i)||vr(i)}});var zr=qn.extend({initialize:function(i,a){qn.prototype.initialize.call(this,this._boundsToLatLngs(i),a)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=G(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function _l(i,a){return new zr(i,a)}Eo.create=Ds,Eo.pointsToPath=X,Jr.geometryToLayer=as,Jr.coordsToLatLng=to,Jr.coordsToLatLngs=Un,Jr.latLngToCoords=$n,Jr.latLngsToCoords=pi,Jr.getFeature=gr,Jr.asFeature=Yr,jt.mergeOptions({boxZoom:!0});var Ia=mr.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){yt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){xt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),es(),_a(),this._startPoint=this._map.mouseEventToContainerPoint(i),yt(document,{contextmenu:Er,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=Ot("div","leaflet-zoom-box",this._container),wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var a=new _e(this._point,this._startPoint),f=a.getSize();dn(this._box,a.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(xt(this._box),Rt(this._container,"leaflet-crosshair")),Gi(),hi(),Ct(document,{contextmenu:Er,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new T(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});jt.addInitHook("addHandler","boxZoom",Ia),jt.mergeOptions({doubleClickZoom:!0});var wu=mr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var a=this._map,f=a.getZoom(),g=a.options.zoomDelta,k=i.originalEvent.shiftKey?f-g:f+g;a.options.doubleClickZoom==="center"?a.setZoom(k):a.setZoomAround(i.containerPoint,k)}});jt.addInitHook("addHandler","doubleClickZoom",wu),jt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ma=mr.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Kr(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Rt(this._map._container,"leaflet-grab"),Rt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=G(this._map.options.maxBounds);this._offsetLimit=E(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var a=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(a),this._prunePositions(a)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,a){return i-(i-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;i.x<a.min.x&&(i.x=this._viscousLimit(i.x,a.min.x)),i.y<a.min.y&&(i.y=this._viscousLimit(i.y,a.min.y)),i.x>a.max.x&&(i.x=this._viscousLimit(i.x,a.max.x)),i.y>a.max.y&&(i.y=this._viscousLimit(i.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,a=Math.round(i/2),f=this._initialWorldOffset,g=this._draggable._newPos.x,k=(g-a+f)%i+a-f,q=(g+a+f)%i-a-f,oe=Math.abs(k+f)<Math.abs(q+f)?k:q;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=oe},_onDragEnd:function(i){var a=this._map,f=a.options,g=!f.inertia||i.noInertia||this._times.length<2;if(a.fire("dragend",i),g)a.fire("moveend");else{this._prunePositions(+new Date);var k=this._lastPos.subtract(this._positions[0]),q=(this._lastTime-this._times[0])/1e3,oe=f.easeLinearity,xe=k.multiplyBy(oe/q),Le=xe.distanceTo([0,0]),ze=Math.min(f.inertiaMaxSpeed,Le),Ye=xe.multiplyBy(ze/Le),at=ze/(f.inertiaDeceleration*oe),At=Ye.multiplyBy(-at/2).round();!At.x&&!At.y?a.fire("moveend"):(At=a._limitOffset(At,a.options.maxBounds),O(function(){a.panBy(At,{duration:at,easeLinearity:oe,noMoveStart:!0,animate:!0})}))}}});jt.addInitHook("addHandler","dragging",Ma),jt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ra=mr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),yt(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ct(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,a=document.documentElement,f=i.scrollTop||a.scrollTop,g=i.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(g,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var a=this._panKeys={},f=this.keyCodes,g,k;for(g=0,k=f.left.length;g<k;g++)a[f.left[g]]=[-1*i,0];for(g=0,k=f.right.length;g<k;g++)a[f.right[g]]=[i,0];for(g=0,k=f.down.length;g<k;g++)a[f.down[g]]=[0,i];for(g=0,k=f.up.length;g<k;g++)a[f.up[g]]=[0,-1*i]},_setZoomDelta:function(i){var a=this._zoomKeys={},f=this.keyCodes,g,k;for(g=0,k=f.zoomIn.length;g<k;g++)a[f.zoomIn[g]]=i;for(g=0,k=f.zoomOut.length;g<k;g++)a[f.zoomOut[g]]=-i},_addHooks:function(){yt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var a=i.keyCode,f=this._map,g;if(a in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(g=this._panKeys[a],i.shiftKey&&(g=se(g).multiplyBy(3)),f.options.maxBounds&&(g=f._limitOffset(se(g),f.options.maxBounds)),f.options.worldCopyJump){var k=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(g)));f.panTo(k)}else f.panBy(g)}else if(a in this._zoomKeys)f.setZoom(f.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;Er(i)}}});jt.addInitHook("addHandler","keyboard",Ra),jt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xl=mr.extend({addHooks:function(){yt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var a=js(i),f=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var g=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),g),Er(i)},_performZoom:function(){var i=this._map,a=i.getZoom(),f=this._map.options.zoomSnap||0;i._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),k=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,q=f?Math.ceil(k/f)*f:k,oe=i._limitZoom(a+(this._delta>0?q:-q))-a;this._delta=0,this._startTime=null,oe&&(i.options.scrollWheelZoom==="center"?i.setZoom(a+oe):i.setZoomAround(this._lastMousePos,a+oe))}});jt.addInitHook("addHandler","scrollWheelZoom",xl);var jc=600;jt.mergeOptions({tapHold:Ge.touchNative&&Ge.safari&&Ge.mobile,tapTolerance:15});var wl=mr.extend({addHooks:function(){yt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var a=i.touches[0];this._startPos=this._newPos=new K(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(yt(document,"touchend",mn),yt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),jc),yt(document,"touchend touchcancel contextmenu",this._cancel,this),yt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Ct(document,"touchend",mn),Ct(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Ct(document,"touchend touchcancel contextmenu",this._cancel,this),Ct(document,"touchmove",this._onMove,this)},_onMove:function(i){var a=i.touches[0];this._newPos=new K(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,a){var f=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});f._simulated=!0,a.target.dispatchEvent(f)}});jt.addInitHook("addHandler","tapHold",wl),jt.mergeOptions({touchZoom:Ge.touch,bounceAtZoomLimits:!0});var bl=mr.extend({addHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),yt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Rt(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var a=this._map;if(!(!i.touches||i.touches.length!==2||a._animatingZoom||this._zooming)){var f=a.mouseEventToContainerPoint(i.touches[0]),g=a.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(f.add(g)._divideBy(2))),this._startDist=f.distanceTo(g),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),yt(document,"touchmove",this._onTouchMove,this),yt(document,"touchend touchcancel",this._onTouchEnd,this),mn(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var a=this._map,f=a.mouseEventToContainerPoint(i.touches[0]),g=a.mouseEventToContainerPoint(i.touches[1]),k=f.distanceTo(g)/this._startDist;if(this._zoom=a.getScaleZoom(k,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&k<1||this._zoom>a.getMaxZoom()&&k>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,k===1)return}else{var q=f._add(g)._divideBy(2)._subtract(this._centerPoint);if(k===1&&q.x===0&&q.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(q),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),R(this._animRequest);var oe=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=O(oe,this,!0),mn(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,R(this._animRequest),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});jt.addInitHook("addHandler","touchZoom",bl),jt.BoxZoom=Ia,jt.DoubleClickZoom=wu,jt.Drag=Ma,jt.Keyboard=Ra,jt.ScrollWheelZoom=xl,jt.TapHold=wl,jt.TouchZoom=bl,n.Bounds=_e,n.Browser=Ge,n.CRS=pe,n.Canvas=Ri,n.Circle=Jn,n.CircleMarker=Qi,n.Class=Q,n.Control=wn,n.DivIcon=jo,n.DivOverlay=Yn,n.DomEvent=fl,n.DomUtil=mt,n.Draggable=Kr,n.Evented=ve,n.FeatureGroup=Ir,n.GeoJSON=Jr,n.GridLayer=no,n.Handler=mr,n.Icon=di,n.ImageOverlay=Po,n.LatLng=ee,n.LatLngBounds=T,n.Layer=ln,n.LayerGroup=ir,n.LineUtil=It,n.Map=jt,n.Marker=Nn,n.Mixin=ml,n.Path=Mr,n.Point=K,n.PolyUtil=Ts,n.Polygon=qn,n.Polyline=Rr,n.Popup=Ii,n.PosAnimation=ba,n.Projection=bn,n.Rectangle=zr,n.Renderer=Vt,n.SVG=Eo,n.SVGOverlay=Ta,n.TileLayer=Hn,n.Tooltip=Mi,n.Transformation=ke,n.Util=ne,n.VideoOverlay=Fr,n.bind=l,n.bounds=E,n.canvas=zs,n.circle=xu,n.circleMarker=Ea,n.control=Tr,n.divIcon=Co,n.extend=o,n.featureGroup=ja,n.geoJSON=Oi,n.geoJson=gn,n.gridLayer=Xr,n.icon=Ca,n.imageOverlay=or,n.latLng=re,n.latLngBounds=G,n.layerGroup=gl,n.map=dl,n.marker=Is,n.point=se,n.polygon=Ms,n.polyline=vl,n.popup=Ao,n.rectangle=_l,n.setOptions=C,n.stamp=h,n.svg=vr,n.svgOverlay=Oa,n.tileLayer=Wt,n.tooltip=Fs,n.transformation=Be,n.version=r,n.videoOverlay=Rs;var Nl=window.L;n.noConflict=function(){return window.L=Nl,this},window.L=n})})(Ap,Ap.exports);var gx=Ap.exports;const Ln=Jp(gx);(function(){function e(t){return this instanceof e?(this._canvas=t=typeof t=="string"?document.getElementById(t):t,this._ctx=t.getContext("2d"),this._width=t.width,this._height=t.height,this._max=1,void this.clear()):new e(t)}e.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(t,n){return this._data=t,this},max:function(t){return this._max=t,this},add:function(t){return this._data.push(t),this},clear:function(){return this._data=[],this},radius:function(t,n){n=n||15;var r=this._circle=document.createElement("canvas"),o=r.getContext("2d"),s=this._r=t+n;return r.width=r.height=2*s,o.shadowOffsetX=o.shadowOffsetY=200,o.shadowBlur=n,o.shadowColor="black",o.beginPath(),o.arc(s-200,s-200,t,0,2*Math.PI,!0),o.closePath(),o.fill(),this},gradient:function(t){var n=document.createElement("canvas"),r=n.getContext("2d"),o=r.createLinearGradient(0,0,0,256);n.width=1,n.height=256;for(var s in t)o.addColorStop(s,t[s]);return r.fillStyle=o,r.fillRect(0,0,1,256),this._grad=r.getImageData(0,0,1,256).data,this},draw:function(t){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var n=this._ctx;n.clearRect(0,0,this._width,this._height);for(var r,o=0,s=this._data.length;s>o;o++)r=this._data[o],n.globalAlpha=Math.max(r[2]/this._max,t||.05),n.drawImage(this._circle,r[0]-this._r,r[1]-this._r);var l=n.getImageData(0,0,this._width,this._height);return this._colorize(l.data,this._grad),n.putImageData(l,0,0),this},_colorize:function(t,n){for(var r,o=3,s=t.length;s>o;o+=4)r=4*t[o],r&&(t[o-3]=n[r],t[o-2]=n[r+1],t[o-1]=n[r+2])}},window.simpleheat=e})(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(e,t){this._latlngs=e,L.setOptions(this,t)},setLatLngs:function(e){return this._latlngs=e,this.redraw()},addLatLng:function(e){return this._latlngs.push(e),this.redraw()},setOptions:function(e){return L.setOptions(this,e),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(e){this._map=e,this._canvas||this._initCanvas(),e._panes.overlayPane.appendChild(this._canvas),e.on("moveend",this._reset,this),e.options.zoomAnimation&&L.Browser.any3d&&e.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(e){e.getPanes().overlayPane.removeChild(this._canvas),e.off("moveend",this._reset,this),e.options.zoomAnimation&&e.off("zoomanim",this._animateZoom,this)},addTo:function(e){return e.addLayer(this),this},_initCanvas:function(){var e=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),t=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);e.style[t]="50% 50%";var n=this._map.getSize();e.width=n.x,e.height=n.y;var r=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(e,"leaflet-zoom-"+(r?"animated":"hide")),this._heat=simpleheat(e),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var e=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,e);var t=this._map.getSize();this._heat._width!==t.x&&(this._canvas.width=this._heat._width=t.x),this._heat._height!==t.y&&(this._canvas.height=this._heat._height=t.y),this._redraw()},_redraw:function(){var e,t,n,r,o,s,l,c,h,p=[],v=this._heat._r,x=this._map.getSize(),b=new L.Bounds(L.point([-v,-v]),x.add([v,v])),w=this.options.max===void 0?1:this.options.max,P=this.options.maxZoom===void 0?this._map.getMaxZoom():this.options.maxZoom,C=1/Math.pow(2,Math.max(0,Math.min(P-this._map.getZoom(),12))),U=v/2,S=[],A=this._map._getMapPanePos(),F=A.x%U,J=A.y%U;for(e=0,t=this._latlngs.length;t>e;e++)if(n=this._map.latLngToContainerPoint(this._latlngs[e]),b.contains(n)){o=Math.floor((n.x-F)/U)+2,s=Math.floor((n.y-J)/U)+2;var ie=this._latlngs[e].alt!==void 0?this._latlngs[e].alt:this._latlngs[e][2]!==void 0?+this._latlngs[e][2]:1;h=ie*C,S[s]=S[s]||[],r=S[s][o],r?(r[0]=(r[0]*r[2]+n.x*h)/(r[2]+h),r[1]=(r[1]*r[2]+n.y*h)/(r[2]+h),r[2]+=h):S[s][o]=[n.x,n.y,h]}for(e=0,t=S.length;t>e;e++)if(S[e])for(l=0,c=S[e].length;c>l;l++)r=S[e][l],r&&p.push([Math.round(r[0]),Math.round(r[1]),Math.min(r[2],w)]);this._heat.data(p).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._getCenterOffset(e.center)._multiplyBy(-t).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,n,t):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(n)+" scale("+t+")"}}),L.heatLayer=function(e,t){return new L.HeatLayer(e,t)};delete Ln.Icon.Default.prototype._getIconUrl;Ln.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const wd=(e,t,n="default")=>{const o={school:{default:4,walking:4,cycling:12,public_transport:15},hospital:{default:20,ambulance:20,emergency:25,car:18},polyclinic:{default:8,walking:5,public_transport:12,car:20},clinic:{default:6,walking:5,public_transport:10,car:18},fire_station:{default:25,emergency:25,normal_traffic:15,heavy_traffic:12},police_station:{default:28,emergency:30,patrol:25,normal_traffic:18},post_office:{default:5,walking:4,public_transport:12,car:20}}[t]||{default:15};return(o[n]||o.default||15)*e/60*1e3},vx=({facilities:e,recommendations:t,populationData:n,selectedFacilityType:r,activeLayers:o,maxTravelTime:s=30,showCoverageZones:l=!0,onShowFacilityDetails:c,darkMode:h=!1})=>{var ie;const p=st.useRef(null),v=st.useRef(null),x=st.useRef({facilities:null,recommendations:null,heatmap:null,coverage:null,individualCoverage:null}),[b,w]=st.useState(null),[P,C]=st.useState(!1);st.useEffect(()=>(window.showFacilityDetails=H=>{console.log("showFacilityDetails вызвана для ID:",H);try{const Z=e.find(j=>j.id===parseInt(H));Z&&c?c(Z):console.warn("Учреждение не найдено или отсутствует обработчик:",H)}catch(Z){console.error("Ошибка в showFacilityDetails:",Z)}},window.toggleFacilityCoverage=H=>{console.log("toggleFacilityCoverage вызвана для ID:",H);try{const Z=parseInt(H);w(j=>{const z=j===Z?null:Z;return console.log("Переключение радиуса:",j,"->",z),z})}catch(Z){console.error("Ошибка в toggleFacilityCoverage:",Z)}},window.showDetailedPlacementAnalysis=H=>{console.log("Подробный анализ размещения:",H);try{const Z=typeof H=="string"?JSON.parse(H):H,j=document.createElement("div");j.style.cssText=`
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.8);
          z-index: 10000;
          display: flex;
          align-items: center;
          justify-content: center;
          animation: fadeIn 0.3s ease-out;
        `,j.innerHTML=J(Z),document.body.appendChild(j),j.addEventListener("click",V=>{V.target===j&&j.remove()});const z=V=>{V.key==="Escape"&&(j.remove(),document.removeEventListener("keydown",z))};document.addEventListener("keydown",z)}catch(Z){console.error("Ошибка в showDetailedPlacementAnalysis:",Z),alert("Ошибка при открытии подробного анализа")}},console.log("Глобальные функции установлены. Facilities:",e.length,"Selected ID:",b),()=>{delete window.showFacilityDetails,delete window.toggleFacilityCoverage,delete window.showDetailedPlacementAnalysis}),[e,c]),st.useEffect(()=>{if(!v.current){const H=Ln.map(p.current,{zoomControl:!1,attributionControl:!1}).setView([42.8746,74.5698],12);Ln.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors",maxZoom:19}).addTo(H),Ln.control.zoom({position:"topright"}).addTo(H),Ln.control.scale({position:"bottomright",metric:!0,imperial:!1}).addTo(H),v.current=H}return()=>{v.current&&(v.current.remove(),v.current=null)}},[]),st.useEffect(()=>{if(v.current&&(x.current.facilities&&v.current.removeLayer(x.current.facilities),x.current.coverage&&v.current.removeLayer(x.current.coverage),x.current.individualCoverage&&v.current.removeLayer(x.current.individualCoverage),o.facilities&&e.length>0)){const H=Ln.layerGroup(),Z=Ln.layerGroup();e.filter(z=>r==="all"||z.type===r).forEach(z=>{try{if(!z.coordinates||!Array.isArray(z.coordinates)||z.coordinates.length<2){console.warn("Некорректные координаты для учреждения:",z.name);return}const V=U(z.type),O=F(z),R=Ln.marker(z.coordinates,{icon:V}).bindPopup(O,{maxWidth:450,minWidth:320,closeButton:!0,autoPan:!0});R.on("popupopen",()=>{console.log("Popup открыт для учреждения:",z.name,"ID:",z.id),setTimeout(()=>{const ne=document.querySelector(`button[onclick*="showFacilityDetails(${z.id})"]`),Q=document.querySelector(`#coverage-btn-${z.id}`);console.log("Кнопки найдены:",{detailsBtn:!!ne,radiusBtn:!!Q})},100)}),H.addLayer(R)}catch(V){console.error("Ошибка создания маркера для учреждения:",z.name,V)}if(l&&o.facilities){const V=wd(s,z.type),O=A(z.type),R=Ln.circle(z.coordinates,{radius:V,fillColor:O.color,fillOpacity:.1,color:O.color,weight:1,opacity:.3,interactive:!1});Z.addLayer(R)}}),H.addTo(v.current),x.current.facilities=H,l&&(Z.addTo(v.current),x.current.coverage=Z)}},[e,o.facilities,r,s,l]),st.useEffect(()=>{if(!v.current){console.log("Карта ещё не инициализирована");return}if(console.log("Обновление индивидуального радиуса. selectedFacilityId:",b),x.current.individualCoverage&&(v.current.removeLayer(x.current.individualCoverage),x.current.individualCoverage=null,console.log("Предыдущий радиус удален")),b){const H=e.find(Z=>Z.id===b);if(console.log("Найдено учреждение:",H==null?void 0:H.name),H&&H.coordinates)try{const Z=Ln.layerGroup(),j=A(H.type),z=wd(s,H.type);console.log("Радиус покрытия:",z,"метров для",H.type);const V=Ln.circle(H.coordinates,{radius:z,fillColor:j.color,fillOpacity:.2,color:j.color,weight:3,opacity:.8,interactive:!1,dashArray:"10, 5"}),O=Ln.circleMarker(H.coordinates,{radius:8,fillColor:j.color,fillOpacity:.9,color:"white",weight:3,opacity:1,className:"individual-coverage-center"}),R=Ln.marker(H.coordinates,{icon:Ln.divIcon({className:"individual-coverage-label",html:`<div class="coverage-info-card">
                <div class="coverage-header">
                  <span class="coverage-icon">${j.symbol}</span>
                  <span class="coverage-title">${H.name}</span>
                </div>
                <div class="coverage-stats">
                  <span class="coverage-distance">🎯 ${(z/1e3).toFixed(1)} км</span>
                  <span class="coverage-time">⏱️ ${s} мин</span>
                </div>
              </div>`,iconSize:[200,60],iconAnchor:[100,80]})});Z.addLayer(V),Z.addLayer(O),Z.addLayer(R),Z.addTo(v.current),x.current.individualCoverage=Z,v.current.setView(H.coordinates,14,{animate:!0}),console.log("Индивидуальный радиус создан для:",H.name)}catch(Z){console.error("Ошибка создания индивидуального радиуса:",Z)}}},[b,e,s]),st.useEffect(()=>{if(v.current&&(x.current.recommendations&&(v.current.removeLayer(x.current.recommendations),x.current.recommendations=null),o.recommendations&&t&&t.length>0)){const H=Ln.layerGroup();console.log("Создаем слой рекомендаций с",t.length,"рекомендациями"),t.forEach((Z,j)=>{if(Z.coordinates&&Array.isArray(Z.coordinates)&&Z.coordinates.length>=2)try{const z=[Z.coordinates[0],Z.coordinates[1]],V={high:{color:"#dc2626",icon:"🚨",size:"large",pulseDuration:"2s"},medium:{color:"#f59e0b",icon:"⚠️",size:"medium",pulseDuration:"3s"},low:{color:"#059669",icon:"💡",size:"small",pulseDuration:"4s"}},O=V[Z.priority]||V.medium,R=Ln.divIcon({html:`
                <div class="recommendation-marker" style="
                  width: ${O.size==="large"?"48px":O.size==="medium"?"40px":"32px"};
                  height: ${O.size==="large"?"48px":O.size==="medium"?"40px":"32px"};
                  position: relative;
                  z-index: 1000;
                ">
                  <!-- Пульсирующий эффект -->
                  <div style="
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: ${O.color};
                    border-radius: 50%;
                    opacity: 0.3;
                    animation: pulse ${O.pulseDuration} infinite;
                  "></div>
                  
                  <!-- Основной маркер -->
                  <div style="
                    position: relative;
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(135deg, ${O.color}, ${O.color}dd);
                    border: 3px solid white;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.3), 0 0 20px ${O.color}40;
                    font-size: ${O.size==="large"?"18px":O.size==="medium"?"16px":"14px"};
                    transition: all 0.3s ease;
                    cursor: pointer;
                  " onmouseover="this.style.transform='scale(1.2)'" onmouseout="this.style.transform='scale(1)'">
                    ${O.icon}
                  </div>
                  
                  <!-- Бейдж приоритета -->
                  <div style="
                    position: absolute;
                    top: -8px;
                    right: -8px;
                    background: ${O.color};
                    color: white;
                    border-radius: 50%;
                    width: 20px;
                    height: 20px;
                    font-size: 10px;
                    font-weight: bold;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 2px solid white;
                    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
                  ">
                    ${Z.priority==="high"?"!":Z.priority==="medium"?"?":"•"}
                  </div>
                  
                  <!-- Оценка -->
                  <div style="
                    position: absolute;
                    bottom: -12px;
                    left: 50%;
                    transform: translateX(-50%);
                    background: white;
                    border: 1px solid ${O.color};
                    border-radius: 12px;
                    padding: 2px 6px;
                    font-size: 10px;
                    font-weight: bold;
                    color: ${O.color};
                    white-space: nowrap;
                    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                  ">
                    ${Z.score}★
                  </div>
                </div>
              `,className:"recommendation-marker-container",iconSize:[60,60],iconAnchor:[30,30],popupAnchor:[0,-30]}),ne=Ln.marker(z,{icon:R,zIndexOffset:1e3+(Z.priority==="high"?100:Z.priority==="medium"?50:0)}),Q=S(Z);ne.bindPopup(Q,{maxWidth:350,className:"recommendation-popup",autoPanPadding:[20,20]}),H.addLayer(ne),console.log(`Добавлен маркер рекомендации ${j+1}:`,Z.type,"приоритет:",Z.priority)}catch(z){console.error("Ошибка создания маркера рекомендации:",z,Z)}else console.warn("Некорректные координаты рекомендации:",Z)}),H.getLayers().length>0&&(H.addTo(v.current),x.current.recommendations=H,console.log("Слой рекомендаций добавлен на карту с",H.getLayers().length,"маркерами"))}},[t,o.recommendations]),st.useEffect(()=>{if(v.current&&(x.current.heatmap&&v.current.removeLayer(x.current.heatmap),o.heatmap&&n.length>0)){const H=n.map(([j,z,V])=>[j,z,Math.min(V*2.5,1)]),Z=Ln.heatLayer(H,{radius:40,blur:15,maxZoom:17,max:1,minOpacity:.2,gradient:{0:"rgba(0, 0, 255, 0)",.1:"rgba(0, 100, 255, 0.2)",.2:"rgba(0, 255, 255, 0.4)",.4:"rgba(0, 255, 0, 0.6)",.6:"rgba(255, 255, 0, 0.8)",.8:"rgba(255, 165, 0, 0.9)",1:"rgba(255, 0, 0, 1.0)"}});Z.addTo(v.current),x.current.heatmap=Z}},[n,o.heatmap]);const U=H=>{const Z=A(H);return Ln.divIcon({className:"custom-marker facility-marker",html:`
        <div style="
          width: 40px; 
          height: 40px; 
          border-radius: 50%; 
          background: linear-gradient(135deg, ${Z.color}, ${Z.color}dd); 
          border: 3px solid white; 
          display: flex; 
          align-items: center; 
          justify-content: center; 
          font-size: 18px;
          box-shadow: 0 4px 16px rgba(0,0,0,0.2);
          transition: all 0.3s ease;
          animation: bounceIn 0.6s ease-out;
        ">
          ${Z.symbol}
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20]})};st.useCallback(()=>(console.log("Создаем маркеры рекомендаций:",t.length),!o.recommendations||!t.length?[]:t.map((H,Z)=>{const j=[H.coordinates[0],H.coordinates[1]],z={high:{color:"#dc2626",bgColor:"#fef2f2",icon:"🚨",size:"large",pulseDuration:"2s"},medium:{color:"#f59e0b",bgColor:"#fffbeb",icon:"⚠️",size:"medium",pulseDuration:"3s"},low:{color:"#059669",bgColor:"#f0fdf4",icon:"💡",size:"small",pulseDuration:"4s"}},V=z[H.priority]||z.medium,O=Ln.divIcon({html:`
          <div class="recommendation-marker" style="
            width: ${V.size==="large"?"48px":V.size==="medium"?"40px":"32px"};
            height: ${V.size==="large"?"48px":V.size==="medium"?"40px":"32px"};
            position: relative;
            z-index: 1000;
          ">
            <!-- Пульсирующий эффект -->
            <div style="
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background: ${V.color};
              border-radius: 50%;
              opacity: 0.3;
              animation: pulse ${V.pulseDuration} infinite;
            "></div>
            
            <!-- Основной маркер -->
            <div style="
              position: relative;
              width: 100%;
              height: 100%;
              background: linear-gradient(135deg, ${V.color}, ${V.color}dd);
              border: 3px solid white;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              box-shadow: 0 4px 12px rgba(0,0,0,0.3), 0 0 20px ${V.color}40;
              font-size: ${V.size==="large"?"18px":V.size==="medium"?"16px":"14px"};
              transition: all 0.3s ease;
              cursor: pointer;
            " onmouseover="this.style.transform='scale(1.2)'" onmouseout="this.style.transform='scale(1)'">
              ${V.icon}
            </div>
            
            <!-- Бейдж приоритета -->
            <div style="
              position: absolute;
              top: -8px;
              right: -8px;
              background: ${V.color};
              color: white;
              border-radius: 50%;
              width: 20px;
              height: 20px;
              font-size: 10px;
              font-weight: bold;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid white;
              box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            ">
              ${H.priority==="high"?"!":H.priority==="medium"?"?":"•"}
            </div>
            
            <!-- Оценка -->
            <div style="
              position: absolute;
              bottom: -12px;
              left: 50%;
              transform: translateX(-50%);
              background: white;
              border: 1px solid ${V.color};
              border-radius: 12px;
              padding: 2px 6px;
              font-size: 10px;
              font-weight: bold;
              color: ${V.color};
              white-space: nowrap;
              box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            ">
              ${H.score}★
            </div>
          </div>
        `,className:"recommendation-marker-container",iconSize:[60,60],iconAnchor:[30,30],popupAnchor:[0,-30]}),R=Ln.marker(j,{icon:O,zIndexOffset:1e3+(H.priority==="high"?100:H.priority==="medium"?50:0)}),ne=S(H);return R.bindPopup(ne,{maxWidth:350,className:"recommendation-popup",autoPanPadding:[20,20]}),R})),[t,o.recommendations]);const S=H=>{const Z={high:"#dc2626",medium:"#f59e0b",low:"#059669"},j={high:"ВЫСОКИЙ",medium:"СРЕДНИЙ",low:"НИЗКИЙ"},z={school:"Школа",hospital:"Больница",clinic:"Клиника",polyclinic:"Поликлиника",fire_station:"Пожарная станция",police_station:"Полицейский участок",post_office:"Почтовое отделение"},V=Z[H.priority]||"#6b7280",O=j[H.priority]||"НЕИЗВЕСТНО",R=z[H.type]||"Учреждение";return`
      <div style="
        max-width: 320px;
        font-family: system-ui, sans-serif;
        background: linear-gradient(135deg, ${V}15, ${V}05);
        border-radius: 12px;
        overflow: hidden;
        border: 2px solid ${V}40;
      ">
        <!-- Заголовок -->
        <div style="
          background: linear-gradient(135deg, ${V}, ${V}dd);
          color: white;
          padding: 12px 16px;
          position: relative;
          overflow: hidden;
        ">
          <div style="
            position: absolute;
            top: -50%;
            right: -20px;
            width: 100px;
            height: 100px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
          "></div>
          
          <div style="position: relative;">
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;">
              <div style="font-size: 16px; font-weight: bold;">
                🎯 Рекомендация
              </div>
              <div style="
                background: rgba(255,255,255,0.2);
                padding: 4px 8px;
                border-radius: 12px;
                font-size: 10px;
                font-weight: bold;
                backdrop-filter: blur(10px);
              ">
                ${O} ПРИОРИТЕТ
              </div>
            </div>
            
            <div style="font-size: 14px; opacity: 0.95;">
              ${R}
            </div>
            
            <div style="
              display: flex;
              align-items: center;
              justify-content: space-between;
              margin-top: 8px;
              padding-top: 8px;
              border-top: 1px solid rgba(255,255,255,0.2);
            ">
              <div style="display: flex; align-items: center; gap: 8px;">
                <div style="
                  background: rgba(255,255,255,0.3);
                  padding: 4px 8px;
                  border-radius: 8px;
                  font-size: 11px;
                  font-weight: bold;
                ">
                  Оценка: ${H.score}★
                </div>
                <div style="
                  background: rgba(255,255,255,0.3);
                  padding: 4px 8px;
                  border-radius: 8px;
                  font-size: 11px;
                  font-weight: bold;
                ">
                  ${Math.round(H.estimated_coverage).toLocaleString()} чел.
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Основная информация -->
        <div style="padding: 16px;">
          <div style="margin-bottom: 12px;">
            <div style="font-size: 13px; color: #374151; line-height: 1.4;">
              ${H.reason}
            </div>
          </div>

          <!-- Детальный анализ -->
          ${H.detailedAnalysis?`
          <div style="margin-bottom: 12px;">
            <div style="font-size: 12px; font-weight: 600; color: #6b7280; margin-bottom: 8px;">
              ДЕТАЛЬНЫЙ АНАЛИЗ:
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 8px;">
              <div style="
                background: #f8fafc;
                padding: 8px;
                border-radius: 8px;
                text-align: center;
                border-left: 3px solid ${V};
              ">
                <div style="font-size: 11px; color: #6b7280; font-weight: 600;">ПЛОТНОСТЬ</div>
                <div style="font-size: 13px; color: #374151; font-weight: bold;">
                  ${H.detailedAnalysis.populationDensity.toLocaleString()} чел/км²
                </div>
              </div>
              
              <div style="
                background: #f8fafc;
                padding: 8px;
                border-radius: 8px;
                text-align: center;
                border-left: 3px solid ${V};
              ">
                <div style="font-size: 11px; color: #6b7280; font-weight: 600;">УЛУЧШЕНИЕ</div>
                <div style="font-size: 13px; color: #059669; font-weight: bold;">
                  ${H.detailedAnalysis.coverageImprovement}
                </div>
              </div>
            </div>

            <div style="
              background: #f8fafc;
              padding: 8px;
              border-radius: 8px;
              margin-bottom: 8px;
              border-left: 3px solid ${V};
            ">
              <div style="font-size: 11px; color: #6b7280; font-weight: 600;">БЛИЖАЙШЕЕ УЧРЕЖДЕНИЕ:</div>
              <div style="font-size: 12px; color: #374151;">
                ${H.detailedAnalysis.nearestFacility.formatted}
              </div>
            </div>

            <!-- Преимущества -->
            ${H.detailedAnalysis.benefits?`
            <div style="margin-bottom: 8px;">
              <div style="font-size: 11px; color: #6b7280; font-weight: 600; margin-bottom: 4px;">
                ПРЕИМУЩЕСТВА:
              </div>
              <div style="font-size: 11px; color: #374151; line-height: 1.3;">
                ${H.detailedAnalysis.benefits.slice(0,3).map(ne=>`• ${ne}`).join("<br>")}
              </div>
            </div>
            `:""}

            <!-- Стоимость и временные рамки -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
              <div style="
                background: #fef3c7;
                padding: 6px 8px;
                border-radius: 6px;
                text-align: center;
              ">
                <div style="font-size: 10px; color: #92400e; font-weight: 600;">СТОИМОСТЬ</div>
                <div style="font-size: 11px; color: #92400e; font-weight: bold;">
                  ${Math.round(H.detailedAnalysis.estimatedCost/1e6)} млн сом
                </div>
              </div>
              
              <div style="
                background: #dbeafe;
                padding: 6px 8px;
                border-radius: 6px;
                text-align: center;
              ">
                <div style="font-size: 10px; color: #1d4ed8; font-weight: 600;">СРОКИ</div>
                <div style="font-size: 11px; color: #1d4ed8; font-weight: bold;">
                  ${H.detailedAnalysis.timeframe}
                </div>
              </div>
            </div>
          </div>
          `:""}

          <!-- Кнопки действий -->
          <div style="display: flex; gap: 8px; margin-top: 12px;">
            <button 
              onclick="alert('Детальная информация о рекомендации')"
              style="
                flex: 1;
                background: ${V};
                color: white;
                border: none;
                padding: 8px 12px;
                border-radius: 6px;
                font-size: 12px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.2s ease;
              "
              onmouseover="this.style.transform='scale(1.02)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.2)'"
              onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='none'"
            >
              📊 Подробнее
            </button>
            
            <button 
              onclick="alert('Экспорт рекомендации')"
              style="
                flex: 1;
                background: #6b7280;
                color: white;
                border: none;
                padding: 8px 12px;
                border-radius: 6px;
                font-size: 12px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.2s ease;
              "
              onmouseover="this.style.transform='scale(1.02)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.2)'"
              onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='none'"
            >
              💾 Экспорт
            </button>
          </div>
        </div>

        <!-- Футер с координатами -->
        <div style="
          background: #f8fafc;
          padding: 8px 16px;
          border-top: 1px solid #e5e7eb;
          font-size: 10px;
          color: #6b7280;
          text-align: center;
        ">
          📍 ${H.coordinates[0].toFixed(6)}, ${H.coordinates[1].toFixed(6)}
        </div>
      </div>
    `},A=H=>({school:{color:"#10b981",symbol:"🏫",name:"Школа"},hospital:{color:"#dc2626",symbol:"🏥",name:"Больница"},polyclinic:{color:"#2563eb",symbol:"🏨",name:"Поликлиника"},clinic:{color:"#7c3aed",symbol:"⚕️",name:"Клиника"},fire_station:{color:"#ea580c",symbol:"🚒",name:"Пожарная станция"},police_station:{color:"#1f2937",symbol:"🚔",name:"Полицейский участок"},post_office:{color:"#059669",symbol:"📮",name:"Почтовое отделение"}})[H]||{color:"#6b7280",symbol:"📍",name:"Учреждение"},F=H=>{var V,O,R,ne;const Z=A(H.type),j=Q=>{const we=[];for(let fe=1;fe<=5;fe++)we.push(fe<=Q?"⭐":"☆");return we.join("")};let z="";if(H.type==="school")z=`
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin: 12px 0;">
          <div style="background: #f0f9ff; padding: 8px; border-radius: 6px; text-align: center;">
            <div style="font-size: 12px; color: #0369a1; font-weight: 600;">ПОСЕЩАЕМОСТЬ</div>
            <div style="font-size: 16px; color: #0c4a6e; font-weight: bold;">${((V=H.statistics)==null?void 0:V.attendanceRate)||"-"}%</div>
          </div>
          <div style="background: #f0fdf4; padding: 8px; border-radius: 6px; text-align: center;">
            <div style="font-size: 12px; color: #059669; font-weight: 600;">УСПЕВАЕМОСТЬ</div>
            <div style="font-size: 16px; color: #047857; font-weight: bold;">${((O=H.statistics)==null?void 0:O.passRate)||"-"}%</div>
          </div>
          <div style="background: #fffbeb; padding: 8px; border-radius: 6px; text-align: center;">
            <div style="font-size: 12px; color: #d97706; font-weight: 600;">УЧЕНИКОВ</div>
            <div style="font-size: 16px; color: #b45309; font-weight: bold;">${H.currentStudents||"-"}/${H.capacity||"-"}</div>
          </div>
          <div style="background: #fdf2f8; padding: 8px; border-radius: 6px; text-align: center;">
            <div style="font-size: 12px; color: #be185d; font-weight: 600;">УЧИТЕЛЕЙ</div>
            <div style="font-size: 16px; color: #9d174d; font-weight: bold;">${H.teachers||"-"}</div>
          </div>
        </div>
        
        ${H.languages&&Array.isArray(H.languages)&&H.languages.length>0?`
        <div style="margin: 8px 0;">
          <div style="font-size: 12px; color: #6b7280; font-weight: 600; margin-bottom: 4px;">ЯЗЫКИ ОБУЧЕНИЯ:</div>
          <div style="display: flex; flex-wrap: wrap; gap: 4px;">
            ${H.languages.map(Q=>`<span style="background: #dcfce7; color: #166534; padding: 2px 8px; border-radius: 12px; font-size: 11px;">${Q}</span>`).join("")}
          </div>
        </div>
        `:""}
      `;else if(H.type==="hospital"||H.type==="clinic"||H.type==="polyclinic"){const Q=H.type==="hospital",we={hospital:{bg:"#fef2f2",text:"#dc2626",accent:"#991b1b"},clinic:{bg:"#f3e8ff",text:"#7c3aed",accent:"#5b21b6"},polyclinic:{bg:"#eff6ff",text:"#2563eb",accent:"#1d4ed8"}},fe=we[H.type]||we.clinic;z=`
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin: 12px 0;">
          ${Q?`
          <div style="background: ${fe.bg}; padding: 8px; border-radius: 6px; text-align: center;">
            <div style="font-size: 12px; color: ${fe.text}; font-weight: 600;">КОЙКИ</div>
            <div style="font-size: 16px; color: ${fe.accent}; font-weight: bold;">${H.beds||"-"}</div>
          </div>
          `:`
          <div style="background: ${fe.bg}; padding: 8px; border-radius: 6px; text-align: center;">
            <div style="font-size: 12px; color: ${fe.text}; font-weight: 600;">ПАЦИЕНТЫ/ДЕНЬ</div>
            <div style="font-size: 16px; color: ${fe.accent}; font-weight: bold;">${H.currentLoad||"-"}</div>
          </div>
          `}
          <div style="background: #f0fdf4; padding: 8px; border-radius: 6px; text-align: center;">
            <div style="font-size: 12px; color: #059669; font-weight: 600;">ВРАЧЕЙ</div>
            <div style="font-size: 16px; color: #047857; font-weight: bold;">${H.doctors||"-"}</div>
          </div>
          <div style="background: #fffbeb; padding: 8px; border-radius: 6px; text-align: center;">
            <div style="font-size: 12px; color: #d97706; font-weight: 600;">ЗАГРУЗКА</div>
            <div style="font-size: 16px; color: #b45309; font-weight: bold;">${H.currentLoad?Math.round(H.currentLoad/H.capacity*100):"-"}%</div>
          </div>
          <div style="background: #fdf2f8; padding: 8px; border-radius: 6px; text-align: center;">
            <div style="font-size: 12px; color: #be185d; font-weight: 600;">РЕЖИМ</div>
            <div style="font-size: 13px; color: #9d174d; font-weight: bold; line-height: 1;">${H.workingHours||"Круглосуточно"}</div>
          </div>
        </div>
        
        ${H.departments&&Array.isArray(H.departments)&&H.departments.length>0?`
        <div style="margin: 8px 0;">
          <div style="font-size: 12px; color: #6b7280; font-weight: 600; margin-bottom: 4px;">ОТДЕЛЕНИЯ:</div>
          <div style="display: flex; flex-wrap: wrap; gap: 4px;">
            ${H.departments.slice(0,4).map(ve=>`<span style="background: ${fe.bg}; color: ${fe.accent}; padding: 2px 8px; border-radius: 12px; font-size: 11px;">${ve}</span>`).join("")}
            ${H.departments.length>4?`<span style="background: #f3f4f6; color: #6b7280; padding: 2px 8px; border-radius: 12px; font-size: 11px;">+${H.departments.length-4}</span>`:""}
          </div>
        </div>
        `:""}
      `}return`
      <div style="padding: 0; min-width: 320px; max-width: 420px; font-family: system-ui, sans-serif;">
        <!-- Заголовок -->
        <div style="padding: 16px; background: ${Z.color}; color: white; margin: 0;">
          <div style="display: flex; align-items: center; justify-content: between;">
            <div style="flex: 1;">
              <h3 style="margin: 0 0 4px 0; font-size: 18px; font-weight: bold; line-height: 1.2;">
                ${Z.symbol} ${H.name}
              </h3>
              <div style="font-size: 12px; opacity: 0.9;">${Z.name}</div>
              ${H.rating?`
              <div style="margin-top: 6px; font-size: 14px;">
                ${j(H.rating)} <span style="font-size: 12px; opacity: 0.9;">(${H.rating})</span>
              </div>
              `:""}
            </div>
          </div>
        </div>
        
        <!-- Основная информация -->
        <div style="padding: 16px; background: white;">
          <div style="margin-bottom: 12px;">
            <div style="font-size: 12px; color: #6b7280; font-weight: 600; margin-bottom: 2px;">АДРЕС</div>
            <div style="font-size: 14px; color: #374151; font-weight: 500;">${H.address||"Не указан"}</div>
          </div>
          
          ${z}
          
          <!-- Бюджет, покрытие и радиус доступности -->
          ${H.statistics?`
          <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 6px; margin: 12px 0; padding: 10px; background: #f9fafb; border-radius: 8px;">
            <div style="text-align: center;">
              <div style="font-size: 11px; color: #6b7280; font-weight: 600;">БЮДЖЕТ/ГОД</div>
              <div style="font-size: 13px; color: #374151; font-weight: bold;">${(R=H.statistics)!=null&&R.yearlyBudget?(H.statistics.yearlyBudget/1e6).toFixed(1)+"М":"Не указан"}</div>
            </div>
            <div style="text-align: center;">
              <div style="font-size: 11px; color: #6b7280; font-weight: 600;">ПОКРЫТИЕ</div>
              <div style="font-size: 13px; color: #374151; font-weight: bold;">${(ne=H.statistics)!=null&&ne.coverageArea?H.statistics.coverageArea.toFixed(1)+" км²":"Не указано"}</div>
            </div>
            <div style="text-align: center;">
              <div style="font-size: 11px; color: #6b7280; font-weight: 600;">РАДИУС (30м)</div>
              <div style="font-size: 13px; color: ${Z.color}; font-weight: bold;">${(wd(30,H.type)/1e3).toFixed(1)} км</div>
            </div>
          </div>
          `:""}
          
          <!-- Информация об обновлении -->
          <div style="margin: 8px 0; padding: 6px; background: #f3f4f6; border-radius: 4px; font-size: 10px; color: #6b7280; text-align: center;">
            📊 Данные обновлены: ${H.lastUpdate||"Недавно"} | Тренд: ${H.trendValue||0}% за месяц
          </div>
          
          <!-- Кнопки действий -->
          <div style="display: flex; gap: 6px; margin-top: 12px;">
            <button 
              onclick="console.log('Кнопка Подробности нажата:', ${H.id}); if(window.showFacilityDetails) { window.showFacilityDetails(${H.id}); } else { console.error('showFacilityDetails не найдена'); }"
              style="flex: 1; background: #10b981; color: white; border: none; padding: 8px 12px; border-radius: 6px; font-size: 11px; font-weight: 600; cursor: pointer; transition: all 0.2s;"
              onmouseover="this.style.background='#059669'"
              onmouseout="this.style.background='#10b981'"
            >
              📊 Подробности
            </button>
            <button 
              onclick="console.log('Кнопка Радиус нажата:', ${H.id}); if(window.toggleFacilityCoverage) { window.toggleFacilityCoverage(${H.id}); } else { console.error('toggleFacilityCoverage не найдена'); }"
              style="flex: 1; background: ${Z.color}; color: white; border: none; padding: 8px 12px; border-radius: 6px; font-size: 11px; font-weight: 600; cursor: pointer; transition: all 0.2s;"
              onmouseover="this.style.opacity='0.8'"
              onmouseout="this.style.opacity='1'"
              id="coverage-btn-${H.id}"
            >
              🎯 Радиус
            </button>
          </div>
        </div>
      </div>
    `},J=H=>{var j;const Z=A(H.type||"school");return`
      <div style="
        background: white;
        border-radius: 16px;
        max-width: 900px;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        animation: slideIn 0.3s ease-out;
      ">
        <!-- Header -->
        <div style="
          background: ${Z.color};
          color: white;
          padding: 20px 24px;
          border-radius: 16px 16px 0 0;
          position: relative;
          overflow: hidden;
        ">
          <div style="position: relative; z-index: 2;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
              <div>
                <h2 style="margin: 0; font-size: 20px; font-weight: bold;">
                  ${Z.symbol} Детальный анализ размещения
                </h2>
                <p style="margin: 4px 0 0 0; opacity: 0.9; font-size: 14px;">
                  Комплексная оценка локации для ${Z.name.toLowerCase()}
                </p>
              </div>
              <button 
                onclick="this.closest('[style*="position: fixed"]').remove()"
                style="
                  background: rgba(255, 255, 255, 0.2);
                  border: none;
                  color: white;
                  width: 32px;
                  height: 32px;
                  border-radius: 8px;
                  cursor: pointer;
                  font-size: 18px;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                "
              >×</button>
            </div>
          </div>
          <div style="
            position: absolute;
            top: -50%;
            right: -20%;
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
          "></div>
        </div>
        
        <div style="padding: 24px;">
          <!-- Краткая сводка -->
          <div style="
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
            border-left: 4px solid ${Z.color};
          ">
            <h3 style="margin: 0 0 12px 0; color: #1f2937; font-size: 18px;">
              📋 Резюме анализа
            </h3>
            <p style="margin: 0; color: #4b5563; line-height: 1.6; font-size: 14px;">
              ${H.recommendation||"Рекомендуется размещение объекта в данной локации на основе комплексного анализа демографических, экономических и инфраструктурных факторов."}
            </p>
            <div style="
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
              gap: 16px;
              margin-top: 16px;
            ">
              <div style="text-align: center;">
                <div style="font-size: 24px; font-weight: bold; color: ${Z.color};">
                  ${Math.round((H.score||.85)*100)}%
                </div>
                <div style="font-size: 12px; color: #6b7280;">Общая оценка</div>
              </div>
              <div style="text-align: center;">
                <div style="font-size: 24px; font-weight: bold; color: #10b981;">
                  ${((j=H.estimated_coverage)==null?void 0:j.toLocaleString())||"Не указано"}
                </div>
                <div style="font-size: 12px; color: #6b7280;">Охват населения</div>
              </div>
              <div style="text-align: center;">
                <div style="font-size: 24px; font-weight: bold; color: #f59e0b;">
                  ${H.priority==="high"?"Высокий":H.priority==="medium"?"Средний":"Низкий"}
                </div>
                <div style="font-size: 12px; color: #6b7280;">Приоритет</div>
              </div>
            </div>
          </div>
          
          <!-- Основные разделы анализа -->
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 24px;">
            <!-- Демографический анализ -->
            <div style="background: white; border: 1px solid #e5e7eb; border-radius: 12px; padding: 20px;">
              <h3 style="margin: 0 0 16px 0; color: #1f2937; font-size: 16px; display: flex; align-items: center;">
                👥 Демографический анализ
              </h3>
              
              <div style="space-y: 12px;">
                <div style="margin-bottom: 12px;">
                  <div style="font-size: 14px; color: #374151; font-weight: 600; margin-bottom: 8px;">
                    Плотность населения: ${H.population_density||"Не указано"} чел/км²
                  </div>
                </div>
                
                <div style="margin-bottom: 12px;">
                  <div style="font-size: 14px; color: #374151; font-weight: 600; margin-bottom: 8px;">
                    Целевая аудитория: ${H.target_audience||"Общая популяция"}
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Инфраструктурный анализ -->
            <div style="background: white; border: 1px solid #e5e7eb; border-radius: 12px; padding: 20px;">
              <h3 style="margin: 0 0 16px 0; color: #1f2937; font-size: 16px; display: flex; align-items: center;">
                🏗️ Инфраструктура
              </h3>
              
              <div style="space-y: 12px;">
                <div style="margin-bottom: 12px;">
                  <div style="font-size: 14px; color: #374151; font-weight: 600; margin-bottom: 8px;">
                    Транспортная доступность: ${H.transport_access||"Оценивается"}
                  </div>
                </div>
                
                <div style="margin-bottom: 12px;">
                  <div style="font-size: 14px; color: #374151; font-weight: 600; margin-bottom: 8px;">
                    Ближайшие объекты: ${H.nearby_facilities||"Анализируется"}
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Итоговые рекомендации -->
          <div style="background: #f8fafc; border-radius: 12px; padding: 20px; border-left: 4px solid #10b981;">
            <h3 style="margin: 0 0 12px 0; color: #1f2937; font-size: 16px;">
              ✅ Итоговые рекомендации
            </h3>
            <ul style="margin: 0; padding-left: 20px; color: #4b5563; line-height: 1.6;">
              <li>Размещение объекта в данной локации экономически обосновано</li>
              <li>Высокий уровень транспортной доступности обеспечит хороший трафик</li>
              <li>Демографические показатели соответствуют целевой аудитории</li>
              <li>Рекомендуется учесть особенности местной инфраструктуры при проектировании</li>
              <li>Необходимо провести дополнительную экологическую экспертизу</li>
            </ul>
          </div>
        </div>
      </div>

      <style>
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideIn {
          from { transform: translateY(-20px); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
      </style>
    `};return y.jsxs("div",{className:"h-full w-full relative",children:[y.jsx("div",{ref:p,className:"h-full w-full"}),y.jsxs("div",{className:`absolute bottom-4 right-4 backdrop-blur-md rounded-xl shadow-xl border p-3 z-[1000] transition-all duration-300 transform hover:scale-105 ${P?"max-w-80":"max-w-60"} ${h?"bg-gray-900/95 border-gray-700 text-white":"bg-white/95 border-gray-200 text-gray-900"}`,children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:`p-1.5 rounded-lg ${h?"bg-blue-600/20":"bg-blue-50"}`,children:y.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center",children:y.jsx("span",{className:"text-white text-xs",children:"📊"})})}),y.jsxs("div",{children:[y.jsx("h4",{className:`text-xs font-bold ${h?"text-white":"text-gray-800"}`,children:"Статистика"}),y.jsxs("div",{className:`text-xs ${h?"text-gray-400":"text-gray-500"} flex items-center space-x-1`,children:[y.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),y.jsxs("span",{children:[e.length," объектов"]})]})]})]}),y.jsx("button",{onClick:()=>C(!P),className:`p-1.5 rounded-lg transition-all duration-300 hover:scale-110 ${h?"bg-gray-800 hover:bg-gray-700 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-600"}`,title:P?"Свернуть":"Развернуть",children:y.jsx("div",{className:`transform transition-transform duration-300 ${P?"rotate-180":""}`,children:y.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})})]}),P?y.jsxs("div",{className:"space-y-2 animate-fadeIn",children:[y.jsx("div",{className:"space-y-1.5",children:[{type:"school",name:"Школы",icon:"🏫",color:"from-emerald-500 to-emerald-600",bgColor:"bg-emerald-50",textColor:"text-emerald-700"},{type:"hospital",name:"Больницы",icon:"🏥",color:"from-red-500 to-red-600",bgColor:"bg-red-50",textColor:"text-red-700"},{type:"polyclinic",name:"Поликлиники",icon:"🏨",color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",textColor:"text-blue-700"},{type:"clinic",name:"Клиники",icon:"⚕️",color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50",textColor:"text-purple-700"},{type:"fire_station",name:"Пожарные",icon:"🚒",color:"from-orange-500 to-orange-600",bgColor:"bg-orange-50",textColor:"text-orange-700"},{type:"police_station",name:"Полиция",icon:"🚔",color:"from-gray-600 to-gray-700",bgColor:"bg-gray-50",textColor:"text-gray-700"},{type:"post_office",name:"Почта",icon:"📮",color:"from-green-500 to-green-600",bgColor:"bg-green-50",textColor:"text-green-700"}].map(H=>{const Z=e.filter(z=>z.type===H.type).length,j=e.length>0?Z/e.length*100:0;return y.jsxs("div",{className:`relative overflow-hidden rounded-lg p-2 transition-all duration-300 hover:scale-102 cursor-pointer ${h?"bg-gray-800/50 hover:bg-gray-800/70":`${H.bgColor} hover:shadow-sm`}`,children:[y.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:`w-7 h-7 rounded-lg bg-gradient-to-r ${H.color} flex items-center justify-center shadow-sm`,children:y.jsx("span",{className:"text-white text-sm",children:H.icon})}),y.jsxs("div",{children:[y.jsx("div",{className:`text-xs font-semibold ${h?"text-white":H.textColor}`,children:H.name}),y.jsxs("div",{className:`text-xs ${h?"text-gray-400":"text-gray-500"}`,children:[j.toFixed(1),"% от общего"]})]})]}),y.jsx("div",{className:"text-right",children:y.jsx("div",{className:`text-lg font-bold ${h?"text-white":H.textColor}`,children:Z})})]}),y.jsx("div",{className:`mt-1 h-1 rounded-full overflow-hidden ${h?"bg-gray-700":"bg-white/50"}`,children:y.jsx("div",{className:`h-full bg-gradient-to-r ${H.color} transition-all duration-1000 ease-out`,style:{width:`${j}%`}})})]},H.type)})}),t&&t.length>0&&y.jsx("div",{className:`rounded-lg p-2 border border-dashed transition-all duration-300 hover:scale-102 ${h?"border-purple-600/50 bg-purple-900/20":"border-purple-300 bg-purple-50"}`,children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-7 h-7 rounded-lg bg-gradient-to-r from-purple-500 to-pink-600 flex items-center justify-center shadow-sm animate-pulse",children:y.jsx("span",{className:"text-white text-sm",children:"⭐"})}),y.jsx("div",{children:y.jsx("div",{className:`text-xs font-semibold ${h?"text-purple-300":"text-purple-700"}`,children:"Рекомендации"})})]}),y.jsx("div",{className:`text-lg font-bold ${h?"text-purple-300":"text-purple-700"}`,children:t.length})]})}),y.jsxs("div",{className:`rounded-lg p-2 ${h?"bg-gradient-to-r from-gray-800/50 to-gray-700/50":"bg-gradient-to-r from-gray-50 to-gray-100"}`,children:[y.jsx("div",{className:`text-xs font-semibold mb-1 ${h?"text-gray-300":"text-gray-600"}`,children:"📈 Аналитика"}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:`font-bold text-sm ${h?"text-blue-400":"text-blue-600"}`,children:[Math.round(e.reduce((H,Z)=>H+(Z.rating||4.2),0)/e.length*20),"%"]}),y.jsx("div",{className:`text-xs ${h?"text-gray-400":"text-gray-500"}`,children:"Качество"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:`font-bold text-sm ${h?"text-green-400":"text-green-600"}`,children:[e.length>0?Math.round(e.length/10*100):0,"%"]}),y.jsx("div",{className:`text-xs ${h?"text-gray-400":"text-gray-500"}`,children:"Покрытие"})]})]})]})]}):y.jsxs("div",{className:"animate-fadeIn",children:[y.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{type:"school",icon:"🏫",color:"from-emerald-500 to-emerald-600"},{type:"hospital",icon:"🏥",color:"from-red-500 to-red-600"},{type:"polyclinic",icon:"🏨",color:"from-blue-500 to-blue-600"},{type:"clinic",icon:"⚕️",color:"from-purple-500 to-purple-600"},{type:"fire_station",icon:"🚒",color:"from-orange-500 to-orange-600"},{type:"police_station",icon:"🚔",color:"from-gray-600 to-gray-700"}].map(H=>{const Z=e.filter(j=>j.type===H.type).length;return y.jsxs("div",{className:"text-center group cursor-pointer",onClick:()=>C(!0),children:[y.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-r ${H.color} flex items-center justify-center mx-auto mb-1 shadow-sm transform transition-all duration-300 group-hover:scale-110`,children:y.jsx("span",{className:"text-white text-sm",children:H.icon})}),y.jsx("div",{className:`font-bold text-sm ${h?"text-white":"text-gray-800"}`,children:Z})]},H.type)})}),y.jsx("div",{className:`mt-2 text-center text-xs ${h?"text-gray-400":"text-gray-500"}`,children:y.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[y.jsx("span",{children:"Подробнее"}),y.jsx("svg",{className:"w-2 h-2 animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),b&&y.jsx("div",{className:`border-t pt-2 mt-2 ${h?"border-gray-700":"border-gray-200"}`,children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-1.5",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-orange-400 to-red-500 animate-pulse"}),y.jsx("div",{className:"absolute inset-0 w-2 h-2 rounded-full bg-orange-400 animate-ping opacity-75"})]}),y.jsx("span",{className:`text-xs font-medium truncate max-w-24 ${h?"text-orange-300":"text-orange-700"}`,children:((ie=e.find(H=>H.id===b))==null?void 0:ie.name)||"Выбран"})]}),y.jsx("button",{onClick:()=>w(null),className:`p-0.5 rounded transition-all duration-200 hover:scale-110 ${h?"text-red-400 hover:bg-red-900/20":"text-red-500 hover:bg-red-50"}`,title:"Скрыть радиус",children:y.jsx("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]})]})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Tt=(e,t)=>{const n=st.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:h,...p},v)=>st.createElement("svg",{ref:v,...yx,width:o,height:o,stroke:r,strokeWidth:l?Number(s)*24/Number(o):s,className:["lucide",`lucide-${_x(e)}`,c].join(" "),...p},[...t.map(([x,b])=>st.createElement(x,b)),...Array.isArray(h)?h:[h]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=Tt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=Tt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=Tt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=Tt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=Tt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=Tt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=Tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=Tt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=Tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=Tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=Tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=Tt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=Tt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=Tt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=Tt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Tt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Tt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Tt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=Tt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Tt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Tt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=Tt("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=Tt("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=Tt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=Tt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=Tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=Tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=Tt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=Tt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Tt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Tt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=Tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Tt("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=Tt("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=Tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=Tt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),zx=({selectedFacilityType:e,setSelectedFacilityType:t,maxTravelTime:n,setMaxTravelTime:r,onGenerateRecommendations:o,onClearMap:s,isLoading:l,activeLayers:c,onLayerToggle:h,showCoverageZones:p,onToggleCoverageZones:v,facilities:x=[],statistics:b=null,recommendations:w=[],darkMode:P=!1,setDarkMode:C})=>{var ae,se,_e,E;const[U,S]=st.useState(""),[A,F]=st.useState(!1),[J,ie]=st.useState([]),[H,Z]=st.useState([]),[j,z]=st.useState({totalFacilities:0,avgCoverage:0,lastUpdated:new Date});st.useEffect(()=>{z({totalFacilities:x.length,avgCoverage:b&&b.current_coverage||68.5,lastUpdated:new Date})},[x,b]),st.useEffect(()=>{const G={school:10,hospital:15,polyclinic:20,clinic:15,fire_station:8,police_station:12,post_office:25,all:15}[e]||15;G!==n&&r(G)},[e]);const V=[{value:"all",label:"Все учреждения",icon:"🏢",color:"bg-gradient-to-r from-gray-500 to-gray-600"},{value:"school",label:"Школы",icon:"🏫",color:"bg-gradient-to-r from-emerald-500 to-emerald-600"},{value:"hospital",label:"Больницы",icon:"🏥",color:"bg-gradient-to-r from-red-600 to-red-700"},{value:"polyclinic",label:"Поликлиники",icon:"🏨",color:"bg-gradient-to-r from-blue-500 to-blue-600"},{value:"clinic",label:"Клиники",icon:"⚕️",color:"bg-gradient-to-r from-purple-500 to-purple-600"},{value:"fire_station",label:"Пожарные станции",icon:"🚒",color:"bg-gradient-to-r from-orange-500 to-orange-600"},{value:"police_station",label:"Полицейские участки",icon:"🚔",color:"bg-gradient-to-r from-gray-700 to-gray-800"},{value:"post_office",label:"Почтовые отделения",icon:"📮",color:"bg-gradient-to-r from-green-500 to-green-600"}],O=[{key:"facilities",label:"Учреждения",icon:vc,count:x.length},{key:"heatmap",label:"Плотность населения",icon:P1,count:null},{key:"recommendations",label:"Рекомендации",icon:Ql,count:w.length}],R=T=>{J.find(G=>G.id===T.id)||ie([...J,T])},ne=T=>{ie(J.filter(G=>G.id!==T))},Q=T=>{T&&!H.includes(T)&&Z([T,...H.slice(0,4)])},we=T=>{S(T),T.length>2&&Q(T)},fe=x.filter(T=>T.name.toLowerCase().includes(U.toLowerCase())||T.address.toLowerCase().includes(U.toLowerCase())),K=b?{coverage:b.current_coverage||0,improvement:b.coverage_improvement||0,peopleCovered:b.people_covered||0,newPoints:b.new_points_count||0}:null;return y.jsxs("div",{className:`h-full flex flex-col ${P?"bg-gray-900 text-white":"bg-white"} transition-colors duration-300`,children:[y.jsxs("div",{className:`p-6 border-b ${P?"border-gray-700":"border-gray-200"}`,children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary-600 to-purple-600",children:"Панель управления"}),y.jsx("p",{className:`text-sm ${P?"text-gray-400":"text-gray-600"}`,children:"Интеллектуальный анализ размещения"})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("button",{onClick:()=>C(!P),className:`p-2 rounded-lg transition-colors ${P?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:P?y.jsx(kv,{className:"w-4 h-4"}):y.jsx(Sv,{className:"w-4 h-4"})}),y.jsx("button",{className:`p-2 rounded-lg transition-colors ${P?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:y.jsx(Lv,{className:"w-4 h-4"})})]})]}),y.jsxs("div",{className:"space-y-4 mb-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{className:`relative overflow-hidden p-4 rounded-2xl transition-all duration-300 hover:scale-105 ${P?"bg-gradient-to-br from-gray-800 to-gray-700":"bg-gradient-to-br from-blue-50 to-indigo-100"} border ${P?"border-gray-600":"border-blue-200"}`,children:[y.jsxs("div",{className:"relative z-10",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j.totalFacilities}),y.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:y.jsx(vc,{className:"w-4 h-4 text-blue-600"})})]}),y.jsx("div",{className:`text-sm font-medium ${P?"text-gray-300":"text-gray-700"}`,children:"Всего объектов"}),y.jsxs("div",{className:`text-xs ${P?"text-gray-400":"text-gray-500"} mt-1`,children:[x.filter(T=>T.type==="school").length," школ, ",x.filter(T=>T.type==="hospital").length," больниц"]})]}),y.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-blue-200 rounded-full opacity-10 transform translate-x-8 -translate-y-8"})]}),y.jsxs("div",{className:`relative overflow-hidden p-4 rounded-2xl transition-all duration-300 hover:scale-105 ${P?"bg-gradient-to-br from-gray-800 to-gray-700":"bg-gradient-to-br from-green-50 to-emerald-100"} border ${P?"border-gray-600":"border-green-200"}`,children:[y.jsxs("div",{className:"relative z-10",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[((ae=K==null?void 0:K.coverage)==null?void 0:ae.toFixed(1))||j.avgCoverage.toFixed(1),"%"]}),y.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:y.jsx(Ql,{className:"w-4 h-4 text-green-600"})})]}),y.jsx("div",{className:`text-sm font-medium ${P?"text-gray-300":"text-gray-700"}`,children:"Покрытие"}),y.jsxs("div",{className:`text-xs ${P?"text-gray-400":"text-gray-500"} mt-1`,children:[((K==null?void 0:K.coverage)||j.avgCoverage)>70?"✅ Хорошее":((K==null?void 0:K.coverage)||j.avgCoverage)>50?"⚠️ Среднее":"❌ Низкое"," покрытие"]})]}),y.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-green-200 rounded-full opacity-10 transform translate-x-8 -translate-y-8"})]})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[y.jsxs("div",{className:`text-center p-3 rounded-xl transition-all duration-300 hover:scale-105 ${P?"bg-gray-800":"bg-gradient-to-br from-purple-50 to-pink-50"} border ${P?"border-gray-700":"border-purple-100"}`,children:[y.jsx("div",{className:"text-lg font-bold text-purple-600",children:w.length}),y.jsx("div",{className:`text-xs ${P?"text-gray-400":"text-gray-600"}`,children:"Рекомендаций"})]}),y.jsxs("div",{className:`text-center p-3 rounded-xl transition-all duration-300 hover:scale-105 ${P?"bg-gray-800":"bg-gradient-to-br from-orange-50 to-red-50"} border ${P?"border-gray-700":"border-orange-100"}`,children:[y.jsx("div",{className:"text-lg font-bold text-orange-600",children:x.filter(T=>T.rating).length>0?(x.reduce((T,G)=>T+(G.rating||0),0)/x.filter(T=>T.rating).length).toFixed(1):"-"}),y.jsx("div",{className:`text-xs ${P?"text-gray-400":"text-gray-600"}`,children:"Рейтинг ⭐"})]}),y.jsxs("div",{className:`text-center p-3 rounded-xl transition-all duration-300 hover:scale-105 ${P?"bg-gray-800":"bg-gradient-to-br from-cyan-50 to-blue-50"} border ${P?"border-gray-700":"border-cyan-100"}`,children:[y.jsxs("div",{className:"text-lg font-bold text-cyan-600",children:[Math.round((Date.now()-j.lastUpdated.getTime())/6e4),"м"]}),y.jsx("div",{className:`text-xs ${P?"text-gray-400":"text-gray-600"}`,children:"Обновлено"})]})]}),K&&y.jsxs("div",{className:`p-4 rounded-xl ${P?"bg-gray-800":"bg-gradient-to-r from-gray-50 to-gray-100"} border ${P?"border-gray-700":"border-gray-200"}`,children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("h4",{className:`text-sm font-semibold ${P?"text-gray-300":"text-gray-700"} flex items-center`,children:[y.jsx(Sh,{className:"w-4 h-4 mr-2"}),"Аналитика рекомендаций"]}),y.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${P?"bg-gray-700 text-gray-300":"bg-white text-gray-600"}`,children:"Данные сервера"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:`text-xs ${P?"text-gray-400":"text-gray-600"}`,children:"Улучшение"}),y.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",((se=K.improvement)==null?void 0:se.toFixed(1))||0,"%"]})]}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:`text-xs ${P?"text-gray-400":"text-gray-600"}`,children:"Охват населения"}),y.jsx("span",{className:"text-sm font-medium text-blue-600",children:((_e=K.peopleCovered)==null?void 0:_e.toLocaleString())||0})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:`text-xs ${P?"text-gray-400":"text-gray-600"}`,children:"Новых точек"}),y.jsx("span",{className:"text-sm font-medium text-purple-600",children:K.newPoints||0})]}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:`text-xs ${P?"text-gray-400":"text-gray-600"}`,children:"Тип объектов"}),y.jsx("span",{className:"text-sm font-medium text-orange-600",children:((E=V.find(T=>T.value===e))==null?void 0:E.label)||"Все"})]})]})]})]})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("label",{className:`text-sm font-semibold ${P?"text-gray-300":"text-gray-700"} flex items-center`,children:[y.jsx(j1,{className:"w-4 h-4 mr-2"}),"Умный поиск"]}),H.length>0&&y.jsxs("button",{className:`text-xs ${P?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"} transition-colors`,children:[y.jsx(Ex,{className:"w-3 h-3 mr-1 inline"}),"История"]})]}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",placeholder:"Поиск по названию, адресу или типу...",value:U,onChange:T=>we(T.target.value),className:`input-field pr-10 ${P?"bg-gray-800 border-gray-600 text-white":""} transition-all focus:ring-2 focus:ring-primary-500`}),y.jsx(j1,{className:"w-4 h-4 absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),U&&y.jsxs("div",{className:`rounded-xl shadow-lg max-h-48 overflow-y-auto border ${P?"bg-gray-800 border-gray-600":"bg-white border-gray-200"}`,children:[fe.slice(0,5).map(T=>y.jsx("div",{className:`p-3 hover:${P?"bg-gray-700":"bg-gray-50"} cursor-pointer border-b last:border-b-0 ${P?"border-gray-600":"border-gray-100"} transition-colors`,onClick:()=>{S("")},children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("div",{className:`text-sm font-medium ${P?"text-gray-200":"text-gray-900"}`,children:T.name}),y.jsx("div",{className:`text-xs ${P?"text-gray-400":"text-gray-500"}`,children:T.address})]}),y.jsx("button",{onClick:G=>{G.stopPropagation(),J.find(ee=>ee.id===T.id)?ne(T.id):R(T)},className:"text-yellow-500 hover:text-yellow-600 transition-colors",children:J.find(G=>G.id===T.id)?y.jsx(bd,{className:"w-4 h-4 fill-current"}):y.jsx(bd,{className:"w-4 h-4"})})]})},T.id)),fe.length===0&&y.jsx("div",{className:`p-3 text-sm ${P?"text-gray-400":"text-gray-500"} text-center`,children:"Ничего не найдено"})]}),!U&&H.length>0&&y.jsx("div",{className:"flex flex-wrap gap-2",children:H.map((T,G)=>y.jsx("button",{onClick:()=>S(T),className:`text-xs px-3 py-1 rounded-full transition-colors ${P?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:T},G))})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("button",{className:"flex items-center justify-center space-x-2 p-3 rounded-xl bg-gradient-to-r from-primary-500 to-primary-600 text-white hover:from-primary-600 hover:to-primary-700 transition-all transform hover:scale-105 shadow-lg",children:[y.jsx(C1,{className:"w-4 h-4"}),y.jsx("span",{className:"text-sm font-medium",children:"Быстрый анализ"})]}),y.jsxs("button",{className:`flex items-center justify-center space-x-2 p-3 rounded-xl transition-all transform hover:scale-105 shadow-lg ${P?"bg-gradient-to-r from-gray-700 to-gray-600 text-white hover:from-gray-600 hover:to-gray-500":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:from-gray-200 hover:to-gray-300"}`,children:[y.jsx(Sf,{className:"w-4 h-4"}),y.jsx("span",{className:"text-sm font-medium",children:"Экспорт"})]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("label",{className:`text-sm font-semibold ${P?"text-gray-300":"text-gray-700"}`,children:"Тип учреждения"}),y.jsx("div",{className:"grid grid-cols-1 gap-2",children:V.map(T=>{const G=x.filter(re=>T.value==="all"||re.type===T.value).length,ee=T.value!=="all"?x.filter(re=>re.type===T.value&&re.rating).reduce((re,pe,he,me)=>re+pe.rating/me.length,0):x.filter(re=>re.rating).reduce((re,pe,he,me)=>re+pe.rating/me.length,0);return y.jsx("div",{className:"space-y-0",children:y.jsxs("label",{className:`relative flex items-center p-4 rounded-xl cursor-pointer transition-all duration-300 border-2 transform hover:scale-102 ${e===T.value?`${T.color} text-white shadow-lg scale-102`:P?"border-gray-600 hover:border-gray-500 bg-gray-800":"border-gray-200 hover:border-gray-300 bg-white hover:bg-gray-50"} ${e===T.value?"rounded-b-none":""}`,children:[y.jsx("input",{type:"radio",name:"facilityType",value:T.value,checked:e===T.value,onChange:re=>t(re.target.value),className:"sr-only"}),y.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[y.jsx("span",{className:"text-2xl",children:T.icon}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-sm font-medium",children:T.label}),ee>0&&y.jsxs("div",{className:`text-xs ${e===T.value?"text-white opacity-75":"text-yellow-500"}`,children:["⭐ ",ee.toFixed(1)]})]}),y.jsxs("div",{className:`text-xs ${e===T.value?"text-white opacity-75":P?"text-gray-400":"text-gray-500"}`,children:[G," объектов"]})]})]}),e===T.value&&y.jsx("div",{className:"absolute top-2 right-2",children:y.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})},T.value)})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("label",{className:`text-sm font-semibold ${P?"text-gray-300":"text-gray-700"} flex items-center`,children:[y.jsx(Px,{className:"w-4 h-4 mr-2"}),"Время доезда: ",y.jsxs("span",{className:"text-primary-600 ml-1",children:[n," мин"]}),e==="school"&&y.jsx("span",{className:`ml-2 text-xs px-2 py-1 rounded-full ${P?"bg-blue-900/20 text-blue-300":"bg-blue-50 text-blue-600"}`,children:"Оптимально для школ"})]}),y.jsxs("div",{className:`text-xs p-3 rounded-lg ${P?"bg-blue-900/20 border border-blue-800":"bg-blue-50 border border-blue-200"}`,children:[y.jsx("div",{className:`font-medium mb-1 ${P?"text-blue-300":"text-blue-700"}`,children:"🎯 Автоматическая настройка времени"}),y.jsxs("div",{className:`${P?"text-blue-200":"text-blue-600"}`,children:[e==="school"&&"Для школ используется 10 минут - оптимальное время для детей пешком или на общественном транспорте",e==="hospital"&&"Для больниц используется 15 минут - критическое время доезда скорой помощи",e==="fire_station"&&"Для пожарных станций используется 8 минут - стандарт экстренного реагирования",!["school","hospital","fire_station"].includes(e)&&"Время автоматически настраивается в зависимости от типа учреждения"]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"relative px-2",children:[y.jsx("input",{type:"range",min:"5",max:"60",step:"5",value:n,onChange:T=>r(parseInt(T.target.value)),className:"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-modern"}),y.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[y.jsx("span",{children:"5 мин"}),y.jsx("span",{children:"30 мин"}),y.jsx("span",{children:"60 мин"})]})]}),y.jsx("div",{className:"flex space-x-2",children:e==="school"?[5,10,15].map(T=>y.jsxs("button",{onClick:()=>r(T),className:`flex-1 py-2 px-3 rounded-lg text-xs font-medium transition-all ${n===T?"bg-primary-500 text-white":P?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[T," мин ",T===10?"⭐":""]},T)):e==="hospital"?[10,15,20].map(T=>y.jsxs("button",{onClick:()=>r(T),className:`flex-1 py-2 px-3 rounded-lg text-xs font-medium transition-all ${n===T?"bg-primary-500 text-white":P?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[T," мин ",T===15?"🚑":""]},T)):[10,20,30].map(T=>y.jsxs("button",{onClick:()=>r(T),className:`flex-1 py-2 px-3 rounded-lg text-xs font-medium transition-all ${n===T?"bg-primary-500 text-white":P?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[T," мин"]},T))}),e==="school"&&y.jsxs("div",{className:`mt-3 p-3 rounded-lg ${P?"bg-green-900/20 border border-green-800":"bg-green-50 border border-green-200"}`,children:[y.jsxs("div",{className:`text-xs font-medium mb-2 ${P?"text-green-300":"text-green-700"}`,children:["📚 Анализ школьного покрытия за ",n," минут:"]}),y.jsxs("div",{className:`text-xs space-y-1 ${P?"text-green-200":"text-green-600"}`,children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{children:"🚶‍♂️ Пешком (дети):"}),y.jsxs("span",{children:[Math.round(n*.067)," км"]})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{children:"🚌 Школьный автобус:"}),y.jsxs("span",{children:[Math.round(n*.2)," км"]})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{children:"🚗 Родители на авто:"}),y.jsxs("span",{children:[Math.round(n*.3)," км"]})]}),y.jsxs("div",{className:`mt-2 pt-2 border-t ${P?"border-green-700":"border-green-300"} font-medium`,children:["Оптимальная зона: ",Math.round(n*.133)," км радиус"]})]})]})]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("label",{className:`text-sm font-semibold ${P?"text-gray-300":"text-gray-700"} flex items-center`,children:[y.jsx(P1,{className:"w-4 h-4 mr-2"}),"Управление слоями"]}),y.jsxs("div",{className:"space-y-2",children:[O.map(T=>{const G=T.icon;return y.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border transition-all ${c[T.key]?P?"bg-gray-700 border-gray-600":"bg-primary-50 border-primary-200":P?"bg-gray-800 border-gray-600 hover:bg-gray-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(G,{className:`w-5 h-5 ${c[T.key]?"text-primary-600":P?"text-gray-400":"text-gray-500"}`}),y.jsxs("div",{children:[y.jsx("span",{className:`text-sm font-medium ${P?"text-gray-200":"text-gray-900"}`,children:T.label}),T.count!==null&&y.jsxs("div",{className:`text-xs ${P?"text-gray-400":"text-gray-500"}`,children:[T.count," элементов"]})]})]}),y.jsx("button",{onClick:()=>h(T.key),className:`p-2 rounded-lg transition-colors ${c[T.key]?"text-primary-600 hover:text-primary-700":P?"text-gray-400 hover:text-gray-300":"text-gray-400 hover:text-gray-500"}`,children:c[T.key]?y.jsx(jp,{className:"w-4 h-4"}):y.jsx(k1,{className:"w-4 h-4"})})]},T.key)}),y.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border transition-all ${p?P?"bg-gray-700 border-gray-600":"bg-primary-50 border-primary-200":P?"bg-gray-800 border-gray-600 hover:bg-gray-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:`w-5 h-5 rounded-full border-2 ${p?"border-primary-600":"border-gray-400"}`}),y.jsx("span",{className:`text-sm font-medium ${P?"text-gray-200":"text-gray-900"}`,children:"Зоны покрытия"})]}),y.jsx("button",{onClick:v,className:`p-2 rounded-lg transition-colors ${p?"text-primary-600 hover:text-primary-700":P?"text-gray-400 hover:text-gray-300":"text-gray-400 hover:text-gray-500"}`,children:p?y.jsx(jp,{className:"w-4 h-4"}):y.jsx(k1,{className:"w-4 h-4"})})]}),y.jsx("div",{className:`mt-3 p-3 rounded-lg ${P?"bg-blue-900/20 border border-blue-800":"bg-blue-50 border border-blue-200"}`,children:y.jsxs("p",{className:`text-xs ${P?"text-blue-300":"text-blue-700"}`,children:["💡 ",y.jsx("strong",{children:"Новая функция:"}),' Нажмите кнопку "🎯 Радиус" в попапе любого учреждения, чтобы увидеть его индивидуальную зону покрытия за ',n," минут"]})})]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("button",{onClick:o,disabled:l,className:"w-full btn-primary flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed h-12 rounded-xl font-semibold text-sm shadow-lg transform transition-all hover:scale-105 disabled:hover:scale-100",children:l?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),y.jsx("span",{children:e==="school"?"Анализируем школьные зоны...":"Анализируем покрытие..."})]}):y.jsx(y.Fragment,{children:e==="school"?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"text-lg",children:"🏫"}),y.jsx("span",{children:"Найти места для новых школ"})]}):e==="hospital"?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"text-lg",children:"🏥"}),y.jsx("span",{children:"Анализ медицинского покрытия"})]}):y.jsxs(y.Fragment,{children:[y.jsx(yc,{className:"w-5 h-5"}),y.jsx("span",{children:"Сгенерировать рекомендации"})]})})}),e==="school"&&!l&&y.jsxs("div",{className:`text-xs p-3 rounded-lg ${P?"bg-yellow-900/20 border border-yellow-800":"bg-yellow-50 border border-yellow-200"}`,children:[y.jsx("div",{className:`font-medium mb-1 ${P?"text-yellow-300":"text-yellow-700"}`,children:"🎯 Специальный алгоритм для школ"}),y.jsxs("div",{className:`${P?"text-yellow-200":"text-yellow-600"}`,children:["• Анализ детского населения (6-17 лет)",y.jsx("br",{}),"• Оптимизация для пешеходной доступности",y.jsx("br",{}),"• Учет существующих образовательных учреждений",y.jsx("br",{}),"• Рекомендации по вместимости школ"]})]}),y.jsxs("button",{onClick:s,disabled:l,className:"w-full btn-secondary flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed h-12 rounded-xl font-semibold text-sm shadow-lg transform transition-all hover:scale-105 disabled:hover:scale-100",children:[y.jsx(Mx,{className:"w-5 h-5"}),y.jsx("span",{children:"Очистить карту"})]})]}),y.jsxs("div",{className:`rounded-xl p-4 ${P?"bg-blue-900/20 border border-blue-800":"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200"}`,children:[y.jsxs("h4",{className:`text-sm font-semibold ${P?"text-blue-300":"text-blue-900"} mb-2 flex items-center`,children:[y.jsx(C1,{className:"w-4 h-4 mr-2"}),"Умные советы"]}),y.jsxs("ul",{className:`text-xs ${P?"text-blue-200":"text-blue-800"} space-y-1`,children:[y.jsx("li",{children:"• Используйте поиск для быстрого нахождения объектов"}),y.jsx("li",{children:"• Добавляйте важные места в избранное ⭐"}),y.jsx("li",{children:"• Настройте время доезда для точного анализа"}),y.jsx("li",{children:"• Комбинируйте слои для лучшей визуализации"})]})]}),b&&y.jsxs("div",{className:`rounded-xl p-4 ${P?"bg-gradient-to-br from-purple-900/20 to-pink-900/20 border border-purple-800":"bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-200"}`,children:[y.jsxs("h4",{className:`text-sm font-semibold ${P?"text-purple-300":"text-purple-900"} mb-3 flex items-center`,children:[y.jsx(Sh,{className:"w-4 h-4 mr-2"}),"Статистика анализа"]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[y.jsxs("div",{className:`text-center p-2 rounded ${P?"bg-purple-800/30":"bg-white/70"}`,children:[y.jsxs("div",{className:`font-bold ${P?"text-purple-300":"text-purple-700"}`,children:[(b.current_coverage||0).toFixed(1),"%"]}),y.jsx("div",{className:`text-xs ${P?"text-purple-400":"text-purple-600"}`,children:"Текущее покрытие"})]}),y.jsxs("div",{className:`text-center p-2 rounded ${P?"bg-pink-800/30":"bg-white/70"}`,children:[y.jsx("div",{className:`font-bold ${P?"text-pink-300":"text-pink-700"}`,children:b.new_points_count||0}),y.jsx("div",{className:`text-xs ${P?"text-pink-400":"text-pink-600"}`,children:"Новых точек"})]})]})]}),J.length>0&&y.jsxs("div",{className:`rounded-xl p-4 ${P?"bg-yellow-900/20 border border-yellow-800":"bg-gradient-to-br from-yellow-50 to-amber-50 border border-yellow-200"}`,children:[y.jsxs("h4",{className:`text-sm font-semibold ${P?"text-yellow-300":"text-yellow-900"} mb-2 flex items-center`,children:[y.jsx(bd,{className:"w-4 h-4 mr-2"}),"Избранное (",J.length,")"]}),y.jsxs("div",{className:"space-y-1",children:[J.slice(0,3).map(T=>y.jsxs("div",{className:`text-xs p-2 rounded cursor-pointer transition-colors ${P?"bg-yellow-800/30 hover:bg-yellow-700/30 text-yellow-200":"bg-white/70 hover:bg-white text-yellow-800"}`,onClick:()=>{},children:[y.jsx("div",{className:"font-medium",children:T.name}),y.jsx("div",{className:`${P?"text-yellow-400":"text-yellow-600"}`,children:Dx(T.type).name})]},T.id)),J.length>3&&y.jsxs("div",{className:`text-xs text-center ${P?"text-yellow-400":"text-yellow-600"}`,children:["+",J.length-3," ещё"]})]})]}),y.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[y.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Анализ покрытия"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Тип учреждения"}),y.jsxs("select",{value:e,onChange:T=>t(T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[y.jsx("option",{value:"all",children:"Все учреждения"}),y.jsx("option",{value:"school",children:"Школы"}),y.jsx("option",{value:"hospital",children:"Больницы"}),y.jsx("option",{value:"clinic",children:"Клиники"}),y.jsx("option",{value:"polyclinic",children:"Поликлиники"}),y.jsx("option",{value:"fire_station",children:"Пожарные станции"}),y.jsx("option",{value:"police_station",children:"Полицейские участки"}),y.jsx("option",{value:"post_office",children:"Почтовые отделения"})]})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Максимальное время доезда: ",n," мин"]}),y.jsxs("div",{className:"px-3",children:[y.jsx("input",{type:"range",min:"5",max:"30",step:"1",value:n,onChange:T=>r(parseInt(T.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-modern"}),y.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[y.jsx("span",{children:"5 мин"}),y.jsx("span",{className:"text-center",children:n<=10?"Быстро":n<=20?"Умеренно":"Медленно"}),y.jsx("span",{children:"30 мин"})]})]}),y.jsxs("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{children:"🚶‍♂️ Пешком:"}),y.jsxs("span",{children:[Math.round(n*.08)," км"]})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{children:"🚌 Транспорт:"}),y.jsxs("span",{children:[Math.round(n*.3)," км"]})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{children:"🚗 Авто:"}),y.jsxs("span",{children:[Math.round(n*.5)," км"]})]})]})]}),y.jsxs("div",{className:"pt-3",children:[y.jsx("button",{onClick:o,disabled:l,className:`w-full py-3 px-4 rounded-lg font-medium transition-all duration-200 ${l?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white transform hover:scale-105 shadow-lg hover:shadow-xl"}`,children:l?y.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[y.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),y.jsx("span",{children:"Анализируем покрытие..."})]}):y.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[y.jsx(Sh,{className:"w-4 h-4"}),y.jsx("span",{children:"Анализировать покрытие"})]})}),(w==null?void 0:w.length)>0&&y.jsx("button",{onClick:s,className:"w-full mt-2 py-2 px-4 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors duration-200",children:"Очистить карту"})]}),b&&y.jsxs("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[y.jsxs("h4",{className:"font-medium text-blue-900 dark:text-blue-300 mb-2 flex items-center",children:[y.jsx(Ql,{className:"w-4 h-4 mr-2"}),"Результаты анализа"]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"font-semibold text-blue-600 dark:text-blue-400",children:[b.current_coverage_percentage||0,"%"]}),y.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Текущее покрытие"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"font-semibold text-green-600 dark:text-green-400",children:["+",b.coverage_improvement||0,"%"]}),y.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Улучшение"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"font-semibold text-purple-600 dark:text-purple-400",children:b.total_recommendations||0}),y.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Рекомендаций"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"font-semibold text-red-600 dark:text-red-400",children:b.high_priority_count||0}),y.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Приоритетных"})]})]}),b.estimated_population_served&&y.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200 dark:border-blue-700",children:y.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Население к обслуживанию: ",y.jsxs("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:[Math.round(b.estimated_population_served).toLocaleString()," чел."]})]})})]})]})]})]})})]})},Dx=e=>({school:{name:"Школа"},hospital:{name:"Больница"},polyclinic:{name:"Поликлиника"},clinic:{name:"Клиника"},fire_station:{name:"Пожарная станция"},police_station:{name:"Полицейский участок"},post_office:{name:"Почтовое отделение"},all:{name:"Все учреждения"}})[e]||{name:"Учреждение"};var Av={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(Ua,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},o,s=!r.document&&!!r.postMessage,l=r.IS_PAPA_WORKER||!1,c={},h=0,p={};function v(j){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(z){var V=ie(z);V.chunkSize=parseInt(V.chunkSize),z.step||z.chunk||(V.chunkSize=null),this._handle=new C(V),(this._handle.streamer=this)._config=V}).call(this,j),this.parseChunk=function(z,V){var O=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<O){let ne=this._config.newline;ne||(R=this._config.quoteChar||'"',ne=this._handle.guessLineEndings(z,R)),z=[...z.split(ne).slice(O)].join(ne)}this.isFirstChunk&&Z(this._config.beforeFirstChunk)&&(R=this._config.beforeFirstChunk(z))!==void 0&&(z=R),this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+z,R=(this._partialLine="",this._handle.parse(O,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(z=R.meta.cursor,O=(this._finished||(this._partialLine=O.substring(z-this._baseIndex),this._baseIndex=z),R&&R.data&&(this._rowCount+=R.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)r.postMessage({results:R,workerId:p.WORKER_ID,finished:O});else if(Z(this._config.chunk)&&!V){if(this._config.chunk(R,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=R=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(R.data),this._completeResults.errors=this._completeResults.errors.concat(R.errors),this._completeResults.meta=R.meta),this._completed||!O||!Z(this._config.complete)||R&&R.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),O||R&&R.meta.paused||this._nextChunk(),R}this._halted=!0},this._sendError=function(z){Z(this._config.error)?this._config.error(z):l&&this._config.error&&r.postMessage({workerId:p.WORKER_ID,error:z,finished:!1})}}function x(j){var z;(j=j||{}).chunkSize||(j.chunkSize=p.RemoteChunkSize),v.call(this,j),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(V){this._input=V,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(z=new XMLHttpRequest,this._config.withCredentials&&(z.withCredentials=this._config.withCredentials),s||(z.onload=H(this._chunkLoaded,this),z.onerror=H(this._chunkError,this)),z.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var V,O=this._config.downloadRequestHeaders;for(V in O)z.setRequestHeader(V,O[V])}var R;this._config.chunkSize&&(R=this._start+this._config.chunkSize-1,z.setRequestHeader("Range","bytes="+this._start+"-"+R));try{z.send(this._config.downloadRequestBody)}catch(ne){this._chunkError(ne.message)}s&&z.status===0&&this._chunkError()}},this._chunkLoaded=function(){z.readyState===4&&(z.status<200||400<=z.status?this._chunkError():(this._start+=this._config.chunkSize||z.responseText.length,this._finished=!this._config.chunkSize||this._start>=(V=>(V=V.getResponseHeader("Content-Range"))!==null?parseInt(V.substring(V.lastIndexOf("/")+1)):-1)(z),this.parseChunk(z.responseText)))},this._chunkError=function(V){V=z.statusText||V,this._sendError(new Error(V))}}function b(j){(j=j||{}).chunkSize||(j.chunkSize=p.LocalChunkSize),v.call(this,j);var z,V,O=typeof FileReader<"u";this.stream=function(R){this._input=R,V=R.slice||R.webkitSlice||R.mozSlice,O?((z=new FileReader).onload=H(this._chunkLoaded,this),z.onerror=H(this._chunkError,this)):z=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var R=this._input,ne=(this._config.chunkSize&&(ne=Math.min(this._start+this._config.chunkSize,this._input.size),R=V.call(R,this._start,ne)),z.readAsText(R,this._config.encoding));O||this._chunkLoaded({target:{result:ne}})},this._chunkLoaded=function(R){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(R.target.result)},this._chunkError=function(){this._sendError(z.error)}}function w(j){var z;v.call(this,j=j||{}),this.stream=function(V){return z=V,this._nextChunk()},this._nextChunk=function(){var V,O;if(!this._finished)return V=this._config.chunkSize,z=V?(O=z.substring(0,V),z.substring(V)):(O=z,""),this._finished=!z,this.parseChunk(O)}}function P(j){v.call(this,j=j||{});var z=[],V=!0,O=!1;this.pause=function(){v.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){v.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(R){this._input=R,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&z.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),z.length?this.parseChunk(z.shift()):V=!0},this._streamData=H(function(R){try{z.push(typeof R=="string"?R:R.toString(this._config.encoding)),V&&(V=!1,this._checkIsFinished(),this.parseChunk(z.shift()))}catch(ne){this._streamError(ne)}},this),this._streamError=H(function(R){this._streamCleanUp(),this._sendError(R)},this),this._streamEnd=H(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=H(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function C(j){var z,V,O,R,ne=Math.pow(2,53),Q=-ne,we=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,fe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ve=this,K=0,ae=0,se=!1,_e=!1,E=[],T={data:[],errors:[],meta:{}};function G(he){return j.skipEmptyLines==="greedy"?he.join("").trim()==="":he.length===1&&he[0].length===0}function ee(){if(T&&O&&(pe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),O=!1),j.skipEmptyLines&&(T.data=T.data.filter(function(ke){return!G(ke)})),re()){let ke=function(Be,Ue){Z(j.transformHeader)&&(Be=j.transformHeader(Be,Ue)),E.push(Be)};if(T)if(Array.isArray(T.data[0])){for(var he=0;re()&&he<T.data.length;he++)T.data[he].forEach(ke);T.data.splice(0,1)}else T.data.forEach(ke)}function me(ke,Be){for(var Ue=j.header?{}:[],Ze=0;Ze<ke.length;Ze++){var Se=Ze,X=ke[Ze],X=((it,Fe)=>(Te=>(j.dynamicTypingFunction&&j.dynamicTyping[Te]===void 0&&(j.dynamicTyping[Te]=j.dynamicTypingFunction(Te)),(j.dynamicTyping[Te]||j.dynamicTyping)===!0))(it)?Fe==="true"||Fe==="TRUE"||Fe!=="false"&&Fe!=="FALSE"&&((Te=>{if(we.test(Te)&&(Te=parseFloat(Te),Q<Te&&Te<ne))return 1})(Fe)?parseFloat(Fe):fe.test(Fe)?new Date(Fe):Fe===""?null:Fe):Fe)(Se=j.header?Ze>=E.length?"__parsed_extra":E[Ze]:Se,X=j.transform?j.transform(X,Se):X);Se==="__parsed_extra"?(Ue[Se]=Ue[Se]||[],Ue[Se].push(X)):Ue[Se]=X}return j.header&&(Ze>E.length?pe("FieldMismatch","TooManyFields","Too many fields: expected "+E.length+" fields but parsed "+Ze,ae+Be):Ze<E.length&&pe("FieldMismatch","TooFewFields","Too few fields: expected "+E.length+" fields but parsed "+Ze,ae+Be)),Ue}var Oe;T&&(j.header||j.dynamicTyping||j.transform)&&(Oe=1,!T.data.length||Array.isArray(T.data[0])?(T.data=T.data.map(me),Oe=T.data.length):T.data=me(T.data,0),j.header&&T.meta&&(T.meta.fields=E),ae+=Oe)}function re(){return j.header&&E.length===0}function pe(he,me,Oe,ke){he={type:he,code:me,message:Oe},ke!==void 0&&(he.row=ke),T.errors.push(he)}Z(j.step)&&(R=j.step,j.step=function(he){T=he,re()?ee():(ee(),T.data.length!==0&&(K+=he.data.length,j.preview&&K>j.preview?V.abort():(T.data=T.data[0],R(T,ve))))}),this.parse=function(he,me,Oe){var ke=j.quoteChar||'"',ke=(j.newline||(j.newline=this.guessLineEndings(he,ke)),O=!1,j.delimiter?Z(j.delimiter)&&(j.delimiter=j.delimiter(he),T.meta.delimiter=j.delimiter):((ke=((Be,Ue,Ze,Se,X)=>{var it,Fe,Te,Pe;X=X||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var Ce=0;Ce<X.length;Ce++){for(var $e,tt=X[Ce],Qe=0,lt=0,ot=0,ft=(Te=void 0,new S({comments:Se,delimiter:tt,newline:Ue,preview:10}).parse(Be)),kt=0;kt<ft.data.length;kt++)Ze&&G(ft.data[kt])?ot++:($e=ft.data[kt].length,lt+=$e,Te===void 0?Te=$e:0<$e&&(Qe+=Math.abs($e-Te),Te=$e));0<ft.data.length&&(lt/=ft.data.length-ot),(Fe===void 0||Qe<=Fe)&&(Pe===void 0||Pe<lt)&&1.99<lt&&(Fe=Qe,it=tt,Pe=lt)}return{successful:!!(j.delimiter=it),bestDelimiter:it}})(he,j.newline,j.skipEmptyLines,j.comments,j.delimitersToGuess)).successful?j.delimiter=ke.bestDelimiter:(O=!0,j.delimiter=p.DefaultDelimiter),T.meta.delimiter=j.delimiter),ie(j));return j.preview&&j.header&&ke.preview++,z=he,V=new S(ke),T=V.parse(z,me,Oe),ee(),se?{meta:{paused:!0}}:T||{meta:{paused:!1}}},this.paused=function(){return se},this.pause=function(){se=!0,V.abort(),z=Z(j.chunk)?"":z.substring(V.getCharIndex())},this.resume=function(){ve.streamer._halted?(se=!1,ve.streamer.parseChunk(z,!0)):setTimeout(ve.resume,3)},this.aborted=function(){return _e},this.abort=function(){_e=!0,V.abort(),T.meta.aborted=!0,Z(j.complete)&&j.complete(T),z=""},this.guessLineEndings=function(Be,ke){Be=Be.substring(0,1048576);var ke=new RegExp(U(ke)+"([^]*?)"+U(ke),"gm"),Oe=(Be=Be.replace(ke,"")).split("\r"),ke=Be.split(`
`),Be=1<ke.length&&ke[0].length<Oe[0].length;if(Oe.length===1||Be)return`
`;for(var Ue=0,Ze=0;Ze<Oe.length;Ze++)Oe[Ze][0]===`
`&&Ue++;return Ue>=Oe.length/2?`\r
`:"\r"}}function U(j){return j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function S(j){var z=(j=j||{}).delimiter,V=j.newline,O=j.comments,R=j.step,ne=j.preview,Q=j.fastMode,we=null,fe=!1,ve=j.quoteChar==null?'"':j.quoteChar,K=ve;if(j.escapeChar!==void 0&&(K=j.escapeChar),(typeof z!="string"||-1<p.BAD_DELIMITERS.indexOf(z))&&(z=","),O===z)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<p.BAD_DELIMITERS.indexOf(O))&&(O=!1),V!==`
`&&V!=="\r"&&V!==`\r
`&&(V=`
`);var ae=0,se=!1;this.parse=function(_e,E,T){if(typeof _e!="string")throw new Error("Input must be a string");var G=_e.length,ee=z.length,re=V.length,pe=O.length,he=Z(R),me=[],Oe=[],ke=[],Be=ae=0;if(!_e)return Qe();if(Q||Q!==!1&&_e.indexOf(ve)===-1){for(var Ue=_e.split(V),Ze=0;Ze<Ue.length;Ze++){if(ke=Ue[Ze],ae+=ke.length,Ze!==Ue.length-1)ae+=V.length;else if(T)return Qe();if(!O||ke.substring(0,pe)!==O){if(he){if(me=[],Pe(ke.split(z)),lt(),se)return Qe()}else Pe(ke.split(z));if(ne&&ne<=Ze)return me=me.slice(0,ne),Qe(!0)}}return Qe()}for(var Se=_e.indexOf(z,ae),X=_e.indexOf(V,ae),it=new RegExp(U(K)+U(ve),"g"),Fe=_e.indexOf(ve,ae);;)if(_e[ae]===ve)for(Fe=ae,ae++;;){if((Fe=_e.indexOf(ve,Fe+1))===-1)return T||Oe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:me.length,index:ae}),$e();if(Fe===G-1)return $e(_e.substring(ae,Fe).replace(it,ve));if(ve===K&&_e[Fe+1]===K)Fe++;else if(ve===K||Fe===0||_e[Fe-1]!==K){Se!==-1&&Se<Fe+1&&(Se=_e.indexOf(z,Fe+1));var Te=Ce((X=X!==-1&&X<Fe+1?_e.indexOf(V,Fe+1):X)===-1?Se:Math.min(Se,X));if(_e.substr(Fe+1+Te,ee)===z){ke.push(_e.substring(ae,Fe).replace(it,ve)),_e[ae=Fe+1+Te+ee]!==ve&&(Fe=_e.indexOf(ve,ae)),Se=_e.indexOf(z,ae),X=_e.indexOf(V,ae);break}if(Te=Ce(X),_e.substring(Fe+1+Te,Fe+1+Te+re)===V){if(ke.push(_e.substring(ae,Fe).replace(it,ve)),tt(Fe+1+Te+re),Se=_e.indexOf(z,ae),Fe=_e.indexOf(ve,ae),he&&(lt(),se))return Qe();if(ne&&me.length>=ne)return Qe(!0);break}Oe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:me.length,index:ae}),Fe++}}else if(O&&ke.length===0&&_e.substring(ae,ae+pe)===O){if(X===-1)return Qe();ae=X+re,X=_e.indexOf(V,ae),Se=_e.indexOf(z,ae)}else if(Se!==-1&&(Se<X||X===-1))ke.push(_e.substring(ae,Se)),ae=Se+ee,Se=_e.indexOf(z,ae);else{if(X===-1)break;if(ke.push(_e.substring(ae,X)),tt(X+re),he&&(lt(),se))return Qe();if(ne&&me.length>=ne)return Qe(!0)}return $e();function Pe(ot){me.push(ot),Be=ae}function Ce(ot){var ft=0;return ft=ot!==-1&&(ot=_e.substring(Fe+1,ot))&&ot.trim()===""?ot.length:ft}function $e(ot){return T||(ot===void 0&&(ot=_e.substring(ae)),ke.push(ot),ae=G,Pe(ke),he&&lt()),Qe()}function tt(ot){ae=ot,Pe(ke),ke=[],X=_e.indexOf(V,ae)}function Qe(ot){if(j.header&&!E&&me.length&&!fe){var ft=me[0],kt=Object.create(null),ut=new Set(ft);let Nt=!1;for(let We=0;We<ft.length;We++){let Ht=ft[We];if(kt[Ht=Z(j.transformHeader)?j.transformHeader(Ht,We):Ht]){let Pt,Vn=kt[Ht];for(;Pt=Ht+"_"+Vn,Vn++,ut.has(Pt););ut.add(Pt),ft[We]=Pt,kt[Ht]++,Nt=!0,(we=we===null?{}:we)[Pt]=Ht}else kt[Ht]=1,ft[We]=Ht;ut.add(Ht)}Nt&&console.warn("Duplicate headers found and renamed."),fe=!0}return{data:me,errors:Oe,meta:{delimiter:z,linebreak:V,aborted:se,truncated:!!ot,cursor:Be+(E||0),renamedHeaders:we}}}function lt(){R(Qe()),me=[],Oe=[]}},this.abort=function(){se=!0},this.getCharIndex=function(){return ae}}function A(j){var z=j.data,V=c[z.workerId],O=!1;if(z.error)V.userError(z.error,z.file);else if(z.results&&z.results.data){var R={abort:function(){O=!0,F(z.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:J,resume:J};if(Z(V.userStep)){for(var ne=0;ne<z.results.data.length&&(V.userStep({data:z.results.data[ne],errors:z.results.errors,meta:z.results.meta},R),!O);ne++);delete z.results}else Z(V.userChunk)&&(V.userChunk(z.results,R,z.file),delete z.results)}z.finished&&!O&&F(z.workerId,z.results)}function F(j,z){var V=c[j];Z(V.userComplete)&&V.userComplete(z),V.terminate(),delete c[j]}function J(){throw new Error("Not implemented.")}function ie(j){if(typeof j!="object"||j===null)return j;var z,V=Array.isArray(j)?[]:{};for(z in j)V[z]=ie(j[z]);return V}function H(j,z){return function(){j.apply(z,arguments)}}function Z(j){return typeof j=="function"}return p.parse=function(j,z){var V=(z=z||{}).dynamicTyping||!1;if(Z(V)&&(z.dynamicTypingFunction=V,V={}),z.dynamicTyping=V,z.transform=!!Z(z.transform)&&z.transform,!z.worker||!p.WORKERS_SUPPORTED)return V=null,p.NODE_STREAM_INPUT,typeof j=="string"?(j=(O=>O.charCodeAt(0)!==65279?O:O.slice(1))(j),V=new(z.download?x:w)(z)):j.readable===!0&&Z(j.read)&&Z(j.on)?V=new P(z):(r.File&&j instanceof File||j instanceof Object)&&(V=new b(z)),V.stream(j);(V=(()=>{var O;return!!p.WORKERS_SUPPORTED&&(O=(()=>{var R=r.URL||r.webkitURL||null,ne=n.toString();return p.BLOB_URL||(p.BLOB_URL=R.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ne,")();"],{type:"text/javascript"})))})(),(O=new r.Worker(O)).onmessage=A,O.id=h++,c[O.id]=O)})()).userStep=z.step,V.userChunk=z.chunk,V.userComplete=z.complete,V.userError=z.error,z.step=Z(z.step),z.chunk=Z(z.chunk),z.complete=Z(z.complete),z.error=Z(z.error),delete z.worker,V.postMessage({input:j,config:z,workerId:V.id})},p.unparse=function(j,z){var V=!1,O=!0,R=",",ne=`\r
`,Q='"',we=Q+Q,fe=!1,ve=null,K=!1,ae=((()=>{if(typeof z=="object"){if(typeof z.delimiter!="string"||p.BAD_DELIMITERS.filter(function(E){return z.delimiter.indexOf(E)!==-1}).length||(R=z.delimiter),typeof z.quotes!="boolean"&&typeof z.quotes!="function"&&!Array.isArray(z.quotes)||(V=z.quotes),typeof z.skipEmptyLines!="boolean"&&typeof z.skipEmptyLines!="string"||(fe=z.skipEmptyLines),typeof z.newline=="string"&&(ne=z.newline),typeof z.quoteChar=="string"&&(Q=z.quoteChar),typeof z.header=="boolean"&&(O=z.header),Array.isArray(z.columns)){if(z.columns.length===0)throw new Error("Option columns is empty");ve=z.columns}z.escapeChar!==void 0&&(we=z.escapeChar+Q),z.escapeFormulae instanceof RegExp?K=z.escapeFormulae:typeof z.escapeFormulae=="boolean"&&z.escapeFormulae&&(K=/^[=+\-@\t\r].*$/)}})(),new RegExp(U(Q),"g"));if(typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(j)){if(!j.length||Array.isArray(j[0]))return se(null,j,fe);if(typeof j[0]=="object")return se(ve||Object.keys(j[0]),j,fe)}else if(typeof j=="object")return typeof j.data=="string"&&(j.data=JSON.parse(j.data)),Array.isArray(j.data)&&(j.fields||(j.fields=j.meta&&j.meta.fields||ve),j.fields||(j.fields=Array.isArray(j.data[0])?j.fields:typeof j.data[0]=="object"?Object.keys(j.data[0]):[]),Array.isArray(j.data[0])||typeof j.data[0]=="object"||(j.data=[j.data])),se(j.fields||[],j.data||[],fe);throw new Error("Unable to serialize unrecognized input");function se(E,T,G){var ee="",re=(typeof E=="string"&&(E=JSON.parse(E)),typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(E)&&0<E.length),pe=!Array.isArray(T[0]);if(re&&O){for(var he=0;he<E.length;he++)0<he&&(ee+=R),ee+=_e(E[he],he);0<T.length&&(ee+=ne)}for(var me=0;me<T.length;me++){var Oe=(re?E:T[me]).length,ke=!1,Be=re?Object.keys(T[me]).length===0:T[me].length===0;if(G&&!re&&(ke=G==="greedy"?T[me].join("").trim()==="":T[me].length===1&&T[me][0].length===0),G==="greedy"&&re){for(var Ue=[],Ze=0;Ze<Oe;Ze++){var Se=pe?E[Ze]:Ze;Ue.push(T[me][Se])}ke=Ue.join("").trim()===""}if(!ke){for(var X=0;X<Oe;X++){0<X&&!Be&&(ee+=R);var it=re&&pe?E[X]:X;ee+=_e(T[me][it],X)}me<T.length-1&&(!G||0<Oe&&!Be)&&(ee+=ne)}}return ee}function _e(E,T){var G,ee;return E==null?"":E.constructor===Date?JSON.stringify(E).slice(1,25):(ee=!1,K&&typeof E=="string"&&K.test(E)&&(E="'"+E,ee=!0),G=E.toString().replace(ae,we),(ee=ee||V===!0||typeof V=="function"&&V(E,T)||Array.isArray(V)&&V[T]||((re,pe)=>{for(var he=0;he<pe.length;he++)if(-1<re.indexOf(pe[he]))return!0;return!1})(G,p.BAD_DELIMITERS)||-1<G.indexOf(R)||G.charAt(0)===" "||G.charAt(G.length-1)===" ")?Q+G+Q:G)}},p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!s&&!!r.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=S,p.ParserHandle=C,p.NetworkStreamer=x,p.FileStreamer=b,p.StringStreamer=w,p.ReadableStreamStreamer=P,r.jQuery&&((o=r.jQuery).fn.parse=function(j){var z=j.config||{},V=[];return this.each(function(ne){if(!(o(this).prop("tagName").toUpperCase()==="INPUT"&&o(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var Q=0;Q<this.files.length;Q++)V.push({file:this.files[Q],inputElem:this,instanceConfig:o.extend({},z)})}),O(),this;function O(){if(V.length===0)Z(j.complete)&&j.complete();else{var ne,Q,we,fe,ve=V[0];if(Z(j.before)){var K=j.before(ve.file,ve.inputElem);if(typeof K=="object"){if(K.action==="abort")return ne="AbortError",Q=ve.file,we=ve.inputElem,fe=K.reason,void(Z(j.error)&&j.error({name:ne},Q,we,fe));if(K.action==="skip")return void R();typeof K.config=="object"&&(ve.instanceConfig=o.extend(ve.instanceConfig,K.config))}else if(K==="skip")return void R()}var ae=ve.instanceConfig.complete;ve.instanceConfig.complete=function(se){Z(ae)&&ae(se,ve.file,ve.inputElem),R()},p.parse(ve.file,ve.instanceConfig)}}function R(){V.splice(0,1),O()}}),l&&(r.onmessage=function(j){j=j.data,p.WORKER_ID===void 0&&j&&(p.WORKER_ID=j.workerId),typeof j.input=="string"?r.postMessage({workerId:p.WORKER_ID,results:p.parse(j.input,j.config),finished:!0}):(r.File&&j.input instanceof File||j.input instanceof Object)&&(j=p.parse(j.input,j.config))&&r.postMessage({workerId:p.WORKER_ID,results:j,finished:!0})}),(x.prototype=Object.create(v.prototype)).constructor=x,(b.prototype=Object.create(v.prototype)).constructor=b,(w.prototype=Object.create(w.prototype)).constructor=w,(P.prototype=Object.create(v.prototype)).constructor=P,p})})(Av);var Bx=Av.exports;const qx=Jp(Bx),Ux="modulepreload",$x=function(e){return"/"+e},E1={},Ep=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));o=Promise.allSettled(n.map(h=>{if(h=$x(h),h in E1)return;E1[h]=!0;const p=h.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":Ux,p||(x.as="script"),x.crossOrigin="",x.href=h,c&&x.setAttribute("nonce",c),document.head.appendChild(x),p)return new Promise((b,w)=>{x.addEventListener("load",b),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};function Yt(e){"@babel/helpers - typeof";return Yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yt(e)}var kr=Uint8Array,xi=Uint16Array,W0=Int32Array,Lf=new kr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kf=new kr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Tp=new kr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jv=function(e,t){for(var n=new xi(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var o=new W0(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)o[s]=s-n[r]<<5|r;return{b:n,r:o}},Cv=jv(Lf,2),Ev=Cv.b,Op=Cv.r;Ev[28]=258,Op[258]=28;var Tv=jv(kf,0),Hx=Tv.b,T1=Tv.r,Ip=new xi(32768);for(var cn=0;cn<32768;++cn){var Vs=(cn&43690)>>1|(cn&21845)<<1;Vs=(Vs&52428)>>2|(Vs&13107)<<2,Vs=(Vs&61680)>>4|(Vs&3855)<<4,Ip[cn]=((Vs&65280)>>8|(Vs&255)<<8)>>1}var Uo=function(e,t,n){for(var r=e.length,o=0,s=new xi(t);o<r;++o)e[o]&&++s[e[o]-1];var l=new xi(t);for(o=1;o<t;++o)l[o]=l[o-1]+s[o-1]<<1;var c;if(n){c=new xi(1<<t);var h=15-t;for(o=0;o<r;++o)if(e[o])for(var p=o<<4|e[o],v=t-e[o],x=l[e[o]-1]++<<v,b=x|(1<<v)-1;x<=b;++x)c[Ip[x]>>h]=p}else for(c=new xi(r),o=0;o<r;++o)e[o]&&(c[o]=Ip[l[e[o]-1]++]>>15-e[o]);return c},fa=new kr(288);for(var cn=0;cn<144;++cn)fa[cn]=8;for(var cn=144;cn<256;++cn)fa[cn]=9;for(var cn=256;cn<280;++cn)fa[cn]=7;for(var cn=280;cn<288;++cn)fa[cn]=8;var _c=new kr(32);for(var cn=0;cn<32;++cn)_c[cn]=5;var Wx=Uo(fa,9,0),Zx=Uo(fa,9,1),Vx=Uo(_c,5,0),Gx=Uo(_c,5,1),Nd=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},oo=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Sd=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Z0=function(e){return(e+7)/8|0},Ov=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new kr(e.subarray(t,n))},Kx=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],lo=function(e,t,n){var r=new Error(t||Kx[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,lo),!n)throw r;return r},Jx=function(e,t,n,r){var o=e.length,s=0;if(!o||t.f&&!t.l)return n||new kr(0);var l=!n,c=l||t.i!=2,h=t.i;l&&(n=new kr(o*3));var p=function(ke){var Be=n.length;if(ke>Be){var Ue=new kr(Math.max(Be*2,ke));Ue.set(n),n=Ue}},v=t.f||0,x=t.p||0,b=t.b||0,w=t.l,P=t.d,C=t.m,U=t.n,S=o*8;do{if(!w){v=oo(e,x,1);var A=oo(e,x+1,3);if(x+=3,A)if(A==1)w=Zx,P=Gx,C=9,U=5;else if(A==2){var H=oo(e,x,31)+257,Z=oo(e,x+10,15)+4,j=H+oo(e,x+5,31)+1;x+=14;for(var z=new kr(j),V=new kr(19),O=0;O<Z;++O)V[Tp[O]]=oo(e,x+O*3,7);x+=Z*3;for(var R=Nd(V),ne=(1<<R)-1,Q=Uo(V,R,1),O=0;O<j;){var we=Q[oo(e,x,ne)];x+=we&15;var F=we>>4;if(F<16)z[O++]=F;else{var fe=0,ve=0;for(F==16?(ve=3+oo(e,x,3),x+=2,fe=z[O-1]):F==17?(ve=3+oo(e,x,7),x+=3):F==18&&(ve=11+oo(e,x,127),x+=7);ve--;)z[O++]=fe}}var K=z.subarray(0,H),ae=z.subarray(H);C=Nd(K),U=Nd(ae),w=Uo(K,C,1),P=Uo(ae,U,1)}else lo(1);else{var F=Z0(x)+4,J=e[F-4]|e[F-3]<<8,ie=F+J;if(ie>o){h&&lo(0);break}c&&p(b+J),n.set(e.subarray(F,ie),b),t.b=b+=J,t.p=x=ie*8,t.f=v;continue}if(x>S){h&&lo(0);break}}c&&p(b+131072);for(var se=(1<<C)-1,_e=(1<<U)-1,E=x;;E=x){var fe=w[Sd(e,x)&se],T=fe>>4;if(x+=fe&15,x>S){h&&lo(0);break}if(fe||lo(2),T<256)n[b++]=T;else if(T==256){E=x,w=null;break}else{var G=T-254;if(T>264){var O=T-257,ee=Lf[O];G=oo(e,x,(1<<ee)-1)+Ev[O],x+=ee}var re=P[Sd(e,x)&_e],pe=re>>4;re||lo(3),x+=re&15;var ae=Hx[pe];if(pe>3){var ee=kf[pe];ae+=Sd(e,x)&(1<<ee)-1,x+=ee}if(x>S){h&&lo(0);break}c&&p(b+131072);var he=b+G;if(b<ae){var me=s-ae,Oe=Math.min(ae,he);for(me+b<0&&lo(3);b<Oe;++b)n[b]=r[me+b]}for(;b<he;++b)n[b]=n[b-ae]}}t.l=w,t.p=E,t.b=b,t.f=v,w&&(v=1,t.m=C,t.d=P,t.n=U)}while(!v);return b!=n.length&&l?Ov(n,0,b):n.subarray(0,b)},cs=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Fu=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Ld=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var o=n.length,s=n.slice();if(!o)return{t:Mv,l:0};if(o==1){var l=new kr(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(ie,H){return ie.f-H.f}),n.push({s:-1,f:25001});var c=n[0],h=n[1],p=0,v=1,x=2;for(n[0]={s:-1,f:c.f+h.f,l:c,r:h};v!=o-1;)c=n[n[p].f<n[x].f?p++:x++],h=n[p!=v&&n[p].f<n[x].f?p++:x++],n[v++]={s:-1,f:c.f+h.f,l:c,r:h};for(var b=s[0].s,r=1;r<o;++r)s[r].s>b&&(b=s[r].s);var w=new xi(b+1),P=Mp(n[v-1],w,0);if(P>t){var r=0,C=0,U=P-t,S=1<<U;for(s.sort(function(H,Z){return w[Z.s]-w[H.s]||H.f-Z.f});r<o;++r){var A=s[r].s;if(w[A]>t)C+=S-(1<<P-w[A]),w[A]=t;else break}for(C>>=U;C>0;){var F=s[r].s;w[F]<t?C-=1<<t-w[F]++-1:++r}for(;r>=0&&C;--r){var J=s[r].s;w[J]==t&&(--w[J],++C)}P=t}return{t:new kr(w),l:P}},Mp=function(e,t,n){return e.s==-1?Math.max(Mp(e.l,t,n+1),Mp(e.r,t,n+1)):t[e.s]=n},O1=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new xi(++t),r=0,o=e[0],s=1,l=function(h){n[r++]=h},c=1;c<=t;++c)if(e[c]==o&&c!=t)++s;else{if(!o&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(o),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(o);s=1,o=e[c]}return{c:n.subarray(0,r),n:t}},zu=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Iv=function(e,t,n){var r=n.length,o=Z0(t+2);e[o]=r&255,e[o+1]=r>>8,e[o+2]=e[o]^255,e[o+3]=e[o+1]^255;for(var s=0;s<r;++s)e[o+s+4]=n[s];return(o+4+r)*8},I1=function(e,t,n,r,o,s,l,c,h,p,v){cs(t,v++,n),++o[256];for(var x=Ld(o,15),b=x.t,w=x.l,P=Ld(s,15),C=P.t,U=P.l,S=O1(b),A=S.c,F=S.n,J=O1(C),ie=J.c,H=J.n,Z=new xi(19),j=0;j<A.length;++j)++Z[A[j]&31];for(var j=0;j<ie.length;++j)++Z[ie[j]&31];for(var z=Ld(Z,7),V=z.t,O=z.l,R=19;R>4&&!V[Tp[R-1]];--R);var ne=p+5<<3,Q=zu(o,fa)+zu(s,_c)+l,we=zu(o,b)+zu(s,C)+l+14+3*R+zu(Z,V)+2*Z[16]+3*Z[17]+7*Z[18];if(h>=0&&ne<=Q&&ne<=we)return Iv(t,v,e.subarray(h,h+p));var fe,ve,K,ae;if(cs(t,v,1+(we<Q)),v+=2,we<Q){fe=Uo(b,w,0),ve=b,K=Uo(C,U,0),ae=C;var se=Uo(V,O,0);cs(t,v,F-257),cs(t,v+5,H-1),cs(t,v+10,R-4),v+=14;for(var j=0;j<R;++j)cs(t,v+3*j,V[Tp[j]]);v+=3*R;for(var _e=[A,ie],E=0;E<2;++E)for(var T=_e[E],j=0;j<T.length;++j){var G=T[j]&31;cs(t,v,se[G]),v+=V[G],G>15&&(cs(t,v,T[j]>>5&127),v+=T[j]>>12)}}else fe=Wx,ve=fa,K=Vx,ae=_c;for(var j=0;j<c;++j){var ee=r[j];if(ee>255){var G=ee>>18&31;Fu(t,v,fe[G+257]),v+=ve[G+257],G>7&&(cs(t,v,ee>>23&31),v+=Lf[G]);var re=ee&31;Fu(t,v,K[re]),v+=ae[re],re>3&&(Fu(t,v,ee>>5&8191),v+=kf[re])}else Fu(t,v,fe[ee]),v+=ve[ee]}return Fu(t,v,fe[256]),v+ve[256]},Yx=new W0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Mv=new kr(0),Xx=function(e,t,n,r,o,s){var l=s.z||e.length,c=new kr(r+l+5*(1+Math.ceil(l/7e3))+o),h=c.subarray(r,c.length-o),p=s.l,v=(s.r||0)&7;if(t){v&&(h[0]=s.r>>3);for(var x=Yx[t-1],b=x>>13,w=x&8191,P=(1<<n)-1,C=s.p||new xi(32768),U=s.h||new xi(P+1),S=Math.ceil(n/3),A=2*S,F=function(Ze){return(e[Ze]^e[Ze+1]<<S^e[Ze+2]<<A)&P},J=new W0(25e3),ie=new xi(288),H=new xi(32),Z=0,j=0,z=s.i||0,V=0,O=s.w||0,R=0;z+2<l;++z){var ne=F(z),Q=z&32767,we=U[ne];if(C[Q]=we,U[ne]=Q,O<=z){var fe=l-z;if((Z>7e3||V>24576)&&(fe>423||!p)){v=I1(e,h,0,J,ie,H,j,V,R,z-R,v),V=Z=j=0,R=z;for(var ve=0;ve<286;++ve)ie[ve]=0;for(var ve=0;ve<30;++ve)H[ve]=0}var K=2,ae=0,se=w,_e=Q-we&32767;if(fe>2&&ne==F(z-_e))for(var E=Math.min(b,fe)-1,T=Math.min(32767,z),G=Math.min(258,fe);_e<=T&&--se&&Q!=we;){if(e[z+K]==e[z+K-_e]){for(var ee=0;ee<G&&e[z+ee]==e[z+ee-_e];++ee);if(ee>K){if(K=ee,ae=_e,ee>E)break;for(var re=Math.min(_e,ee-2),pe=0,ve=0;ve<re;++ve){var he=z-_e+ve&32767,me=C[he],Oe=he-me&32767;Oe>pe&&(pe=Oe,we=he)}}}Q=we,we=C[Q],_e+=Q-we&32767}if(ae){J[V++]=268435456|Op[K]<<18|T1[ae];var ke=Op[K]&31,Be=T1[ae]&31;j+=Lf[ke]+kf[Be],++ie[257+ke],++H[Be],O=z+K,++Z}else J[V++]=e[z],++ie[e[z]]}}for(z=Math.max(z,O);z<l;++z)J[V++]=e[z],++ie[e[z]];v=I1(e,h,p,J,ie,H,j,V,R,z-R,v),p||(s.r=v&7|h[v/8|0]<<3,v-=7,s.h=U,s.p=C,s.i=z,s.w=O)}else{for(var z=s.w||0;z<l+p;z+=65535){var Ue=z+65535;Ue>=l&&(h[v/8|0]=p,Ue=l),v=Iv(h,v+1,e.subarray(z,Ue))}s.i=l}return Ov(c,0,r+Z0(v)+o)},Rv=function(){var e=1,t=0;return{p:function(n){for(var r=e,o=t,s=n.length|0,l=0;l!=s;){for(var c=Math.min(l+2655,s);l<c;++l)o+=r+=n[l];r=(r&65535)+15*(r>>16),o=(o&65535)+15*(o>>16)}e=r,t=o},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Qx=function(e,t,n,r,o){if(!o&&(o={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),l=new kr(s.length+e.length);l.set(s),l.set(e,s.length),e=l,o.w=s.length}return Xx(e,t.level==null?6:t.level,t.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,o)},Fv=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},ew=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var o=Rv();o.p(t.dictionary),Fv(e,2,o.d())}},tw=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&lo(6,"invalid zlib data"),(e[1]>>5&1)==1&&lo(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Rp(e,t){t||(t={});var n=Rv();n.p(e);var r=Qx(e,t,t.dictionary?6:2,4);return ew(r,t),Fv(r,r.length-4,n.d()),r}function nw(e,t){return Jx(e.subarray(tw(e),-4),{i:2},t,t)}var rw=typeof TextDecoder<"u"&&new TextDecoder,iw=0;try{rw.decode(Mv,{stream:!0}),iw=1}catch{}var pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function kd(){pt.console&&typeof pt.console.log=="function"&&pt.console.log.apply(pt.console,arguments)}var nn={log:kd,warn:function(e){pt.console&&(typeof pt.console.warn=="function"?pt.console.warn.apply(pt.console,arguments):kd.call(null,arguments))},error:function(e){pt.console&&(typeof pt.console.error=="function"?pt.console.error.apply(pt.console,arguments):kd(e))}};function Pd(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Ba(r.response,t,n)},r.onerror=function(){nn.error("could not download file")},r.send()}function M1(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function lh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Qu,Fp,Ba=pt.saveAs||((typeof window>"u"?"undefined":Yt(window))!=="object"||window!==pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=pt.URL||pt.webkitURL,o=document.createElement("a");t=t||e.name||"download",o.download=t,o.rel="noopener",typeof e=="string"?(o.href=e,o.origin!==location.origin?M1(o.href)?Pd(e,t,n):lh(o,o.target="_blank"):lh(o)):(o.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(o.href)},4e4),setTimeout(function(){lh(o)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(M1(e))Pd(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){lh(r)})}else navigator.msSaveOrOpenBlob(function(o,s){return s===void 0?s={autoBom:!1}:Yt(s)!=="object"&&(nn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Pd(e,t,n);var o=e.type==="application/octet-stream",s=/constructor/i.test(pt.HTMLElement)||pt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&s)&&(typeof FileReader>"u"?"undefined":Yt(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var v=c.result;v=l?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=v:location=v,r=null},c.readAsDataURL(e)}else{var h=pt.URL||pt.webkitURL,p=h.createObjectURL(e);r?r.location=p:location.href=p,r=null,setTimeout(function(){h.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function zv(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<n.length;r++){var o=n[r].re,s=n[r].process,l=o.exec(e);l&&(t=s(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),h=this.g.toString(16),p=this.b.toString(16);return c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),p.length==1&&(p="0"+p),"#"+c+h+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ad(e,t){var n=e[0],r=e[1],o=e[2],s=e[3];n=wr(n,r,o,s,t[0],7,-680876936),s=wr(s,n,r,o,t[1],12,-389564586),o=wr(o,s,n,r,t[2],17,606105819),r=wr(r,o,s,n,t[3],22,-1044525330),n=wr(n,r,o,s,t[4],7,-176418897),s=wr(s,n,r,o,t[5],12,1200080426),o=wr(o,s,n,r,t[6],17,-1473231341),r=wr(r,o,s,n,t[7],22,-45705983),n=wr(n,r,o,s,t[8],7,1770035416),s=wr(s,n,r,o,t[9],12,-1958414417),o=wr(o,s,n,r,t[10],17,-42063),r=wr(r,o,s,n,t[11],22,-1990404162),n=wr(n,r,o,s,t[12],7,1804603682),s=wr(s,n,r,o,t[13],12,-40341101),o=wr(o,s,n,r,t[14],17,-1502002290),n=br(n,r=wr(r,o,s,n,t[15],22,1236535329),o,s,t[1],5,-165796510),s=br(s,n,r,o,t[6],9,-1069501632),o=br(o,s,n,r,t[11],14,643717713),r=br(r,o,s,n,t[0],20,-373897302),n=br(n,r,o,s,t[5],5,-701558691),s=br(s,n,r,o,t[10],9,38016083),o=br(o,s,n,r,t[15],14,-660478335),r=br(r,o,s,n,t[4],20,-405537848),n=br(n,r,o,s,t[9],5,568446438),s=br(s,n,r,o,t[14],9,-1019803690),o=br(o,s,n,r,t[3],14,-187363961),r=br(r,o,s,n,t[8],20,1163531501),n=br(n,r,o,s,t[13],5,-1444681467),s=br(s,n,r,o,t[2],9,-51403784),o=br(o,s,n,r,t[7],14,1735328473),n=Nr(n,r=br(r,o,s,n,t[12],20,-1926607734),o,s,t[5],4,-378558),s=Nr(s,n,r,o,t[8],11,-2022574463),o=Nr(o,s,n,r,t[11],16,1839030562),r=Nr(r,o,s,n,t[14],23,-35309556),n=Nr(n,r,o,s,t[1],4,-1530992060),s=Nr(s,n,r,o,t[4],11,1272893353),o=Nr(o,s,n,r,t[7],16,-155497632),r=Nr(r,o,s,n,t[10],23,-1094730640),n=Nr(n,r,o,s,t[13],4,681279174),s=Nr(s,n,r,o,t[0],11,-358537222),o=Nr(o,s,n,r,t[3],16,-722521979),r=Nr(r,o,s,n,t[6],23,76029189),n=Nr(n,r,o,s,t[9],4,-640364487),s=Nr(s,n,r,o,t[12],11,-421815835),o=Nr(o,s,n,r,t[15],16,530742520),n=Sr(n,r=Nr(r,o,s,n,t[2],23,-995338651),o,s,t[0],6,-198630844),s=Sr(s,n,r,o,t[7],10,1126891415),o=Sr(o,s,n,r,t[14],15,-1416354905),r=Sr(r,o,s,n,t[5],21,-57434055),n=Sr(n,r,o,s,t[12],6,1700485571),s=Sr(s,n,r,o,t[3],10,-1894986606),o=Sr(o,s,n,r,t[10],15,-1051523),r=Sr(r,o,s,n,t[1],21,-2054922799),n=Sr(n,r,o,s,t[8],6,1873313359),s=Sr(s,n,r,o,t[15],10,-30611744),o=Sr(o,s,n,r,t[6],15,-1560198380),r=Sr(r,o,s,n,t[13],21,1309151649),n=Sr(n,r,o,s,t[4],6,-145523070),s=Sr(s,n,r,o,t[11],10,-1120210379),o=Sr(o,s,n,r,t[2],15,718787259),r=Sr(r,o,s,n,t[9],21,-343485551),e[0]=ta(n,e[0]),e[1]=ta(r,e[1]),e[2]=ta(o,e[2]),e[3]=ta(s,e[3])}function Pf(e,t,n,r,o,s){return t=ta(ta(t,e),ta(r,s)),ta(t<<o|t>>>32-o,n)}function wr(e,t,n,r,o,s,l){return Pf(t&n|~t&r,e,t,o,s,l)}function br(e,t,n,r,o,s,l){return Pf(t&r|n&~r,e,t,o,s,l)}function Nr(e,t,n,r,o,s,l){return Pf(t^n^r,e,t,o,s,l)}function Sr(e,t,n,r,o,s,l){return Pf(n^(t|~r),e,t,o,s,l)}function Dv(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ad(r,ow(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(Ad(r,o),t=0;t<16;t++)o[t]=0;return o[14]=8*n,Ad(r,o),r}function ow(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Qu=pt.atob.bind(pt),Fp=pt.btoa.bind(pt);var R1="0123456789abcdef".split("");function sw(e){for(var t="",n=0;n<4;n++)t+=R1[e>>8*n+4&15]+R1[e>>8*n&15];return t}function aw(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function zp(e){return Dv(e).map(aw).join("")}var lw=function(e){for(var t=0;t<e.length;t++)e[t]=sw(e[t]);return e.join("")}(Dv("hello"))!="5d41402abc4b2a76b9719d911017c592";function ta(e,t){if(lw){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Dp(e,t){var n,r,o,s;if(e!==n){for(var l=(o=e,s=1+(256/e.length>>0),new Array(s+1).join(o)),c=[],h=0;h<256;h++)c[h]=h;var p=0;for(h=0;h<256;h++){var v=c[h];p=(p+v+l.charCodeAt(h))%256,c[h]=c[p],c[p]=v}n=e,r=c}else c=r;var x=t.length,b=0,w=0,P="";for(h=0;h<x;h++)w=(w+(v=c[b=(b+1)%256]))%256,c[b]=c[w],c[w]=v,l=c[(c[b]+c[w])%256],P+=String.fromCharCode(t.charCodeAt(h)^l);return P}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var F1={print:4,modify:8,copy:16,"annot-forms":32};function Tl(e,t,n,r){this.v=1,this.r=2;var o=192;e.forEach(function(c){if(F1.perm!==void 0)throw new Error("Invalid permission: "+c);o+=F1[c]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,l),this.P=-(1+(255^o)),this.encryptionKey=zp(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Dp(this.encryptionKey,this.padding)}function Ol(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var o=e.charCodeAt(r);o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?t+="#"+("0"+o.toString(16)).slice(-2):t+=e[r]}return t}function z1(e){if(Yt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,o){if(o=o||!1,typeof n!="string"||typeof r!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!o],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),o=[];for(var s in t[n]){var l=t[n][s];try{l[0].apply(e,r)}catch(c){pt.console&&nn.error("jsPDF PubSub Error",c.message,c)}l[1]&&o.push(s)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function rf(e){if(!(this instanceof rf))return new rf(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Bv(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function $a(e,t,n,r,o){if(!(this instanceof $a))return new $a(e,t,n,r,o);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Bv.call(this,r,o)}function Zl(e,t,n,r,o){if(!(this instanceof Zl))return new Zl(e,t,n,r,o);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Bv.call(this,r,o)}function dt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],o=arguments[2],s=arguments[3],l=[],c=1,h=16,p="S",v=null;Yt(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,o=e.format||o,s=e.compress||e.compressPdf||s,(v=e.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(h=e.floatPrecision),p=e.defaultPathOperation||"S"),l=e.filters||(s===!0?["FlateEncode"]:l),r=r||"mm",n=(""+(n||"P")).toLowerCase();var x=e.putOnlyUsedFonts||!1,b={},w={internal:{},__private__:{}};w.__private__.PubSub=z1;var P="1.3",C=w.__private__.getPdfVersion=function(){return P};w.__private__.setPdfVersion=function(m){P=m};var U={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return U};var S=w.__private__.getPageFormat=function(m){return U[m]};o=o||"a4";var A={COMPAT:"compat",ADVANCED:"advanced"},F=A.COMPAT;function J(){this.saveGraphicsState(),X(new ct(We,0,0,-We,0,Lo()*We).toString()+" cm"),this.setFontSize(this.getFontSize()/We),p="n",F=A.ADVANCED}function ie(){this.restoreGraphicsState(),p="S",F=A.COMPAT}var H=w.__private__.combineFontStyleAndFontWeight=function(m,M){if(m=="bold"&&M=="normal"||m=="bold"&&M==400||m=="normal"&&M=="italic"||m=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(m=M==400||M==="normal"?m==="italic"?"italic":"normal":M!=700&&M!=="bold"||m!=="normal"?(M==700?"bold":M)+""+m:"bold"),m};w.advancedAPI=function(m){var M=F===A.COMPAT;return M&&J.call(this),typeof m!="function"||(m(this),M&&ie.call(this)),this},w.compatAPI=function(m){var M=F===A.ADVANCED;return M&&ie.call(this),typeof m!="function"||(m(this),M&&J.call(this)),this},w.isAdvancedAPI=function(){return F===A.ADVANCED};var Z,j=function(m){if(F!==A.ADVANCED)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=w.roundToPrecision=w.__private__.roundToPrecision=function(m,M){var te=t||M;if(isNaN(m)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(te).replace(/0+$/,"")};Z=w.hpf=w.__private__.hpf=typeof h=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return z(m,h)}:h==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return z(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return z(m,16)};var V=w.f2=w.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return z(m,2)},O=w.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return z(m,3)},R=w.scale=w.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return F===A.COMPAT?m*We:F===A.ADVANCED?m:void 0},ne=function(m){return F===A.COMPAT?Lo()-m:F===A.ADVANCED?m:void 0},Q=function(m){return R(ne(m))};w.__private__.setPrecision=w.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(t=parseInt(m,10))};var we,fe="00000000000000000000000000000000",ve=w.__private__.getFileId=function(){return fe},K=w.__private__.setFileId=function(m){return fe=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():fe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(An=new Tl(v.userPermissions,v.userPassword,v.ownerPassword,fe)),fe};w.setFileId=function(m){return K(m),this},w.getFileId=function(){return ve()};var ae=w.__private__.convertDateToPDFDate=function(m){var M=m.getTimezoneOffset(),te=M<0?"+":"-",le=Math.floor(Math.abs(M/60)),ye=Math.abs(M%60),Ae=[te,G(le),"'",G(ye),"'"].join("");return["D:",m.getFullYear(),G(m.getMonth()+1),G(m.getDate()),G(m.getHours()),G(m.getMinutes()),G(m.getSeconds()),Ae].join("")},se=w.__private__.convertPDFDateToDate=function(m){var M=parseInt(m.substr(2,4),10),te=parseInt(m.substr(6,2),10)-1,le=parseInt(m.substr(8,2),10),ye=parseInt(m.substr(10,2),10),Ae=parseInt(m.substr(12,2),10),qe=parseInt(m.substr(14,2),10);return new Date(M,te,le,ye,Ae,qe,0)},_e=w.__private__.setCreationDate=function(m){var M;if(m===void 0&&(m=new Date),m instanceof Date)M=ae(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=m}return we=M},E=w.__private__.getCreationDate=function(m){var M=we;return m==="jsDate"&&(M=se(we)),M};w.setCreationDate=function(m){return _e(m),this},w.getCreationDate=function(m){return E(m)};var T,G=w.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},ee=w.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},re=0,pe=[],he=[],me=0,Oe=[],ke=[],Be=!1,Ue=he,Ze=function(){re=0,me=0,he=[],pe=[],Oe=[],Ai=Ge(),Zr=Ge()};w.__private__.setCustomOutputDestination=function(m){Be=!0,Ue=m};var Se=function(m){Be||(Ue=m)};w.__private__.resetCustomOutputDestination=function(){Be=!1,Ue=he};var X=w.__private__.out=function(m){return m=m.toString(),me+=m.length+1,Ue.push(m),Ue},it=w.__private__.write=function(m){return X(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},Fe=w.__private__.getArrayBuffer=function(m){for(var M=m.length,te=new ArrayBuffer(M),le=new Uint8Array(te);M--;)le[M]=m.charCodeAt(M);return te},Te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return Te};var Pe=e.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(m){return Pe=F===A.ADVANCED?m/We:m,this};var Ce,$e=w.__private__.getFontSize=w.getFontSize=function(){return F===A.COMPAT?Pe:Pe*We},tt=e.R2L||!1;w.__private__.setR2L=w.setR2L=function(m){return tt=m,this},w.__private__.getR2L=w.getR2L=function(){return tt};var Qe,lt=w.__private__.setZoomMode=function(m){var M=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))Ce=m;else if(isNaN(m)){if(M.indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');Ce=m}else Ce=parseInt(m,10)};w.__private__.getZoomMode=function(){return Ce};var ot,ft=w.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');Qe=m};w.__private__.getPageMode=function(){return Qe};var kt=w.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');ot=m};w.__private__.getLayoutMode=function(){return ot},w.__private__.setDisplayMode=w.setDisplayMode=function(m,M,te){return lt(m),kt(M),ft(te),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(m){if(Object.keys(ut).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[m]},w.__private__.getDocumentProperties=function(){return ut},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(m){for(var M in ut)ut.hasOwnProperty(M)&&m[M]&&(ut[M]=m[M]);return this},w.__private__.setDocumentProperty=function(m,M){if(Object.keys(ut).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[m]=M};var Nt,We,Ht,Pt,Vn,Ut={},rn={},fr=[],Dt={},Ho={},an={},Hr={},Li=null,fn=0,vt=[],Bt=new z1(w),Wo=e.hotfixes||[],Dn={},ki={},Wr=[],ct=function m(M,te,le,ye,Ae,qe){if(!(this instanceof m))return new m(M,te,le,ye,Ae,qe);isNaN(M)&&(M=1),isNaN(te)&&(te=0),isNaN(le)&&(le=0),isNaN(ye)&&(ye=1),isNaN(Ae)&&(Ae=0),isNaN(qe)&&(qe=0),this._matrix=[M,te,le,ye,Ae,qe]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Z).join(m)},ct.prototype.multiply=function(m){var M=m.sx*this.sx+m.shy*this.shx,te=m.sx*this.shy+m.shy*this.sy,le=m.shx*this.sx+m.sy*this.shx,ye=m.shx*this.shy+m.sy*this.sy,Ae=m.tx*this.sx+m.ty*this.shx+this.tx,qe=m.tx*this.shy+m.ty*this.sy+this.ty;return new ct(M,te,le,ye,Ae,qe)},ct.prototype.decompose=function(){var m=this.sx,M=this.shy,te=this.shx,le=this.sy,ye=this.tx,Ae=this.ty,qe=Math.sqrt(m*m+M*M),Ke=(m/=qe)*te+(M/=qe)*le;te-=m*Ke,le-=M*Ke;var et=Math.sqrt(te*te+le*le);return Ke/=et,m*(le/=et)<M*(te/=et)&&(m=-m,M=-M,Ke=-Ke,qe=-qe),{scale:new ct(qe,0,0,et,0,0),translate:new ct(1,0,0,1,ye,Ae),rotate:new ct(m,M,-M,m,0,0),skew:new ct(1,0,Ke,1,0,0)}},ct.prototype.toString=function(m){return this.join(" ")},ct.prototype.inversed=function(){var m=this.sx,M=this.shy,te=this.shx,le=this.sy,ye=this.tx,Ae=this.ty,qe=1/(m*le-M*te),Ke=le*qe,et=-M*qe,_t=-te*qe,gt=m*qe;return new ct(Ke,et,_t,gt,-Ke*ye-_t*Ae,-et*ye-gt*Ae)},ct.prototype.applyToPoint=function(m){var M=m.x*this.sx+m.y*this.shx+this.tx,te=m.x*this.shy+m.y*this.sy+this.ty;return new os(M,te)},ct.prototype.applyToRectangle=function(m){var M=this.applyToPoint(m),te=this.applyToPoint(new os(m.x+m.w,m.y+m.h));return new Kr(M.x,M.y,te.x-M.x,te.y-M.y)},ct.prototype.clone=function(){var m=this.sx,M=this.shy,te=this.shx,le=this.sy,ye=this.tx,Ae=this.ty;return new ct(m,M,te,le,ye,Ae)},w.Matrix=ct;var ci=w.matrixMult=function(m,M){return M.multiply(m)},Pi=new ct(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Pi;var dr=function(m,M){if(!Ho[m]){var te=(M instanceof $a?"Sh":"P")+(Object.keys(Dt).length+1).toString(10);M.id=te,Ho[m]=te,Dt[te]=M,Bt.publish("addPattern",M)}};w.ShadingPattern=$a,w.TilingPattern=Zl,w.addShadingPattern=function(m,M){return j("addShadingPattern()"),dr(m,M),this},w.beginTilingPattern=function(m){j("beginTilingPattern()"),ka(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},w.endTilingPattern=function(m,M){j("endTilingPattern()"),M.stream=ke[T].join(`
`),dr(m,M),Bt.publish("endTilingPattern",M),Wr.pop().restore()};var $t=w.__private__.newObject=function(){var m=Ge();return pr(m,!0),m},Ge=w.__private__.newObjectDeferred=function(){return re++,pe[re]=function(){return me},re},pr=function(m,M){return M=typeof M=="boolean"&&M,pe[m]=me,M&&X(m+" 0 obj"),m},Zo=w.__private__.newAdditionalObject=function(){var m={objId:Ge(),content:""};return Oe.push(m),m},Ai=Ge(),Zr=Ge(),jr=w.__private__.decodeColorString=function(m){var M=m.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length===5&&(M[4]==="k"||M[4]==="K")&&(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var te=parseFloat(M[0]);M=[te,te,te,"r"]}for(var le="#",ye=0;ye<3;ye++)le+=("0"+Math.floor(255*parseFloat(M[ye])).toString(16)).slice(-2);return le},Vr=w.__private__.encodeColorString=function(m){var M;typeof m=="string"&&(m={ch1:m});var te=m.ch1,le=m.ch2,ye=m.ch3,Ae=m.ch4,qe=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var Ke=new zv(te);if(Ke.ok)te=Ke.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var et=parseInt(te.substr(1),16);te=et>>16&255,le=et>>8&255,ye=255&et}if(le===void 0||Ae===void 0&&te===le&&le===ye)if(typeof te=="string")M=te+" "+qe[0];else switch(m.precision){case 2:M=V(te/255)+" "+qe[0];break;case 3:default:M=O(te/255)+" "+qe[0]}else if(Ae===void 0||Yt(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return M=["1.","1.","1.",qe[1]].join(" ");if(typeof te=="string")M=[te,le,ye,qe[1]].join(" ");else switch(m.precision){case 2:M=[V(te/255),V(le/255),V(ye/255),qe[1]].join(" ");break;default:case 3:M=[O(te/255),O(le/255),O(ye/255),qe[1]].join(" ")}}else if(typeof te=="string")M=[te,le,ye,Ae,qe[2]].join(" ");else switch(m.precision){case 2:M=[V(te),V(le),V(ye),V(Ae),qe[2]].join(" ");break;case 3:default:M=[O(te),O(le),O(ye),O(Ae),qe[2]].join(" ")}return M},rr=w.__private__.getFilters=function(){return l},Cr=w.__private__.putStream=function(m){var M=(m=m||{}).data||"",te=m.filters||rr(),le=m.alreadyAppliedFilters||[],ye=m.addLength1||!1,Ae=M.length,qe=m.objectId,Ke=function(Kn){return Kn};if(v!==null&&qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(Ke=An.encryptor(qe,0));var et={};te===!0&&(te=["FlateEncode"]);var _t=m.additionalKeyValues||[],gt=(et=dt.API.processDataByFilters!==void 0?dt.API.processDataByFilters(M,te):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(et.data.length!==0&&(_t.push({key:"Length",value:et.data.length}),ye===!0&&_t.push({key:"Length1",value:Ae})),gt.length!=0)if(gt.split("/").length-1==1)_t.push({key:"Filter",value:gt});else{_t.push({key:"Filter",value:"["+gt+"]"});for(var It=0;It<_t.length;It+=1)if(_t[It].key==="DecodeParms"){for(var en=[],on=0;on<et.reverseChain.split("/").length-1;on+=1)en.push("null");en.push(_t[It].value),_t[It].value="["+en.join(" ")+"]"}}X("<<");for(var bn=0;bn<_t.length;bn++)X("/"+_t[bn].key+" "+_t[bn].value);X(">>"),et.data.length!==0&&(X("stream"),X(Ke(et.data)),X("endstream"))},ji=w.__private__.putPage=function(m){var M=m.number,te=m.data,le=m.objId,ye=m.contentsObjId;pr(le,!0),X("<</Type /Page"),X("/Parent "+m.rootDictionaryObjId+" 0 R"),X("/Resources "+m.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(Z(m.mediaBox.bottomLeftX))+" "+parseFloat(Z(m.mediaBox.bottomLeftY))+" "+Z(m.mediaBox.topRightX)+" "+Z(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&X("/CropBox ["+Z(m.cropBox.bottomLeftX)+" "+Z(m.cropBox.bottomLeftY)+" "+Z(m.cropBox.topRightX)+" "+Z(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&X("/BleedBox ["+Z(m.bleedBox.bottomLeftX)+" "+Z(m.bleedBox.bottomLeftY)+" "+Z(m.bleedBox.topRightX)+" "+Z(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&X("/TrimBox ["+Z(m.trimBox.bottomLeftX)+" "+Z(m.trimBox.bottomLeftY)+" "+Z(m.trimBox.topRightX)+" "+Z(m.trimBox.topRightY)+"]"),m.artBox!==null&&X("/ArtBox ["+Z(m.artBox.bottomLeftX)+" "+Z(m.artBox.bottomLeftY)+" "+Z(m.artBox.topRightX)+" "+Z(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&X("/UserUnit "+m.userUnit),Bt.publish("putPage",{objId:le,pageContext:vt[M],pageNumber:M,page:te}),X("/Contents "+ye+" 0 R"),X(">>"),X("endobj");var Ae=te.join(`
`);return F===A.ADVANCED&&(Ae+=`
Q`),pr(ye,!0),Cr({data:Ae,filters:rr(),objectId:ye}),X("endobj"),le},Vo=w.__private__.putPages=function(){var m,M,te=[];for(m=1;m<=fn;m++)vt[m].objId=Ge(),vt[m].contentsObjId=Ge();for(m=1;m<=fn;m++)te.push(ji({number:m,data:ke[m],objId:vt[m].objId,contentsObjId:vt[m].contentsObjId,mediaBox:vt[m].mediaBox,cropBox:vt[m].cropBox,bleedBox:vt[m].bleedBox,trimBox:vt[m].trimBox,artBox:vt[m].artBox,userUnit:vt[m].userUnit,rootDictionaryObjId:Ai,resourceDictionaryObjId:Zr}));pr(Ai,!0),X("<</Type /Pages");var le="/Kids [";for(M=0;M<fn;M++)le+=te[M]+" 0 R ";X(le+"]"),X("/Count "+fn),X(">>"),X("endobj"),Bt.publish("postPutPages")},ws=function(m){Bt.publish("putFont",{font:m,out:X,newObject:$t,putStream:Cr}),m.isAlreadyPutted!==!0&&(m.objectNumber=$t(),X("<<"),X("/Type /Font"),X("/BaseFont /"+Ol(m.postScriptName)),X("/Subtype /Type1"),typeof m.encoding=="string"&&X("/Encoding /"+m.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},bs=function(){for(var m in Ut)Ut.hasOwnProperty(m)&&(x===!1||x===!0&&b.hasOwnProperty(m))&&ws(Ut[m])},Go=function(m){m.objectNumber=$t();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[Z(m.x),Z(m.y),Z(m.x+m.width),Z(m.y+m.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var te=m.pages[1].join(`
`);Cr({data:te,additionalKeyValues:M,objectId:m.objectNumber}),X("endobj")},Ns=function(){for(var m in Dn)Dn.hasOwnProperty(m)&&Go(Dn[m])},Ko=function(m,M){var te,le=[],ye=1/(M-1);for(te=0;te<1;te+=ye)le.push(te);if(le.push(1),m[0].offset!=0){var Ae={offset:0,color:m[0].color};m.unshift(Ae)}if(m[m.length-1].offset!=1){var qe={offset:1,color:m[m.length-1].color};m.push(qe)}for(var Ke="",et=0,_t=0;_t<le.length;_t++){for(te=le[_t];te>m[et+1].offset;)et++;var gt=m[et].offset,It=(te-gt)/(m[et+1].offset-gt),en=m[et].color,on=m[et+1].color;Ke+=ee(Math.round((1-It)*en[0]+It*on[0]).toString(16))+ee(Math.round((1-It)*en[1]+It*on[1]).toString(16))+ee(Math.round((1-It)*en[2]+It*on[2]).toString(16))}return Ke.trim()},gu=function(m,M){M||(M=21);var te=$t(),le=Ko(m.colors,M),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+M+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Cr({data:le,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),X("endobj"),m.objectNumber=$t(),X("<< /ShadingType "+m.type),X("/ColorSpace /DeviceRGB");var Ae="/Coords ["+Z(parseFloat(m.coords[0]))+" "+Z(parseFloat(m.coords[1]))+" ";m.type===2?Ae+=Z(parseFloat(m.coords[2]))+" "+Z(parseFloat(m.coords[3])):Ae+=Z(parseFloat(m.coords[2]))+" "+Z(parseFloat(m.coords[3]))+" "+Z(parseFloat(m.coords[4]))+" "+Z(parseFloat(m.coords[5])),X(Ae+="]"),m.matrix&&X("/Matrix ["+m.matrix.toString()+"]"),X("/Function "+te+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},vu=function(m,M){var te=Ge(),le=$t();M.push({resourcesOid:te,objectOid:le}),m.objectNumber=le;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+m.boundingBox.map(Z).join(" ")+"]"}),ye.push({key:"XStep",value:Z(m.xStep)}),ye.push({key:"YStep",value:Z(m.yStep)}),ye.push({key:"Resources",value:te+" 0 R"}),m.matrix&&ye.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),Cr({data:m.stream,additionalKeyValues:ye,objectId:m.objectNumber}),X("endobj")},Ss=function(m){var M;for(M in Dt)Dt.hasOwnProperty(M)&&(Dt[M]instanceof $a?gu(Dt[M]):Dt[M]instanceof Zl&&vu(Dt[M],m))},al=function(m){for(var M in m.objectNumber=$t(),X("<<"),m)switch(M){case"opacity":X("/ca "+V(m[M]));break;case"stroke-opacity":X("/CA "+V(m[M]))}X(">>"),X("endobj")},yu=function(){var m;for(m in an)an.hasOwnProperty(m)&&al(an[m])},Jo=function(){for(var m in X("/XObject <<"),Dn)Dn.hasOwnProperty(m)&&Dn[m].objectNumber>=0&&X("/"+m+" "+Dn[m].objectNumber+" 0 R");Bt.publish("putXobjectDict"),X(">>")},Yo=function(){An.oid=$t(),X("<<"),X("/Filter /Standard"),X("/V "+An.v),X("/R "+An.r),X("/U <"+An.toHexString(An.U)+">"),X("/O <"+An.toHexString(An.O)+">"),X("/P "+An.P),X(">>"),X("endobj")},va=function(){for(var m in X("/Font <<"),Ut)Ut.hasOwnProperty(m)&&(x===!1||x===!0&&b.hasOwnProperty(m))&&X("/"+m+" "+Ut[m].objectNumber+" 0 R");X(">>")},ll=function(){if(Object.keys(Dt).length>0){for(var m in X("/Shading <<"),Dt)Dt.hasOwnProperty(m)&&Dt[m]instanceof $a&&Dt[m].objectNumber>=0&&X("/"+m+" "+Dt[m].objectNumber+" 0 R");Bt.publish("putShadingPatternDict"),X(">>")}},Ci=function(m){if(Object.keys(Dt).length>0){for(var M in X("/Pattern <<"),Dt)Dt.hasOwnProperty(M)&&Dt[M]instanceof w.TilingPattern&&Dt[M].objectNumber>=0&&Dt[M].objectNumber<m&&X("/"+M+" "+Dt[M].objectNumber+" 0 R");Bt.publish("putTilingPatternDict"),X(">>")}},Ot=function(){if(Object.keys(an).length>0){var m;for(m in X("/ExtGState <<"),an)an.hasOwnProperty(m)&&an[m].objectNumber>=0&&X("/"+m+" "+an[m].objectNumber+" 0 R");Bt.publish("putGStateDict"),X(">>")}},xt=function(m){pr(m.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),va(),ll(),Ci(m.objectOid),Ot(),Jo(),X(">>"),X("endobj")},Xo=function(){var m=[];bs(),yu(),Ns(),Ss(m),Bt.publish("putResources"),m.forEach(xt),xt({resourcesOid:Zr,objectOid:Number.MAX_SAFE_INTEGER}),Bt.publish("postPutResources")},Zi=function(){Bt.publish("putAdditionalObjects");for(var m=0;m<Oe.length;m++){var M=Oe[m];pr(M.objId,!0),X(M.content),X("endobj")}Bt.publish("postPutAdditionalObjects")},Vi=function(m){rn[m.fontName]=rn[m.fontName]||{},rn[m.fontName][m.fontStyle]=m.id},Qo=function(m,M,te,le,ye){var Ae={id:"F"+(Object.keys(Ut).length+1).toString(10),postScriptName:m,fontName:M,fontStyle:te,encoding:le,isStandardFont:ye||!1,metadata:{}};return Bt.publish("addFont",{font:Ae,instance:this}),Ut[Ae.id]=Ae,Vi(Ae),Ae.id},wt=function(m){for(var M=0,te=Te.length;M<te;M++){var le=Qo.call(this,m[M][0],m[M][1],m[M][2],Te[M][3],!0);x===!1&&(b[le]=!0);var ye=m[M][0].split("-");Vi({id:le,fontName:ye[0],fontStyle:ye[1]||""})}Bt.publish("addFonts",{fonts:Ut,dictionary:rn})},Rt=function(m){return m.foo=function(){try{return m.apply(this,arguments)}catch(le){var M=le.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var te="Error in function "+M.split(`
`)[0].split("<")[0]+": "+le.message;if(!pt.console)throw new Error(te);pt.console.error(te,le),pt.alert&&alert(te)}},m.foo.bar=m,m.foo},yo=function(m,M){var te,le,ye,Ae,qe,Ke,et,_t,gt;if(ye=(M=M||{}).sourceEncoding||"Unicode",qe=M.outputEncoding,(M.autoencode||qe)&&Ut[Nt].metadata&&Ut[Nt].metadata[ye]&&Ut[Nt].metadata[ye].encoding&&(Ae=Ut[Nt].metadata[ye].encoding,!qe&&Ut[Nt].encoding&&(qe=Ut[Nt].encoding),!qe&&Ae.codePages&&(qe=Ae.codePages[0]),typeof qe=="string"&&(qe=Ae[qe]),qe)){for(et=!1,Ke=[],te=0,le=m.length;te<le;te++)(_t=qe[m.charCodeAt(te)])?Ke.push(String.fromCharCode(_t)):Ke.push(m[te]),Ke[te].charCodeAt(0)>>8&&(et=!0);m=Ke.join("")}for(te=m.length;et===void 0&&te!==0;)m.charCodeAt(te-1)>>8&&(et=!0),te--;if(!et)return m;for(Ke=M.noBOM?[]:[254,255],te=0,le=m.length;te<le;te++){if((gt=(_t=m.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+m+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ke.push(gt),Ke.push(_t-(gt<<8))}return String.fromCharCode.apply(void 0,Ke)},Bn=w.__private__.pdfEscape=w.pdfEscape=function(m,M){return yo(m,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gn=w.__private__.beginPage=function(m){ke[++fn]=[],vt[fn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},Ei(fn),Se(ke[T])},ul=function(m,M){var te,le,ye;switch(n=M||n,typeof m=="string"&&(te=S(m.toLowerCase()),Array.isArray(te)&&(le=te[0],ye=te[1])),Array.isArray(m)&&(le=m[0]*We,ye=m[1]*We),isNaN(le)&&(le=o[0],ye=o[1]),(le>14400||ye>14400)&&(nn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),ye=Math.min(14400,ye)),o=[le,ye],n.substr(0,1)){case"l":ye>le&&(o=[ye,le]);break;case"p":le>ye&&(o=[ye,le])}Gn(o),fl(js),X(Or),La!==0&&X(La+" J"),mr!==0&&X(mr+" j"),Bt.publish("addPage",{pageNumber:fn})},Ls=function(m){m>0&&m<=fn&&(ke.splice(m,1),vt.splice(m,1),fn--,T>fn&&(T=fn),this.setPage(T))},Ei=function(m){m>0&&m<=fn&&(T=m)},dn=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return ke.length-1},Ti=function(m,M,te){var le,ye=void 0;return te=te||{},m=m!==void 0?m:Ut[Nt].fontName,M=M!==void 0?M:Ut[Nt].fontStyle,le=m.toLowerCase(),rn[le]!==void 0&&rn[le][M]!==void 0?ye=rn[le][M]:rn[m]!==void 0&&rn[m][M]!==void 0?ye=rn[m][M]:te.disableWarning===!1&&nn.warn("Unable to look up font label for font '"+m+"', '"+M+"'. Refer to getFontList() for available fonts."),ye||te.noFallback||(ye=rn.times[M])==null&&(ye=rn.times.normal),ye},es=w.__private__.putInfo=function(){var m=$t(),M=function(le){return le};for(var te in v!==null&&(M=An.encryptor(m,0)),X("<<"),X("/Producer ("+Bn(M("jsPDF "+dt.version))+")"),ut)ut.hasOwnProperty(te)&&ut[te]&&X("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+Bn(M(ut[te]))+")");X("/CreationDate ("+Bn(M(we))+")"),X(">>"),X("endobj")},Gi=w.__private__.putCatalog=function(m){var M=(m=m||{}).rootDictionaryObjId||Ai;switch($t(),X("<<"),X("/Type /Catalog"),X("/Pages "+M+" 0 R"),Ce||(Ce="fullwidth"),Ce){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+Ce;te.substr(te.length-1)==="%"&&(Ce=parseInt(Ce)/100),typeof Ce=="number"&&X("/OpenAction [3 0 R /XYZ null null "+V(Ce)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}Qe&&X("/PageMode /"+Qe),Bt.publish("putCatalog"),X(">>"),X("endobj")},ya=w.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(re+1)),X("/Root "+re+" 0 R"),X("/Info "+(re-1)+" 0 R"),v!==null&&X("/Encrypt "+An.oid+" 0 R"),X("/ID [ <"+fe+"> <"+fe+"> ]"),X(">>")},ts=w.__private__.putHeader=function(){X("%PDF-"+P),X("%ºß¬à")},_a=w.__private__.putXRef=function(){var m="0000000000";X("xref"),X("0 "+(re+1)),X("0000000000 65535 f ");for(var M=1;M<=re;M++)typeof pe[M]=="function"?X((m+pe[M]()).slice(-10)+" 00000 n "):pe[M]!==void 0?X((m+pe[M]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},hi=w.__private__.buildDocument=function(){Ze(),Se(he),Bt.publish("buildDocument"),ts(),Vo(),Zi(),Xo(),v!==null&&Yo(),es(),Gi();var m=me;return _a(),ya(),X("startxref"),X(""+m),X("%%EOF"),Se(ke[T]),he.join(`
`)},Ki=w.__private__.getBlob=function(m){return new Blob([Fe(m)],{type:"application/pdf"})},_o=w.output=w.__private__.output=Rt(function(m,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",m){case void 0:return hi();case"save":w.save(M.filename);break;case"arraybuffer":return Fe(hi());case"blob":return Ki(hi());case"bloburi":case"bloburl":if(pt.URL!==void 0&&typeof pt.URL.createObjectURL=="function")return pt.URL&&pt.URL.createObjectURL(Ki(hi()))||void 0;nn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",le=hi();try{te=Fp(le)}catch{te=Fp(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+M.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(ye=M.pdfObjectUrl,Ae="");var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",Ke=pt.open();return Ke!==null&&Ke.document.write(qe),Ke}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',_t=pt.open();if(_t!==null){_t.document.write(et);var gt=this;_t.document.documentElement.querySelector("#pdfViewer").onload=function(){_t.document.title=M.filename,_t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(gt.output("bloburl"))}}return _t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',en=pt.open();if(en!==null&&(en.document.write(It),en.document.title=M.filename),en||typeof safari>"u")return en;break;case"datauri":case"dataurl":return pt.document.location.href=this.output("datauristring",M);default:return null}}),ks=function(m){return Array.isArray(Wo)===!0&&Wo.indexOf(m)>-1};switch(r){case"pt":We=1;break;case"mm":We=72/25.4;break;case"cm":We=72/2.54;break;case"in":We=72;break;case"px":We=ks("px_scaling")==1?.75:96/72;break;case"pc":case"em":We=12;break;case"ex":We=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);We=r}var An=null;_e(),K();var cl=function(m){return v!==null?An.encryptor(m,0):function(M){return M}},Ps=w.__private__.getPageInfo=w.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[m].objId,pageNumber:m,pageContext:vt[m]}},mt=w.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in vt)if(vt[M].objId===m)break;return Ps(M)},yt=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:vt[T].objId,pageNumber:T,pageContext:vt[T]}};w.addPage=function(){return ul.apply(this,arguments),this},w.setPage=function(){return Ei.apply(this,arguments),Se.call(this,ke[T]),this},w.insertPage=function(m){return this.addPage(),this.movePage(T,m),this},w.movePage=function(m,M){var te,le;if(m>M){te=ke[m],le=vt[m];for(var ye=m;ye>M;ye--)ke[ye]=ke[ye-1],vt[ye]=vt[ye-1];ke[M]=te,vt[M]=le,this.setPage(M)}else if(m<M){te=ke[m],le=vt[m];for(var Ae=m;Ae<M;Ae++)ke[Ae]=ke[Ae+1],vt[Ae]=vt[Ae+1];ke[M]=te,vt[M]=le,this.setPage(M)}return this},w.deletePage=function(){return Ls.apply(this,arguments),this},w.__private__.text=w.text=function(m,M,te,le,ye){var Ae,qe,Ke,et,_t,gt,It,en,on,bn=(le=le||{}).scope||this;if(typeof m=="number"&&typeof M=="number"&&(typeof te=="string"||Array.isArray(te))){var Kn=te;te=M,M=m,m=Kn}if(arguments[3]instanceof ct?(j("The transform parameter of text() with a Matrix value"),on=ye):(Ke=arguments[4],et=arguments[5],Yt(It=arguments[3])==="object"&&It!==null||(typeof Ke=="string"&&(et=Ke,Ke=null),typeof It=="string"&&(et=It,It=null),typeof It=="number"&&(Ke=It,It=null),le={flags:It,angle:Ke,align:et})),isNaN(M)||isNaN(te)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return bn;var jn="",fi=!1,ln=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:is,ir=bn.internal.scaleFactor;function gl(Wt){return Wt=Wt.split("	").join(Array(le.TabLen||9).join(" ")),Bn(Wt,It)}function Ir(Wt){for(var Zt,vn=Wt.concat(),Vt=[],Ri=vn.length;Ri--;)typeof(Zt=vn.shift())=="string"?Vt.push(Zt):Array.isArray(Wt)&&(Zt.length===1||Zt[1]===void 0&&Zt[2]===void 0)?Vt.push(Zt[0]):Vt.push([Zt[0],Zt[1],Zt[2]]);return Vt}function ja(Wt,Zt){var vn;if(typeof Wt=="string")vn=Zt(Wt)[0];else if(Array.isArray(Wt)){for(var Vt,Ri,zs=Wt.concat(),Fi=[],yl=zs.length;yl--;)typeof(Vt=zs.shift())=="string"?Fi.push(Zt(Vt)[0]):Array.isArray(Vt)&&typeof Vt[0]=="string"&&(Ri=Zt(Vt[0],Vt[1],Vt[2]),Fi.push([Ri[0],Ri[1],Ri[2]]));vn=Fi}return vn}var di=!1,Ca=!0;if(typeof m=="string")di=!0;else if(Array.isArray(m)){var Xi=m.concat();qe=[];for(var ss,Nn=Xi.length;Nn--;)(typeof(ss=Xi.shift())!="string"||Array.isArray(ss)&&typeof ss[0]!="string")&&(Ca=!1);di=Ca}if(di===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var Is=Pe/bn.internal.scaleFactor,Mr=Is*(ln-1);switch(le.baseline){case"bottom":te-=Mr;break;case"top":te+=Is-Mr;break;case"hanging":te+=Is-2*Mr;break;case"middle":te+=Is/2-Mr}if((gt=le.maxWidth||0)>0&&(typeof m=="string"?m=bn.splitTextToSize(m,gt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Wt,Zt){return Wt.concat(bn.splitTextToSize(Zt,gt))},[]))),Ae={text:m,x:M,y:te,options:le,mutex:{pdfEscape:Bn,activeFontKey:Nt,fonts:Ut,activeFontSize:Pe}},Bt.publish("preProcessText",Ae),m=Ae.text,Ke=(le=Ae.options).angle,!(on instanceof ct)&&Ke&&typeof Ke=="number"){Ke*=Math.PI/180,le.rotationDirection===0&&(Ke=-Ke),F===A.ADVANCED&&(Ke=-Ke);var Qi=Math.cos(Ke),Ea=Math.sin(Ke);on=new ct(Qi,Ea,-Ea,Qi,0,0)}else Ke&&Ke instanceof ct&&(on=Ke);F!==A.ADVANCED||on||(on=Pi),(_t=le.charSpace||Cs)!==void 0&&(jn+=Z(R(_t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(en=le.horizontalScale)!==void 0&&(jn+=Z(100*en)+` Tz
`),le.lang;var Jn=-1,xu=le.renderingMode!==void 0?le.renderingMode:le.stroke,Rr=bn.internal.getCurrentPageInfo().pageContext;switch(xu){case 0:case!1:case"fill":Jn=0;break;case 1:case!0:case"stroke":Jn=1;break;case 2:case"fillThenStroke":Jn=2;break;case 3:case"invisible":Jn=3;break;case 4:case"fillAndAddForClipping":Jn=4;break;case 5:case"strokeAndAddPathForClipping":Jn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Jn=6;break;case 7:case"addToPathForClipping":Jn=7}var vl=Rr.usedRenderingMode!==void 0?Rr.usedRenderingMode:-1;Jn!==-1?jn+=Jn+` Tr
`:vl!==-1&&(jn+=`0 Tr
`),Jn!==-1&&(Rr.usedRenderingMode=Jn),et=le.align||"left";var qn,Ms=Pe*ln,Jr=bn.internal.pageSize.getWidth(),as=Ut[Nt];_t=le.charSpace||Cs,gt=le.maxWidth||0,It=Object.assign({autoencode:!0,noBOM:!0},le.flags);var eo=[],to=function(Wt){return bn.getStringUnitWidth(Wt,{font:as,charSpace:_t,fontSize:Pe,doKerning:!1})*Pe/ir};if(Object.prototype.toString.call(m)==="[object Array]"){var Un;qe=Ir(m),et!=="left"&&(qn=qe.map(to));var $n,pi=0;if(et==="right"){M-=qn[0],m=[],Nn=qe.length;for(var gr=0;gr<Nn;gr++)gr===0?($n=wn(M),Un=Tr(te)):($n=R(pi-qn[gr]),Un=-Ms),m.push([qe[gr],$n,Un]),pi=qn[gr]}else if(et==="center"){M-=qn[0]/2,m=[],Nn=qe.length;for(var Yr=0;Yr<Nn;Yr++)Yr===0?($n=wn(M),Un=Tr(te)):($n=R((pi-qn[Yr])/2),Un=-Ms),m.push([qe[Yr],$n,Un]),pi=qn[Yr]}else if(et==="left"){m=[],Nn=qe.length;for(var ko=0;ko<Nn;ko++)m.push(qe[ko])}else if(et==="justify"&&as.encoding==="Identity-H"){m=[],Nn=qe.length,gt=gt!==0?gt:Jr;for(var Oi=0,gn=0;gn<Nn;gn++)if(Un=gn===0?Tr(te):-Ms,$n=gn===0?wn(M):Oi,gn<Nn-1){var Po=R((gt-qn[gn])/(qe[gn].split(" ").length-1)),or=qe[gn].split(" ");m.push([or[0]+" ",$n,Un]),Oi=0;for(var Fr=1;Fr<or.length;Fr++){var Rs=(to(or[Fr-1]+" "+or[Fr])-to(or[Fr]))*ir+Po;Fr==or.length-1?m.push([or[Fr],Rs,0]):m.push([or[Fr]+" ",Rs,0]),Oi-=Rs}}else m.push([qe[gn],$n,Un]);m.push(["",Oi,0])}else{if(et!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Nn=qe.length,gt=gt!==0?gt:Jr,gn=0;gn<Nn;gn++)Un=gn===0?Tr(te):-Ms,$n=gn===0?wn(M):0,gn<Nn-1?eo.push(Z(R((gt-qn[gn])/(qe[gn].split(" ").length-1)))):eo.push(0),m.push([qe[gn],$n,Un])}}var Ta=typeof le.R2L=="boolean"?le.R2L:tt;Ta===!0&&(m=ja(m,function(Wt,Zt,vn){return[Wt.split("").reverse().join(""),Zt,vn]})),Ae={text:m,x:M,y:te,options:le,mutex:{pdfEscape:Bn,activeFontKey:Nt,fonts:Ut,activeFontSize:Pe}},Bt.publish("postProcessText",Ae),m=Ae.text,fi=Ae.mutex.isHex||!1;var Oa=Ut[Nt].encoding;Oa!=="WinAnsiEncoding"&&Oa!=="StandardEncoding"||(m=ja(m,function(Wt,Zt,vn){return[gl(Wt),Zt,vn]})),qe=Ir(m),m=[];for(var Yn,Ii,Ao,Mi=0,Fs=1,jo=Array.isArray(qe[0])?Fs:Mi,Co="",no=function(Wt,Zt,vn){var Vt="";return vn instanceof ct?(vn=typeof le.angle=="number"?ci(vn,new ct(1,0,0,1,Wt,Zt)):ci(new ct(1,0,0,1,Wt,Zt),vn),F===A.ADVANCED&&(vn=ci(new ct(1,0,0,-1,0,0),vn)),Vt=vn.join(" ")+` Tm
`):Vt=Z(Wt)+" "+Z(Zt)+` Td
`,Vt},Xr=0;Xr<qe.length;Xr++){switch(Co="",jo){case Fs:Ao=(fi?"<":"(")+qe[Xr][0]+(fi?">":")"),Yn=parseFloat(qe[Xr][1]),Ii=parseFloat(qe[Xr][2]);break;case Mi:Ao=(fi?"<":"(")+qe[Xr]+(fi?">":")"),Yn=wn(M),Ii=Tr(te)}eo!==void 0&&eo[Xr]!==void 0&&(Co=eo[Xr]+` Tw
`),Xr===0?m.push(Co+no(Yn,Ii,on)+Ao):jo===Mi?m.push(Co+Ao):jo===Fs&&m.push(Co+no(Yn,Ii,on)+Ao)}m=jo===Mi?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var Hn=`BT
/`;return Hn+=Nt+" "+Pe+` Tf
`,Hn+=Z(Pe*ln)+` TL
`,Hn+=No+`
`,Hn+=jn,Hn+=m,X(Hn+="ET"),b[Nt]=!0,bn};var Gr=w.__private__.clip=w.clip=function(m){return X(m==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return Gr("evenodd")},w.__private__.discardPath=w.discardPath=function(){return X("n"),this};var Ct=w.__private__.isValidStyle=function(m){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(M=!0),M};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(m){return Ct(m)&&(p=m),this};var xa=w.__private__.getStyle=w.getStyle=function(m){var M=p;switch(m){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=m}return M},As=w.close=function(){return X("h"),this};w.stroke=function(){return X("S"),this},w.fill=function(m){return xo("f",m),this},w.fillEvenOdd=function(m){return xo("f*",m),this},w.fillStroke=function(m){return xo("B",m),this},w.fillStrokeEvenOdd=function(m){return xo("B*",m),this};var xo=function(m,M){Yt(M)==="object"?wa(M,m):X(m)},ns=function(m){m===null||F===A.ADVANCED&&m===void 0||(m=xa(m),X(m))};function Ji(m,M,te,le,ye){var Ae=new Zl(M||this.boundingBox,te||this.xStep,le||this.yStep,this.gState,ye||this.matrix);Ae.stream=this.stream;var qe=m+"$$"+this.cloneIndex+++"$$";return dr(qe,Ae),Ae}var wa=function(m,M){var te=Ho[m.key],le=Dt[te];if(le instanceof $a)X("q"),X(rs(M)),le.gState&&w.setGState(le.gState),X(m.matrix.toString()+" cm"),X("/"+te+" sh"),X("Q");else if(le instanceof Zl){var ye=new ct(1,0,0,-1,0,Lo());m.matrix&&(ye=ye.multiply(m.matrix||Pi),te=Ji.call(le,m.key,m.boundingBox,m.xStep,m.yStep,ye).id),X("q"),X("/Pattern cs"),X("/"+te+" scn"),le.gState&&w.setGState(le.gState),X(M),X("Q")}},rs=function(m){switch(m){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},mn=w.moveTo=function(m,M){return X(Z(R(m))+" "+Z(Q(M))+" m"),this},Er=w.lineTo=function(m,M){return X(Z(R(m))+" "+Z(Q(M))+" l"),this},Yi=w.curveTo=function(m,M,te,le,ye,Ae){return X([Z(R(m)),Z(Q(M)),Z(R(te)),Z(Q(le)),Z(R(ye)),Z(Q(Ae)),"c"].join(" ")),this};w.__private__.line=w.line=function(m,M,te,le,ye){if(isNaN(m)||isNaN(M)||isNaN(te)||isNaN(le)||!Ct(ye))throw new Error("Invalid arguments passed to jsPDF.line");return F===A.COMPAT?this.lines([[te-m,le-M]],m,M,[1,1],ye||"S"):this.lines([[te-m,le-M]],m,M,[1,1]).stroke()},w.__private__.lines=w.lines=function(m,M,te,le,ye,Ae){var qe,Ke,et,_t,gt,It,en,on,bn,Kn,jn,fi;if(typeof m=="number"&&(fi=te,te=M,M=m,m=fi),le=le||[1,1],Ae=Ae||!1,isNaN(M)||isNaN(te)||!Array.isArray(m)||!Array.isArray(le)||!Ct(ye)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(mn(M,te),qe=le[0],Ke=le[1],_t=m.length,Kn=M,jn=te,et=0;et<_t;et++)(gt=m[et]).length===2?(Kn=gt[0]*qe+Kn,jn=gt[1]*Ke+jn,Er(Kn,jn)):(It=gt[0]*qe+Kn,en=gt[1]*Ke+jn,on=gt[2]*qe+Kn,bn=gt[3]*Ke+jn,Kn=gt[4]*qe+Kn,jn=gt[5]*Ke+jn,Yi(It,en,on,bn,Kn,jn));return Ae&&As(),ns(ye),this},w.path=function(m){for(var M=0;M<m.length;M++){var te=m[M],le=te.c;switch(te.op){case"m":mn(le[0],le[1]);break;case"l":Er(le[0],le[1]);break;case"c":Yi.apply(this,le);break;case"h":As()}}return this},w.__private__.rect=w.rect=function(m,M,te,le,ye){if(isNaN(m)||isNaN(M)||isNaN(te)||isNaN(le)||!Ct(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return F===A.COMPAT&&(le=-le),X([Z(R(m)),Z(Q(M)),Z(R(te)),Z(R(le)),"re"].join(" ")),ns(ye),this},w.__private__.triangle=w.triangle=function(m,M,te,le,ye,Ae,qe){if(isNaN(m)||isNaN(M)||isNaN(te)||isNaN(le)||isNaN(ye)||isNaN(Ae)||!Ct(qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-m,le-M],[ye-te,Ae-le],[m-ye,M-Ae]],m,M,[1,1],qe,!0),this},w.__private__.roundedRect=w.roundedRect=function(m,M,te,le,ye,Ae,qe){if(isNaN(m)||isNaN(M)||isNaN(te)||isNaN(le)||isNaN(ye)||isNaN(Ae)||!Ct(qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ke=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*te),Ae=Math.min(Ae,.5*le),this.lines([[te-2*ye,0],[ye*Ke,0,ye,Ae-Ae*Ke,ye,Ae],[0,le-2*Ae],[0,Ae*Ke,-ye*Ke,Ae,-ye,Ae],[2*ye-te,0],[-ye*Ke,0,-ye,-Ae*Ke,-ye,-Ae],[0,2*Ae-le],[0,-Ae*Ke,ye*Ke,-Ae,ye,-Ae]],m+ye,M,[1,1],qe,!0),this},w.__private__.ellipse=w.ellipse=function(m,M,te,le,ye){if(isNaN(m)||isNaN(M)||isNaN(te)||isNaN(le)||!Ct(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*te,qe=4/3*(Math.SQRT2-1)*le;return mn(m+te,M),Yi(m+te,M-qe,m+Ae,M-le,m,M-le),Yi(m-Ae,M-le,m-te,M-qe,m-te,M),Yi(m-te,M+qe,m-Ae,M+le,m,M+le),Yi(m+Ae,M+le,m+te,M+qe,m+te,M),ns(ye),this},w.__private__.circle=w.circle=function(m,M,te,le){if(isNaN(m)||isNaN(M)||isNaN(te)||!Ct(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,M,te,te,le)},w.setFont=function(m,M,te){return te&&(M=H(M,te)),Nt=Ti(m,M,{disableWarning:!1}),this};var hl=w.__private__.getFont=w.getFont=function(){return Ut[Ti.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var m,M,te={};for(m in rn)if(rn.hasOwnProperty(m))for(M in te[m]=[],rn[m])rn[m].hasOwnProperty(M)&&te[m].push(M);return te},w.addFont=function(m,M,te,le,ye){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&(te=H(te,le)),ye=ye||"Identity-H",Qo.call(this,m,M,te,ye)};var is,js=e.lineWidth||.200025,wo=w.__private__.getLineWidth=w.getLineWidth=function(){return js},fl=w.__private__.setLineWidth=w.setLineWidth=function(m){return js=m,X(Z(R(m))+" w"),this};w.__private__.setLineDash=dt.API.setLineDash=dt.API.setLineDashPattern=function(m,M){if(m=m||[],M=M||0,isNaN(M)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(te){return Z(R(te))}).join(" "),M=Z(R(M)),X("["+m+"] "+M+" d"),this};var ba=w.__private__.getLineHeight=w.getLineHeight=function(){return Pe*is};w.__private__.getLineHeight=w.getLineHeight=function(){return Pe*is};var jt=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(is=m),this},dl=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return is};jt(e.lineHeight);var wn=w.__private__.getHorizontalCoordinate=function(m){return R(m)},Tr=w.__private__.getVerticalCoordinate=function(m){return F===A.ADVANCED?m:vt[T].mediaBox.topRightY-vt[T].mediaBox.bottomLeftY-R(m)},pl=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(m){return Z(wn(m))},bo=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(m){return Z(Tr(m))},Or=e.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return jr(Or)},w.__private__.setStrokeColor=w.setDrawColor=function(m,M,te,le){return Or=Vr({ch1:m,ch2:M,ch3:te,ch4:le,pdfColorType:"draw",precision:2}),X(Or),this};var Na=e.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return jr(Na)},w.__private__.setFillColor=w.setFillColor=function(m,M,te,le){return Na=Vr({ch1:m,ch2:M,ch3:te,ch4:le,pdfColorType:"fill",precision:2}),X(Na),this};var No=e.textColor||"0 g",_u=w.__private__.getTextColor=w.getTextColor=function(){return jr(No)};w.__private__.setTextColor=w.setTextColor=function(m,M,te,le){return No=Vr({ch1:m,ch2:M,ch3:te,ch4:le,pdfColorType:"text",precision:3}),this};var Cs=e.charSpace,Sa=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Cs||0)};w.__private__.setCharSpace=w.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cs=m,this};var La=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(m){var M=w.CapJoinStyles[m];if(M===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return La=M,X(M+" J"),this};var mr=0;w.__private__.setLineJoin=w.setLineJoin=function(m){var M=w.CapJoinStyles[m];if(M===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mr=M,X(M+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(Z(R(m))+" M"),this},w.GState=rf,w.setGState=function(m){(m=typeof m=="string"?an[Hr[m]]:ml(null,m)).equals(Li)||(X("/"+m.id+" gs"),Li=m)};var ml=function(m,M){if(!m||!Hr[m]){var te=!1;for(var le in an)if(an.hasOwnProperty(le)&&an[le].equals(M)){te=!0;break}if(te)M=an[le];else{var ye="GS"+(Object.keys(an).length+1).toString(10);an[ye]=M,M.id=ye}return m&&(Hr[m]=M.id),Bt.publish("addGState",M),M}};w.addGState=function(m,M){return ml(m,M),this},w.saveGraphicsState=function(){return X("q"),fr.push({key:Nt,size:Pe,color:No}),this},w.restoreGraphicsState=function(){X("Q");var m=fr.pop();return Nt=m.key,Pe=m.size,No=m.color,Li=null,this},w.setCurrentTransformationMatrix=function(m){return X(m.toString()+" cm"),this},w.comment=function(m){return X("#"+m),this};var os=function(m,M){var te=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Ae){isNaN(Ae)||(te=parseFloat(Ae))}});var le=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(Ae){isNaN(Ae)||(le=parseFloat(Ae))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(Ae){ye=Ae.toString()}}),this},Kr=function(m,M,te,le){os.call(this,m,M),this.type="rect";var ye=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(qe){isNaN(qe)||(ye=parseFloat(qe))}});var Ae=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(qe){isNaN(qe)||(Ae=parseFloat(qe))}}),this},Es=function(){this.page=fn,this.currentPage=T,this.pages=ke.slice(0),this.pagesContext=vt.slice(0),this.x=Ht,this.y=Pt,this.matrix=Vn,this.width=So(T),this.height=Lo(T),this.outputDestination=Ue,this.id="",this.objectNumber=-1};Es.prototype.restore=function(){fn=this.page,T=this.currentPage,vt=this.pagesContext,ke=this.pages,Ht=this.x,Pt=this.y,Vn=this.matrix,Os(T,this.width),Aa(T,this.height),Ue=this.outputDestination};var ka=function(m,M,te,le,ye){Wr.push(new Es),fn=T=0,ke=[],Ht=m,Pt=M,Vn=ye,Gn([te,le])},Pa=function(m){if(ki[m])Wr.pop().restore();else{var M=new Es,te="Xo"+(Object.keys(Dn).length+1).toString(10);M.id=te,ki[m]=te,Dn[te]=M,Bt.publish("addFormObject",M),Wr.pop().restore()}};for(var Ts in w.beginFormObject=function(m,M,te,le,ye){return ka(m,M,te,le,ye),this},w.endFormObject=function(m){return Pa(m),this},w.doFormObject=function(m,M){var te=Dn[ki[m]];return X("q"),X(M.toString()+" cm"),X("/"+te.id+" Do"),X("Q"),this},w.getFormObject=function(m){var M=Dn[ki[m]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},w.save=function(m,M){return m=m||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(Ba(Ki(hi()),m),typeof Ba.unload=="function"&&pt.setTimeout&&setTimeout(Ba.unload,911),this):new Promise(function(te,le){try{var ye=Ba(Ki(hi()),m);typeof Ba.unload=="function"&&pt.setTimeout&&setTimeout(Ba.unload,911),te(ye)}catch(Ae){le(Ae.message)}})},dt.API)dt.API.hasOwnProperty(Ts)&&(Ts==="events"&&dt.API.events.length?function(m,M){var te,le,ye;for(ye=M.length-1;ye!==-1;ye--)te=M[ye][0],le=M[ye][1],m.subscribe.apply(m,[te].concat(typeof le=="function"?[le]:le))}(Bt,dt.API.events):w[Ts]=dt.API[Ts]);var So=w.getPageWidth=function(m){return(vt[m=m||T].mediaBox.topRightX-vt[m].mediaBox.bottomLeftX)/We},Os=w.setPageWidth=function(m,M){vt[m].mediaBox.topRightX=M*We+vt[m].mediaBox.bottomLeftX},Lo=w.getPageHeight=function(m){return(vt[m=m||T].mediaBox.topRightY-vt[m].mediaBox.bottomLeftY)/We},Aa=w.setPageHeight=function(m,M){vt[m].mediaBox.topRightY=M*We+vt[m].mediaBox.bottomLeftY};return w.internal={pdfEscape:Bn,getStyle:xa,getFont:hl,getFontSize:$e,getCharSpace:Sa,getTextColor:_u,getLineHeight:ba,getLineHeightFactor:dl,getLineWidth:wo,write:it,getHorizontalCoordinate:wn,getVerticalCoordinate:Tr,getCoordinateString:pl,getVerticalCoordinateString:bo,collections:{},newObject:$t,newAdditionalObject:Zo,newObjectDeferred:Ge,newObjectDeferredBegin:pr,getFilters:rr,putStream:Cr,events:Bt,scaleFactor:We,pageSize:{getWidth:function(){return So(T)},setWidth:function(m){Os(T,m)},getHeight:function(){return Lo(T)},setHeight:function(m){Aa(T,m)}},encryptionOptions:v,encryption:An,getEncryptor:cl,output:_o,getNumberOfPages:dn,pages:ke,out:X,f2:V,f3:O,getPageInfo:Ps,getPageInfoByObjId:mt,getCurrentPageInfo:yt,getPDFVersion:C,Point:os,Rectangle:Kr,Matrix:ct,hasHotfix:ks},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return So(T)},set:function(m){Os(T,m)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return Lo(T)},set:function(m){Aa(T,m)},enumerable:!0,configurable:!0}),wt.call(w,Te),Nt="F1",ul(o,n),Bt.publish("initialized"),w}Tl.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Tl.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Tl.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Tl.prototype.processOwnerPassword=function(e,t){return Dp(zp(t).substr(0,5),e)},Tl.prototype.encryptor=function(e,t){var n=zp(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Dp(n,r)}},rf.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Yt(e)!==Yt(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},dt.API={events:[]},dt.version="2.5.2";var kn=dt.API,V0=1,sl=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cl=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bt=function(e){return e.toFixed(2)},Gs=function(e){return e.toFixed(5)};kn.__acroform__={};var ui=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},D1=function(e){return e*V0},Ro=function(e){var t=new Uv,n=rt.internal.getHeight(e)||0,r=rt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(bt(r)),Number(bt(n))],t},uw=kn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},cw=kn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},hw=kn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Tn=kn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hw(e,t-1)},On=kn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return uw(e,t-1)},In=kn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return cw(e,t-1)},fw=kn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,o=e[0],s=e[1],l=e[2],c=e[3],h={};return h.lowerLeft_X=n(o)||0,h.lowerLeft_Y=r(s+c)||0,h.upperRight_X=n(o+l)||0,h.upperRight_Y=r(s)||0,[Number(bt(h.lowerLeft_X)),Number(bt(h.lowerLeft_Y)),Number(bt(h.upperRight_X)),Number(bt(h.upperRight_Y))]},dw=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Bp(e,n),o=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+o+" "+bt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Ro(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},Bp=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},o=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");o=e.multiline?o.map(function(O){return O.split(`
`)}):o.map(function(O){return[O]});var s=n,l=rt.internal.getHeight(e)||0;l=l<0?-l:l;var c=rt.internal.getWidth(e)||0;c=c<0?-c:c;var h=function(O,R,ne){if(O+1<o.length){var Q=R+" "+o[O+1][0];return uh(Q,e,ne).width<=c-4}return!1};s++;e:for(;s>0;){t="",s--;var p,v,x=uh("3",e,s).height,b=e.multiline?l-s:(l-x)/2,w=b+=2,P=0,C=0,U=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+uh(t,e,s=12).width+", FieldWidth:"+c+`
`;break}for(var S="",A=0,F=0;F<o.length;F++)if(o.hasOwnProperty(F)){var J=!1;if(o[F].length!==1&&U!==o[F].length-1){if((x+2)*(A+2)+2>l)continue e;S+=o[F][U],J=!0,C=F,F--}else{S=(S+=o[F][U]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var ie=parseInt(F),H=h(ie,S,s),Z=F>=o.length-1;if(H&&!Z){S+=" ",U=0;continue}if(H||Z){if(Z)C=ie;else if(e.multiline&&(x+2)*(A+2)+2>l)continue e}else{if(!e.multiline||(x+2)*(A+2)+2>l)continue e;C=ie}}for(var j="",z=P;z<=C;z++){var V=o[z];if(e.multiline){if(z===C){j+=V[U]+" ",U=(U+1)%V.length;continue}if(z===P){j+=V[V.length-1]+" ";continue}}j+=V[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,v=uh(j,e,s).width,e.textAlign){case"right":p=c-v-2;break;case"center":p=(c-v)/2;break;case"left":default:p=2}t+=bt(p)+" "+bt(w)+` Td
`,t+="("+sl(j)+`) Tj
`,t+=-bt(p)+` 0 Td
`,w=-(s+2),v=0,P=J?C:C+1,A++,S=""}break}return r.text=t,r.fontSize=s,r},uh=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),o=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:o}},pw={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},mw=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},gw=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,o=e[n];t.internal.newObjectDeferredBegin(o.objId,!0),Yt(o)==="object"&&typeof o.putStream=="function"&&o.putStream(),delete e[r]}},vw=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(mo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(pw)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");V0=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new $v,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];s.objId=void 0,s.hasAnnotation&&mw(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,o){var s=!r;for(var l in r||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var c=r[l],h=[],p=c.Rect;if(c.Rect&&(c.Rect=fw(c.Rect,o)),o.internal.newObjectDeferredBegin(c.objId,!0),c.DA=rt.createDefaultAppearanceStream(c),Yt(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(h=c.getKeyValueListForStream()),c.Rect=p,c.hasAppearanceStream&&!c.appearanceStreamContent){var v=dw(c);h.push({key:"AP",value:"<</N "+v+">>"}),o.internal.acroformPlugin.xForms.push(v)}if(c.appearanceStreamContent){var x="";for(var b in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(b)){var w=c.appearanceStreamContent[b];if(x+="/"+b+" ",x+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var l in w)if(w.hasOwnProperty(l)){var P=w[l];typeof P=="function"&&(P=P.call(o,c)),x+="/"+l+" "+P+" ",o.internal.acroformPlugin.xForms.indexOf(P)>=0||o.internal.acroformPlugin.xForms.push(P)}}else typeof(P=w)=="function"&&(P=P.call(o,c)),x+="/"+l+" "+P,o.internal.acroformPlugin.xForms.indexOf(P)>=0||o.internal.acroformPlugin.xForms.push(P);x+=">>"}h.push({key:"AP",value:`<<
`+x+">>"})}o.internal.putStream({additionalKeyValues:h,objectId:c.objId}),o.internal.out("endobj")}s&&gw(o.internal.acroformPlugin.xForms,o)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},qv=kn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(l){return l};if(Array.isArray(e)){for(var o="[",s=0;s<e.length;s++)switch(s!==0&&(o+=" "),Yt(e[s])){case"boolean":case"number":case"object":o+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),o+="("+sl(r(e[s].toString()))+")"):o+=e[s].toString()}return o+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},jd=function(e,t,n){var r=function(o){return o};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+sl(r(e))+")"},Do=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Do.prototype.toString=function(){return this.objId+" 0 R"},Do.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Do.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],o=this[r];o&&(Array.isArray(o)?e.push({key:r,value:qv(o,this.objId,this.scope)}):o instanceof Do?(o.scope=this.scope,e.push({key:r,value:o.objId+" 0 R"})):typeof o!="function"&&e.push({key:r,value:o}))}return e};var Uv=function(){Do.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};ui(Uv,Do);var $v=function(){Do.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+sl(n(e))+")"}},set:function(n){e=n}})};ui($v,Do);var mo=function e(){Do.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');t=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Tn(t,3)},set:function(S){S?this.F=On(t,3):this.F=In(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');n=S}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(S){r=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(S){r[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(S){r[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(S){r[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(S){r[3]=S}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof of)return;s="FieldObject"+e.FieldNum++}var S=function(A){return A};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+sl(S(s))+")"},set:function(S){s=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(S){s=S}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(S){l=S}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/V0:p},set:function(S){p=S}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(S){v=S}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof of||this instanceof Ja))return jd(x,this.objId,this.scope)},set:function(S){S=S.toString(),x=S}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof tr?b:jd(b,this.objId,this.scope)},set:function(S){S=S.toString(),b=this instanceof tr?S:S.substr(0,1)==="("?Cl(S.substr(1,S.length-2)):Cl(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof tr?Cl(b.substr(1,b.length-1)):b},set:function(S){S=S.toString(),b=this instanceof tr?"/"+S:S}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof tr?w:jd(w,this.objId,this.scope)},set:function(S){S=S.toString(),w=this instanceof tr?S:S.substr(0,1)==="("?Cl(S.substr(1,S.length-2)):Cl(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof tr?Cl(w.substr(1,w.length-1)):w},set:function(S){S=S.toString(),w=this instanceof tr?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var P,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(S){S=!!S,C=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(P)return P},set:function(S){P=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,1)},set:function(S){S?this.Ff=On(this.Ff,1):this.Ff=In(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,2)},set:function(S){S?this.Ff=On(this.Ff,2):this.Ff=In(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,3)},set:function(S){S?this.Ff=On(this.Ff,3):this.Ff=In(this.Ff,3)}});var U=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(U!==null)return U},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');U=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(U){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:U=2;break;case"center":case 1:U=1;break;case"left":case 0:default:U=0}}})};ui(mo,Do);var eu=function(){mo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qv(t,this.objId,this.scope)},set:function(n){var r,o;o=[],typeof(r=n)=="string"&&(o=function(s,l,c){c||(c=1);for(var h,p=[];h=l.exec(s);)p.push(h[c]);return p}(r,/\((.*?)\)/g)),t=o}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,18)},set:function(n){n?this.Ff=On(this.Ff,18):this.Ff=In(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=On(this.Ff,19):this.Ff=In(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,20)},set:function(n){n?(this.Ff=On(this.Ff,20),t.sort()):this.Ff=In(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,22)},set:function(n){n?this.Ff=On(this.Ff,22):this.Ff=In(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,23)},set:function(n){n?this.Ff=On(this.Ff,23):this.Ff=In(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,27)},set:function(n){n?this.Ff=On(this.Ff,27):this.Ff=In(this.Ff,27)}}),this.hasAppearanceStream=!1};ui(eu,mo);var tu=function(){eu.call(this),this.fontName="helvetica",this.combo=!1};ui(tu,eu);var nu=function(){tu.call(this),this.combo=!0};ui(nu,tu);var Lh=function(){nu.call(this),this.edit=!0};ui(Lh,nu);var tr=function(){mo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,15)},set:function(n){n?this.Ff=On(this.Ff,15):this.Ff=In(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,16)},set:function(n){n?this.Ff=On(this.Ff,16):this.Ff=In(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,17)},set:function(n){n?this.Ff=On(this.Ff,17):this.Ff=In(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,26)},set:function(n){n?this.Ff=On(this.Ff,26):this.Ff=In(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,o=[];for(r in o.push("<<"),t)o.push("/"+r+" ("+sl(n(t[r]))+")");return o.push(">>"),o.join(`
`)}},set:function(n){Yt(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};ui(tr,mo);var kh=function(){tr.call(this),this.pushButton=!0};ui(kh,tr);var ru=function(){tr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ui(ru,tr);var of=function(){var e,t;mo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(o){e=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(o){t=o}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(c){return c};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var s,l=[];for(s in l.push("<<"),r)l.push("/"+s+" ("+sl(o(r[s]))+")");return l.push(">>"),l.join(`
`)},set:function(o){Yt(o)==="object"&&(r=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(o){typeof o=="string"&&(r.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(o){n=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(o){n="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ui(of,mo),ru.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},ru.prototype.createOption=function(e){var t=new of;return t.Parent=this,t.optionName=e,this.Kids.push(t),yw.call(this.scope,t),t};var Ph=function(){tr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rt.CheckBox.createAppearanceStream()};ui(Ph,tr);var Ja=function(){mo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,13)},set:function(t){t?this.Ff=On(this.Ff,13):this.Ff=In(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,21)},set:function(t){t?this.Ff=On(this.Ff,21):this.Ff=In(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,23)},set:function(t){t?this.Ff=On(this.Ff,23):this.Ff=In(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,24)},set:function(t){t?this.Ff=On(this.Ff,24):this.Ff=In(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,25)},set:function(t){t?this.Ff=On(this.Ff,25):this.Ff=In(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,26)},set:function(t){t?this.Ff=On(this.Ff,26):this.Ff=In(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ui(Ja,mo);var Ah=function(){Ja.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,14)},set:function(e){e?this.Ff=On(this.Ff,14):this.Ff=In(this.Ff,14)}}),this.password=!0};ui(Ah,Ja);var rt={CheckBox:{createAppearanceStream:function(){return{N:{On:rt.CheckBox.YesNormal},D:{On:rt.CheckBox.YesPushDown,Off:rt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ro(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,o=e.scope.__private__.encodeColorString(e.color),s=Bp(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+bt(rt.internal.getWidth(e))+" "+bt(rt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+bt(s.fontSize)+" Tf "+o),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Ro(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),o=[],s=rt.internal.getHeight(e),l=rt.internal.getWidth(e),c=Bp(e,e.caption);return o.push("1 g"),o.push("0 0 "+bt(l)+" "+bt(s)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+bt(l-1)+" "+bt(s-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+n+" "+bt(c.fontSize)+" Tf "+r),o.push(c.text),o.push("ET"),o.push("Q"),t.stream=o.join(`
`),t},OffPushDown:function(e){var t=Ro(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+bt(rt.internal.getWidth(e))+" "+bt(rt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:rt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=rt.RadioButton.Circle.YesNormal,t.D[e]=rt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ro(e);t.scope=e.scope;var n=[],r=rt.internal.getWidth(e)<=rt.internal.getHeight(e)?rt.internal.getWidth(e)/4:rt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var o=rt.internal.Bezier_C,s=Number((r*o).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Gs(rt.internal.getWidth(e)/2)+" "+Gs(rt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ro(e);t.scope=e.scope;var n=[],r=rt.internal.getWidth(e)<=rt.internal.getHeight(e)?rt.internal.getWidth(e)/4:rt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var o=Number((2*r).toFixed(5)),s=Number((o*rt.internal.Bezier_C).toFixed(5)),l=Number((r*rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Gs(rt.internal.getWidth(e)/2)+" "+Gs(rt.internal.getHeight(e)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),n.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),n.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),n.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Gs(rt.internal.getWidth(e)/2)+" "+Gs(rt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),n.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),n.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),n.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ro(e);t.scope=e.scope;var n=[],r=rt.internal.getWidth(e)<=rt.internal.getHeight(e)?rt.internal.getWidth(e)/4:rt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var o=Number((2*r).toFixed(5)),s=Number((o*rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Gs(rt.internal.getWidth(e)/2)+" "+Gs(rt.internal.getHeight(e)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),n.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),n.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),n.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:rt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=rt.RadioButton.Cross.YesNormal,t.D[e]=rt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ro(e);t.scope=e.scope;var n=[],r=rt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+bt(rt.internal.getWidth(e)-2)+" "+bt(rt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(bt(r.x1.x)+" "+bt(r.x1.y)+" m"),n.push(bt(r.x2.x)+" "+bt(r.x2.y)+" l"),n.push(bt(r.x4.x)+" "+bt(r.x4.y)+" m"),n.push(bt(r.x3.x)+" "+bt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ro(e);t.scope=e.scope;var n=rt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+bt(rt.internal.getWidth(e))+" "+bt(rt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+bt(rt.internal.getWidth(e)-2)+" "+bt(rt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(bt(n.x1.x)+" "+bt(n.x1.y)+" m"),r.push(bt(n.x2.x)+" "+bt(n.x2.y)+" l"),r.push(bt(n.x4.x)+" "+bt(n.x4.y)+" m"),r.push(bt(n.x3.x)+" "+bt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ro(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+bt(rt.internal.getWidth(e))+" "+bt(rt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};rt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=rt.internal.getWidth(e),n=rt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},rt.internal.getWidth=function(e){var t=0;return Yt(e)==="object"&&(t=D1(e.Rect[2])),t},rt.internal.getHeight=function(e){var t=0;return Yt(e)==="object"&&(t=D1(e.Rect[3])),t};var yw=kn.addField=function(e){if(vw(this,e),!(e instanceof mo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};kn.AcroFormChoiceField=eu,kn.AcroFormListBox=tu,kn.AcroFormComboBox=nu,kn.AcroFormEditBox=Lh,kn.AcroFormButton=tr,kn.AcroFormPushButton=kh,kn.AcroFormRadioButton=ru,kn.AcroFormCheckBox=Ph,kn.AcroFormTextField=Ja,kn.AcroFormPasswordField=Ah,kn.AcroFormAppearance=rt,kn.AcroForm={ChoiceField:eu,ListBox:tu,ComboBox:nu,EditBox:Lh,Button:tr,PushButton:kh,RadioButton:ru,CheckBox:Ph,TextField:Ja,PasswordField:Ah,Appearance:rt},dt.AcroForm={ChoiceField:eu,ListBox:tu,ComboBox:nu,EditBox:Lh,Button:tr,PushButton:kh,RadioButton:ru,CheckBox:Ph,TextField:Ja,PasswordField:Ah,Appearance:rt};dt.AcroForm;function Hv(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(O,R){var ne,Q,we,fe,ve,K=t;if((R=R||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(H(O))for(ve in n)for(we=n[ve],ne=0;ne<we.length;ne+=1){for(fe=!0,Q=0;Q<we[ne].length;Q+=1)if(we[ne][Q]!==void 0&&we[ne][Q]!==O[Q]){fe=!1;break}if(fe===!0){K=ve;break}}else for(ve in n)for(we=n[ve],ne=0;ne<we.length;ne+=1){for(fe=!0,Q=0;Q<we[ne].length;Q+=1)if(we[ne][Q]!==void 0&&we[ne][Q]!==O.charCodeAt(Q)){fe=!1;break}if(fe===!0){K=ve;break}}return K===t&&R!==t&&(K=R),K},o=function O(R){for(var ne=this.internal.write,Q=this.internal.putStream,we=(0,this.internal.getFilters)();we.indexOf("FlateEncode")!==-1;)we.splice(we.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var fe=[];if(fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Image"}),fe.push({key:"Width",value:R.width}),fe.push({key:"Height",value:R.height}),R.colorSpace===U.INDEXED?fe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(fe.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===U.DEVICE_CMYK&&fe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),fe.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&fe.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var ve="",K=0,ae=R.transparency.length;K<ae;K++)ve+=R.transparency[K]+" "+R.transparency[K]+" ";fe.push({key:"Mask",value:"["+ve+"]"})}R.sMask!==void 0&&fe.push({key:"SMask",value:R.objectId+1+" 0 R"});var se=R.filter!==void 0?["/"+R.filter]:void 0;if(Q({data:R.data,additionalKeyValues:fe,alreadyAppliedFilters:se,objectId:R.objectId}),ne("endobj"),"sMask"in R&&R.sMask!==void 0){var _e="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,E={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:_e,data:R.sMask};"filter"in R&&(E.filter=R.filter),O.call(this,E)}if(R.colorSpace===U.INDEXED){var T=this.internal.newObject();Q({data:j(new Uint8Array(R.palette)),objectId:T}),ne("endobj")}},s=function(){var O=this.internal.collections.addImage_images;for(var R in O)o.call(this,O[R])},l=function(){var O,R=this.internal.collections.addImage_images,ne=this.internal.write;for(var Q in R)ne("/I"+(O=R[Q]).index,O.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var O=this.internal.collections.addImage_images;return c.call(this),O},p=function(){return Object.keys(this.internal.collections.addImage_images).length},v=function(O){return typeof e["process"+O.toUpperCase()]=="function"},x=function(O){return Yt(O)==="object"&&O.nodeType===1},b=function(O,R){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var ne=""+O.getAttribute("src");if(ne.indexOf("data:image/")===0)return Qu(unescape(ne).split("base64,").pop());var Q=e.loadFile(ne,!0);if(Q!==void 0)return Q}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var we;switch(R){case"PNG":we="image/png";break;case"WEBP":we="image/webp";break;case"JPEG":case"JPG":default:we="image/jpeg"}return Qu(O.toDataURL(we,1).split("base64,").pop())}},w=function(O){var R=this.internal.collections.addImage_images;if(R){for(var ne in R)if(O===R[ne].alias)return R[ne]}},P=function(O,R,ne){return O||R||(O=-96,R=-96),O<0&&(O=-1*ne.width*72/O/this.internal.scaleFactor),R<0&&(R=-1*ne.height*72/R/this.internal.scaleFactor),O===0&&(O=R*ne.width/ne.height),R===0&&(R=O*ne.height/ne.width),[O,R]},C=function(O,R,ne,Q,we,fe){var ve=P.call(this,ne,Q,we),K=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,se=h.call(this);if(ne=ve[0],Q=ve[1],se[we.index]=we,fe){fe*=Math.PI/180;var _e=Math.cos(fe),E=Math.sin(fe),T=function(ee){return ee.toFixed(4)},G=[T(_e),T(E),T(-1*E),T(_e),0,0,"cm"]}this.internal.write("q"),fe?(this.internal.write([1,"0","0",1,K(O),ae(R+Q),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([K(ne),"0","0",K(Q),"0","0","cm"].join(" "))):this.internal.write([K(ne),"0","0",K(Q),K(O),ae(R+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+we.index+" Do"),this.internal.write("Q")},U=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=e.__addimage__.sHashCode=function(O){var R,ne,Q=0;if(typeof O=="string")for(ne=O.length,R=0;R<ne;R++)Q=(Q<<5)-Q+O.charCodeAt(R),Q|=0;else if(H(O))for(ne=O.byteLength/2,R=0;R<ne;R++)Q=(Q<<5)-Q+O[R],Q|=0;return Q},F=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var R=!0;return O.length===0&&(R=!1),O.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(R=!1),R},J=e.__addimage__.extractImageFromDataUrl=function(O){var R=(O=O||"").split("base64,"),ne=null;if(R.length===2){var Q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(Q)&&(ne={mimeType:Q[1],charset:Q[2],data:R[1]})}return ne},ie=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(O){return ie()&&O instanceof ArrayBuffer};var H=e.__addimage__.isArrayBufferView=function(O){return ie()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},Z=e.__addimage__.binaryStringToUint8Array=function(O){for(var R=O.length,ne=new Uint8Array(R),Q=0;Q<R;Q++)ne[Q]=O.charCodeAt(Q);return ne},j=e.__addimage__.arrayBufferToBinaryString=function(O){for(var R="",ne=H(O)?O:new Uint8Array(O),Q=0;Q<ne.length;Q+=8192)R+=String.fromCharCode.apply(null,ne.subarray(Q,Q+8192));return R};e.addImage=function(){var O,R,ne,Q,we,fe,ve,K,ae;if(typeof arguments[1]=="number"?(R=t,ne=arguments[1],Q=arguments[2],we=arguments[3],fe=arguments[4],ve=arguments[5],K=arguments[6],ae=arguments[7]):(R=arguments[1],ne=arguments[2],Q=arguments[3],we=arguments[4],fe=arguments[5],ve=arguments[6],K=arguments[7],ae=arguments[8]),Yt(O=arguments[0])==="object"&&!x(O)&&"imageData"in O){var se=O;O=se.imageData,R=se.format||R||t,ne=se.x||ne||0,Q=se.y||Q||0,we=se.w||se.width||we,fe=se.h||se.height||fe,ve=se.alias||ve,K=se.compression||K,ae=se.rotation||se.angle||ae}var _e=this.internal.getFilters();if(K===void 0&&_e.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(ne)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var E=z.call(this,O,R,ve,K);return C.call(this,ne,Q,we,fe,E,ae),this};var z=function(O,R,ne,Q){var we,fe,ve;if(typeof O=="string"&&r(O)===t){O=unescape(O);var K=V(O,!1);(K!==""||(K=e.loadFile(O,!0))!==void 0)&&(O=K)}if(x(O)&&(O=b(O,R)),R=r(O,R),!v(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((ve=ne)==null||ve.length===0)&&(ne=function(ae){return typeof ae=="string"||H(ae)?A(ae):H(ae.data)?A(ae.data):null}(O)),(we=w.call(this,ne))||(ie()&&(O instanceof Uint8Array||R==="RGBA"||(fe=O,O=Z(O))),we=this["process"+R.toUpperCase()](O,p.call(this),ne,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in e.image_compression?ae:S.NONE}(Q),fe)),!we)throw new Error("An unknown error occurred whilst processing the image.");return we},V=e.__addimage__.convertBase64ToBinaryString=function(O,R){var ne;R=typeof R!="boolean"||R;var Q,we="";if(typeof O=="string"){Q=(ne=J(O))!==null?ne.data:O;try{we=Qu(Q)}catch(fe){if(R)throw F(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+fe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return we};e.getImageProperties=function(O){var R,ne,Q="";if(x(O)&&(O=b(O)),typeof O=="string"&&r(O)===t&&((Q=V(O,!1))===""&&(Q=e.loadFile(O)||""),O=Q),ne=r(O),!v(ne))throw new Error("addImage does not support files of type '"+ne+"', please ensure that a plugin for '"+ne+"' support is added.");if(!ie()||O instanceof Uint8Array||(O=Z(O)),!(R=this["process"+ne.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=ne,R}})(dt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};dt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,o,s,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(n.objId),p=n.pageContext.annotations,v=!1,x=0;x<p.length&&!v;x++)switch((r=p[x]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var b=0;b<p.length;b++){r=p[b];var w=this.internal.pdfEscape,P=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),U=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(C.objId),A=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(o="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+w(S(r.contents))+")",s+=" /Popup "+U.objId+" 0 R",s+=" /P "+h.objId+" 0 R",s+=" /T ("+w(S(A))+") >>",C.content=s;var F=C.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+l(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+F,r.open&&(s+=" /Open true"),s+=" >>",U.content=s,this.internal.write(C.objId,"0 R",U.objId,"0 R");break;case"freetext":o="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var J=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+w(P(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+J+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ie=this.annotations._nameMap[r.options.name];r.options.pageNumber=ie.page,r.options.top=ie.y}else r.options.top||(r.options.top=0);if(o="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+w(P(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var H=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+H+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,o,s,l){var c=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:h(n),y:p(r),w:h(n+o),h:p(r+s)},options:l,type:"link"})},e.textWithLink=function(n,r,o,s){var l,c,h=this.getTextWidth(n),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var v=this.splitTextToSize(n,c).length;l=Math.ceil(p*v)}else c=h,l=p;return this.text(n,r,o,s),o+=.2*p,s.align==="center"&&(r-=h/2),s.align==="right"&&(r-=h),this.link(r,o-p,c,l,s),h},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(dt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(C){return t[C.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},c=e.__arabicParser__.isArabicEndLetter=function(C){return l(C)&&s(C)&&t[C.charCodeAt(0)].length<=2},h=e.__arabicParser__.isArabicAlfLetter=function(C){return l(C)&&o.indexOf(C.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return l(C)&&s(C)&&t[C.charCodeAt(0)].length>=1};var p=e.__arabicParser__.arabicLetterHasFinalForm=function(C){return l(C)&&s(C)&&t[C.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(C){return l(C)&&s(C)&&t[C.charCodeAt(0)].length>=3};var v=e.__arabicParser__.arabicLetterHasMedialForm=function(C){return l(C)&&s(C)&&t[C.charCodeAt(0)].length==4},x=e.__arabicParser__.resolveLigatures=function(C){var U=0,S=n,A="",F=0;for(U=0;U<C.length;U+=1)S[C.charCodeAt(U)]!==void 0?(F++,typeof(S=S[C.charCodeAt(U)])=="number"&&(A+=String.fromCharCode(S),S=n,F=0),U===C.length-1&&(S=n,A+=C.charAt(U-(F-1)),U-=F-1,F=0)):(S=n,A+=C.charAt(U-F),U-=F,F=0);return A};e.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&r[C.charCodeAt(0)]!==void 0};var b=e.__arabicParser__.getCorrectForm=function(C,U,S){return l(C)?s(C)===!1?-1:!p(C)||!l(U)&&!l(S)||!l(S)&&c(U)||c(C)&&!l(U)||c(C)&&h(U)||c(C)&&c(U)?0:v(C)&&l(U)&&!c(U)&&l(S)&&p(S)?3:c(C)||!l(S)?1:2:-1},w=function(C){var U=0,S=0,A=0,F="",J="",ie="",H=(C=C||"").split("\\s+"),Z=[];for(U=0;U<H.length;U+=1){for(Z.push(""),S=0;S<H[U].length;S+=1)F=H[U][S],J=H[U][S-1],ie=H[U][S+1],l(F)?(A=b(F,J,ie),Z[U]+=A!==-1?String.fromCharCode(t[F.charCodeAt(0)][A]):F):Z[U]+=F;Z[U]=x(Z[U])}return Z.join(" ")},P=e.__arabicParser__.processArabic=e.processArabic=function(){var C,U=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(U)){var A=0;for(S=[],A=0;A<U.length;A+=1)Array.isArray(U[A])?S.push([w(U[A][0]),U[A][1],U[A][2]]):S.push([w(U[A])]);C=S}else C=w(U);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};e.events.push(["preProcessText",P])}(dt.API),dt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(c){o=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var o;if((n=n||"2d")!=="2d")return null;for(o in r)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=r[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(dt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(C){h=C}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(C){p=C}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(C){v=C}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(C){x=C}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(C){b=C}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(C){w=C}});var P=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return P},set:function(C){P=C}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(h){return r.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},e.getTextDimensions=function(h,p){r.call(this);var v=(p=p||{}).fontSize||this.getFontSize(),x=p.font||this.getFont(),b=p.scaleFactor||this.internal.scaleFactor,w=0,P=0,C=0,U=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var S=p.maxWidth;S>0?typeof h=="string"?h=this.splitTextToSize(h,S):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(F,J){return F.concat(U.splitTextToSize(J,S))},[])):h=Array.isArray(h)?h:[h];for(var A=0;A<h.length;A++)w<(C=this.getStringUnitWidth(h[A],{font:x})*v)&&(w=C);return w!==0&&(P=h.length),{w:w/=b,h:Math.max((P*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/b,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var h;h=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var p=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,x=this.internal.__cell__.margins||t,b=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===h.lineNumber?(h.x=(p.x||0)+(p.width||0),h.y=p.y||0):p.y+p.height+h.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=x.top,w&&b&&(this.printHeaderRow(h.lineNumber,!0),h.y+=b[0].height)):h.y=p.y+p.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,n===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-v,h.y+v,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+v,{align:"center",baseline:"top",maxWidth:h.width-v-v}):this.text(h.text,h.x+v,h.y+v,{align:"left",baseline:"top",maxWidth:h.width-v-v})),this.internal.__cell__.lastCell=h,this};e.table=function(h,p,v,x,b){if(r.call(this),!v)throw new Error("No data for PDF table.");var w,P,C,U,S=[],A=[],F=[],J={},ie={},H=[],Z=[],j=(b=b||{}).autoSize||!1,z=b.printHeaders!==!1,V=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,O=b.margins||Object.assign({width:this.getPageWidth()},t),R=typeof b.padding=="number"?b.padding:3,ne=b.headerBackgroundColor||"#c8c8c8",Q=b.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=ne,this.internal.__cell__.headerTextColor=Q,this.setFontSize(V),x==null)A=S=Object.keys(v[0]),F=S.map(function(){return"left"});else if(Array.isArray(x)&&Yt(x[0])==="object")for(S=x.map(function(se){return se.name}),A=x.map(function(se){return se.prompt||se.name||""}),F=x.map(function(se){return se.align||"left"}),w=0;w<x.length;w+=1)ie[x[w].name]=x[w].width*(19.049976/25.4);else Array.isArray(x)&&typeof x[0]=="string"&&(A=S=x,F=S.map(function(){return"left"}));if(j||Array.isArray(x)&&typeof x[0]=="string")for(w=0;w<S.length;w+=1){for(J[U=S[w]]=v.map(function(se){return se[U]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(A[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),P=J[U],this.setFont(void 0,"normal"),C=0;C<P.length;C+=1)H.push(this.getTextDimensions(P[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ie[U]=Math.max.apply(null,H)+R+R,H=[]}if(z){var we={};for(w=0;w<S.length;w+=1)we[S[w]]={},we[S[w]].text=A[w],we[S[w]].align=F[w];var fe=c.call(this,we,ie);Z=S.map(function(se){return new s(h,p,ie[se],fe,we[se].text,void 0,we[se].align)}),this.setTableHeaderRow(Z),this.printHeaderRow(1,!1)}var ve=x.reduce(function(se,_e){return se[_e.name]=_e.align,se},{});for(w=0;w<v.length;w+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:w,data:v[w]},this);var K=c.call(this,v[w],ie);for(C=0;C<S.length;C+=1){var ae=v[w][S[C]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:w,col:C,data:ae},this),l.call(this,new s(h,p,ie[S[C]],K,ae,w+2,ve[S[C]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=p,this};var c=function(h,p){var v=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(h).map(function(w){var P=h[w];return this.splitTextToSize(P.hasOwnProperty("text")?P.text:P,p[w]-v-v)},this).map(function(w){return this.getLineHeightFactor()*w.length*x/b+v+v},this).reduce(function(w,P){return Math.max(w,P)},0)};e.setTableHeaderRow=function(h){r.call(this),this.internal.__cell__.tableHeaderRow=h},e.printHeaderRow=function(h,p){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){v=this.internal.__cell__.tableHeaderRow[w].clone(),p&&(v.y=this.internal.__cell__.margins.top||0,b.push(v)),v.lineNumber=h;var P=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,v),this.setTextColor(P)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),n=!1}}(dt.API);var Wv={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Zv=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],qp=Hv(Zv),Vv=[100,200,300,400,500,600,700,800,900],_w=Hv(Vv);function Up(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return Wv[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),o=function(s){return typeof qp[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:o,src:e.src||[],ref:e.ref||{name:t,style:[o,n,r].join(" ")}}}function B1(e,t,n,r){var o;for(o=n;o>=0&&o<t.length;o+=r)if(e[t[o]])return e[t[o]];for(o=n;o>=0&&o<t.length;o-=r)if(e[t[o]])return e[t[o]]}var xw={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},q1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function U1(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function ww(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",o=Object.assign({},xw,n.genericFontFamilies||{}),s=null,l=null,c=0;c<t.length;++c)if(o[(s=Up(t[c])).family]&&(s.family=o[s.family]),e.hasOwnProperty(s.family)){l=e[s.family];break}if(!(l=l||e[r]))throw new Error("Could not find a font-family for the rule '"+U1(s)+"' and default family '"+r+"'.");if(l=function(h,p){if(p[h])return p[h];var v=qp[h],x=v<=qp.normal?-1:1,b=B1(p,Zv,v,x);if(!b)throw new Error("Could not find a matching font-stretch value for "+h);return b}(s.stretch,l),l=function(h,p){if(p[h])return p[h];for(var v=Wv[h],x=0;x<v.length;++x)if(p[v[x]])return p[v[x]];throw new Error("Could not find a matching font-style for "+h)}(s.style,l),!(l=function(h,p){if(p[h])return p[h];if(h===400&&p[500])return p[500];if(h===500&&p[400])return p[400];var v=_w[h],x=B1(p,Vv,v,h<400?-1:1);if(!x)throw new Error("Could not find a matching font-weight for value "+h);return x}(s.weight,l)))throw new Error("Failed to resolve a font for the rule '"+U1(s)+"'.");return l}function $1(e){return e.trimLeft()}function bw(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Nw(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var ch,H1,W1,Cd=["times"];(function(e){var t,n,r,o,s,l,c,h,p,v=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new h,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new l,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new l,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new x(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,h=this.internal.Matrix,p=new v}]);var x=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var T=E;Object.defineProperty(this,"pdf",{get:function(){return T}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(Se){G=!!Se}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(Se){ee=!!Se}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(Se){isNaN(Se)||(re=Se)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(Se){isNaN(Se)||(pe=Se)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Se){var X;typeof Se=="number"?X=[Se,Se,Se,Se]:((X=new Array(4))[0]=Se[0],X[1]=Se.length>=2?Se[1]:X[0],X[2]=Se.length>=3?Se[2]:X[0],X[3]=Se.length>=4?Se[3]:X[1]),p.margin=X}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(Se){he=Se}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(Se){me=Se}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(Se){Oe=Se}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Se){Se instanceof v&&(p=Se)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Se){p.path=Se}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(Se){ke=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var X;X=b(Se),this.ctx.fillStyle=X.style,this.ctx.isFillTransparent=X.a===0,this.ctx.fillOpacity=X.a,this.pdf.setFillColor(X.r,X.g,X.b,{a:X.a}),this.pdf.setTextColor(X.r,X.g,X.b,{a:X.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var X=b(Se);this.ctx.strokeStyle=X.style,this.ctx.isStrokeTransparent=X.a===0,this.ctx.strokeOpacity=X.a,X.a===0?this.pdf.setDrawColor(255,255,255):(X.a,this.pdf.setDrawColor(X.r,X.g,X.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var Be=null;function Ue(Se,X){if(Be===null){var it=function(Fe){var Te=[];return Object.keys(Fe).forEach(function(Pe){Fe[Pe].forEach(function(Ce){var $e=null;switch(Ce){case"bold":$e={family:Pe,weight:"bold"};break;case"italic":$e={family:Pe,style:"italic"};break;case"bolditalic":$e={family:Pe,weight:"bold",style:"italic"};break;case"":case"normal":$e={family:Pe}}$e!==null&&($e.ref={name:Pe,style:Ce},Te.push($e))})}),Te}(Se.getFontList());Be=function(Fe){for(var Te={},Pe=0;Pe<Fe.length;++Pe){var Ce=Up(Fe[Pe]),$e=Ce.family,tt=Ce.stretch,Qe=Ce.style,lt=Ce.weight;Te[$e]=Te[$e]||{},Te[$e][tt]=Te[$e][tt]||{},Te[$e][tt][Qe]=Te[$e][tt][Qe]||{},Te[$e][tt][Qe][lt]=Ce}return Te}(it.concat(X))}return Be}var Ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ze},set:function(Se){Be=null,Ze=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var X;if(this.ctx.font=Se,(X=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var it=X[1],Fe=(X[2],X[3]),Te=X[4],Pe=(X[5],X[6]),Ce=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Te)[2];Te=Math.floor(Ce==="px"?parseFloat(Te)*this.pdf.internal.scaleFactor:Ce==="em"?parseFloat(Te)*this.pdf.getFontSize():parseFloat(Te)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Te);var $e=function(ut){var Nt,We,Ht=[],Pt=ut.trim();if(Pt==="")return Cd;if(Pt in q1)return[q1[Pt]];for(;Pt!=="";){switch(We=null,Nt=(Pt=$1(Pt)).charAt(0)){case'"':case"'":We=bw(Pt.substring(1),Nt);break;default:We=Nw(Pt)}if(We===null||(Ht.push(We[0]),(Pt=$1(We[1]))!==""&&Pt.charAt(0)!==","))return Cd;Pt=Pt.replace(/^,/,"")}return Ht}(Pe);if(this.fontFaces){var tt=ww(Ue(this.pdf,this.fontFaces),$e.map(function(ut){return{family:ut,stretch:"normal",weight:Fe,style:it}}));this.pdf.setFont(tt.ref.name,tt.ref.style)}else{var Qe="";(Fe==="bold"||parseInt(Fe,10)>=700||it==="bold")&&(Qe="bold"),it==="italic"&&(Qe+="italic"),Qe.length===0&&(Qe="normal");for(var lt="",ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ft=0;ft<$e.length;ft++){if(this.pdf.internal.getFont($e[ft],Qe,{noFallback:!0,disableWarning:!0})!==void 0){lt=$e[ft];break}if(Qe==="bolditalic"&&this.pdf.internal.getFont($e[ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)lt=$e[ft],Qe="bold";else if(this.pdf.internal.getFont($e[ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){lt=$e[ft],Qe="normal";break}}if(lt===""){for(var kt=0;kt<$e.length;kt++)if(ot[$e[kt]]){lt=ot[$e[kt]];break}}lt=lt===""?"Times":lt,this.pdf.setFont(lt,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,_e.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,_e.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};x.prototype.setLineDash=function(E){this.lineDash=E},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){J.call(this,"fill",!1)},x.prototype.stroke=function(){J.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(E,T){if(isNaN(E)||isNaN(T))throw nn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new l(E,T));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new l(E,T)},x.prototype.closePath=function(){var E=new l(0,0),T=0;for(T=this.path.length-1;T!==-1;T--)if(this.path[T].type==="begin"&&Yt(this.path[T+1])==="object"&&typeof this.path[T+1].x=="number"){E=new l(this.path[T+1].x,this.path[T+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(E.x,E.y)},x.prototype.lineTo=function(E,T){if(isNaN(E)||isNaN(T))throw nn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new l(E,T));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new l(G.x,G.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),J.call(this,null,!0)},x.prototype.quadraticCurveTo=function(E,T,G,ee){if(isNaN(G)||isNaN(ee)||isNaN(E)||isNaN(T))throw nn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new l(G,ee)),pe=this.ctx.transform.applyToPoint(new l(E,T));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:re.x,y:re.y}),this.ctx.lastPoint=new l(re.x,re.y)},x.prototype.bezierCurveTo=function(E,T,G,ee,re,pe){if(isNaN(re)||isNaN(pe)||isNaN(E)||isNaN(T)||isNaN(G)||isNaN(ee))throw nn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new l(re,pe)),me=this.ctx.transform.applyToPoint(new l(E,T)),Oe=this.ctx.transform.applyToPoint(new l(G,ee));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:Oe.x,y2:Oe.y,x:he.x,y:he.y}),this.ctx.lastPoint=new l(he.x,he.y)},x.prototype.arc=function(E,T,G,ee,re,pe){if(isNaN(E)||isNaN(T)||isNaN(G)||isNaN(ee)||isNaN(re))throw nn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new l(E,T));E=he.x,T=he.y;var me=this.ctx.transform.applyToPoint(new l(0,G)),Oe=this.ctx.transform.applyToPoint(new l(0,0));G=Math.sqrt(Math.pow(me.x-Oe.x,2)+Math.pow(me.y-Oe.y,2))}Math.abs(re-ee)>=2*Math.PI&&(ee=0,re=2*Math.PI),this.path.push({type:"arc",x:E,y:T,radius:G,startAngle:ee,endAngle:re,counterclockwise:pe})},x.prototype.arcTo=function(E,T,G,ee,re){throw new Error("arcTo not implemented.")},x.prototype.rect=function(E,T,G,ee){if(isNaN(E)||isNaN(T)||isNaN(G)||isNaN(ee))throw nn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,T),this.lineTo(E+G,T),this.lineTo(E+G,T+ee),this.lineTo(E,T+ee),this.lineTo(E,T),this.lineTo(E+G,T),this.lineTo(E,T)},x.prototype.fillRect=function(E,T,G,ee){if(isNaN(E)||isNaN(T)||isNaN(G)||isNaN(ee))throw nn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,T,G,ee),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},x.prototype.strokeRect=function(E,T,G,ee){if(isNaN(E)||isNaN(T)||isNaN(G)||isNaN(ee))throw nn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");P.call(this)||(this.beginPath(),this.rect(E,T,G,ee),this.stroke())},x.prototype.clearRect=function(E,T,G,ee){if(isNaN(E)||isNaN(T)||isNaN(G)||isNaN(ee))throw nn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,T,G,ee))},x.prototype.save=function(E){E=typeof E!="boolean"||E;for(var T=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(T),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},x.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var T=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(T),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(E){var T,G,ee,re;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))T=0,G=0,ee=0,re=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(pe!==null)T=parseInt(pe[1]),G=parseInt(pe[2]),ee=parseInt(pe[3]),re=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)T=parseInt(pe[1]),G=parseInt(pe[2]),ee=parseInt(pe[3]),re=parseFloat(pe[4]);else{if(re=1,typeof E=="string"&&E.charAt(0)!=="#"){var he=new zv(E);E=he.ok?he.toHex():"#000000"}E.length===4?(T=E.substring(1,2),T+=T,G=E.substring(2,3),G+=G,ee=E.substring(3,4),ee+=ee):(T=E.substring(1,3),G=E.substring(3,5),ee=E.substring(5,7)),T=parseInt(T,16),G=parseInt(G,16),ee=parseInt(ee,16)}}return{r:T,g:G,b:ee,a:re,style:E}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},P=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(E,T,G,ee){if(isNaN(T)||isNaN(G)||typeof E!="string")throw nn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!w.call(this)){var re=K(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;R.call(this,{text:E,x:T,y:G,scale:pe,angle:re,align:this.textAlign,maxWidth:ee})}},x.prototype.strokeText=function(E,T,G,ee){if(isNaN(T)||isNaN(G)||typeof E!="string")throw nn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!P.call(this)){ee=isNaN(ee)?void 0:ee;var re=K(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;R.call(this,{text:E,x:T,y:G,scale:pe,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:ee})}},x.prototype.measureText=function(E){if(typeof E!="string")throw nn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var T=this.pdf,G=this.pdf.internal.scaleFactor,ee=T.internal.getFontSize(),re=T.getStringUnitWidth(E)*ee/T.internal.scaleFactor,pe=function(he){var me=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this};return new pe({width:re*=Math.round(96*G/72*1e4)/1e4})},x.prototype.scale=function(E,T){if(isNaN(E)||isNaN(T))throw nn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new h(E,0,0,T,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},x.prototype.rotate=function(E){if(isNaN(E))throw nn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var T=new h(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(T)},x.prototype.translate=function(E,T){if(isNaN(E)||isNaN(T))throw nn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new h(1,0,0,1,E,T);this.ctx.transform=this.ctx.transform.multiply(G)},x.prototype.transform=function(E,T,G,ee,re,pe){if(isNaN(E)||isNaN(T)||isNaN(G)||isNaN(ee)||isNaN(re)||isNaN(pe))throw nn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new h(E,T,G,ee,re,pe);this.ctx.transform=this.ctx.transform.multiply(he)},x.prototype.setTransform=function(E,T,G,ee,re,pe){E=isNaN(E)?1:E,T=isNaN(T)?0:T,G=isNaN(G)?0:G,ee=isNaN(ee)?1:ee,re=isNaN(re)?0:re,pe=isNaN(pe)?0:pe,this.ctx.transform=new h(E,T,G,ee,re,pe)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(E,T,G,ee,re,pe,he,me,Oe){var ke=this.pdf.getImageProperties(E),Be=1,Ue=1,Ze=1,Se=1;ee!==void 0&&me!==void 0&&(Ze=me/ee,Se=Oe/re,Be=ke.width/ee*me/ee,Ue=ke.height/re*Oe/re),pe===void 0&&(pe=T,he=G,T=0,G=0),ee!==void 0&&me===void 0&&(me=ee,Oe=re),ee===void 0&&me===void 0&&(me=ke.width,Oe=ke.height);for(var X,it=this.ctx.transform.decompose(),Fe=K(it.rotate.shx),Te=new h,Pe=(Te=(Te=(Te=Te.multiply(it.translate)).multiply(it.skew)).multiply(it.scale)).applyToRectangle(new c(pe-T*Ze,he-G*Se,ee*Be,re*Ue)),Ce=U.call(this,Pe),$e=[],tt=0;tt<Ce.length;tt+=1)$e.indexOf(Ce[tt])===-1&&$e.push(Ce[tt]);if(F($e),this.autoPaging)for(var Qe=$e[0],lt=$e[$e.length-1],ot=Qe;ot<lt+1;ot++){this.pdf.setPage(ot);var ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=ot===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=ot===1?0:ut+(ot-2)*Nt;if(this.ctx.clip_path.length!==0){var Ht=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(X,this.posX+this.margin[3],-We+kt+this.ctx.prevPageLastElemOffset),ie.call(this,"fill",!0),this.path=Ht}var Pt=JSON.parse(JSON.stringify(Pe));Pt=A([Pt],this.posX+this.margin[3],-We+kt+this.ctx.prevPageLastElemOffset)[0];var Vn=(ot>Qe||ot<lt)&&C.call(this);Vn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,Nt,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,Fe),Vn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(E,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,Fe)};var U=function(E,T,G){var ee=[];T=T||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":ee.push(Math.floor((E.y+re)/G)+1);break;case"arc":ee.push(Math.floor((E.y+re-E.radius)/G)+1),ee.push(Math.floor((E.y+re+E.radius)/G)+1);break;case"qct":var pe=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);ee.push(Math.floor((pe.y+re)/G)+1),ee.push(Math.floor((pe.y+pe.h+re)/G)+1);break;case"bct":var he=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);ee.push(Math.floor((he.y+re)/G)+1),ee.push(Math.floor((he.y+he.h+re)/G)+1);break;case"rect":ee.push(Math.floor((E.y+re)/G)+1),ee.push(Math.floor((E.y+E.h+re)/G)+1)}for(var me=0;me<ee.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<ee[me];)S.call(this);return ee},S=function(){var E=this.fillStyle,T=this.strokeStyle,G=this.font,ee=this.lineCap,re=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=T,this.font=G,this.lineCap=ee,this.lineWidth=re,this.lineJoin=pe},A=function(E,T,G){for(var ee=0;ee<E.length;ee++)switch(E[ee].type){case"bct":E[ee].x2+=T,E[ee].y2+=G;case"qct":E[ee].x1+=T,E[ee].y1+=G;case"mt":case"lt":case"arc":default:E[ee].x+=T,E[ee].y+=G}return E},F=function(E){return E.sort(function(T,G){return T-G})},J=function(E,T){for(var G,ee,re=this.fillStyle,pe=this.strokeStyle,he=this.lineCap,me=this.lineWidth,Oe=Math.abs(me*this.ctx.transform.scaleX),ke=this.lineJoin,Be=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),Ze=[],Se=0;Se<Ue.length;Se++)if(Ue[Se].x!==void 0)for(var X=U.call(this,Ue[Se]),it=0;it<X.length;it+=1)Ze.indexOf(X[it])===-1&&Ze.push(X[it]);for(var Fe=0;Fe<Ze.length;Fe++)for(;this.pdf.internal.getNumberOfPages()<Ze[Fe];)S.call(this);if(F(Ze),this.autoPaging)for(var Te=Ze[0],Pe=Ze[Ze.length-1],Ce=Te;Ce<Pe+1;Ce++){this.pdf.setPage(Ce),this.fillStyle=re,this.strokeStyle=pe,this.lineCap=he,this.lineWidth=Oe,this.lineJoin=ke;var $e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=Ce===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Ce===1?0:Qe+(Ce-2)*lt;if(this.ctx.clip_path.length!==0){var ft=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(G,this.posX+this.margin[3],-ot+tt+this.ctx.prevPageLastElemOffset),ie.call(this,E,!0),this.path=ft}if(ee=JSON.parse(JSON.stringify(Be)),this.path=A(ee,this.posX+this.margin[3],-ot+tt+this.ctx.prevPageLastElemOffset),T===!1||Ce===0){var kt=(Ce>Te||Ce<Pe)&&C.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,lt,null).clip().discardPath()),ie.call(this,E,T),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=Oe,ie.call(this,E,T),this.lineWidth=me;this.path=Be},ie=function(E,T){if((E!=="stroke"||T||!P.call(this))&&(E==="stroke"||T||!w.call(this))){for(var G,ee,re=[],pe=this.path,he=0;he<pe.length;he++){var me=pe[he];switch(me.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:me,deltas:[],abs:[]});break;case"lt":var Oe=re.length;if(pe[he-1]&&!isNaN(pe[he-1].x)&&(G=[me.x-pe[he-1].x,me.y-pe[he-1].y],Oe>0)){for(;Oe>=0;Oe--)if(re[Oe-1].close!==!0&&re[Oe-1].begin!==!0){re[Oe-1].deltas.push(G),re[Oe-1].abs.push(me);break}}break;case"bct":G=[me.x1-pe[he-1].x,me.y1-pe[he-1].y,me.x2-pe[he-1].x,me.y2-pe[he-1].y,me.x-pe[he-1].x,me.y-pe[he-1].y],re[re.length-1].deltas.push(G);break;case"qct":var ke=pe[he-1].x+2/3*(me.x1-pe[he-1].x),Be=pe[he-1].y+2/3*(me.y1-pe[he-1].y),Ue=me.x+2/3*(me.x1-me.x),Ze=me.y+2/3*(me.y1-me.y),Se=me.x,X=me.y;G=[ke-pe[he-1].x,Be-pe[he-1].y,Ue-pe[he-1].x,Ze-pe[he-1].y,Se-pe[he-1].x,X-pe[he-1].y],re[re.length-1].deltas.push(G);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(me)}}ee=T?null:E==="stroke"?"stroke":"fill";for(var it=!1,Fe=0;Fe<re.length;Fe++)if(re[Fe].arc)for(var Te=re[Fe].abs,Pe=0;Pe<Te.length;Pe++){var Ce=Te[Pe];Ce.type==="arc"?j.call(this,Ce.x,Ce.y,Ce.radius,Ce.startAngle,Ce.endAngle,Ce.counterclockwise,void 0,T,!it):ne.call(this,Ce.x,Ce.y),it=!0}else if(re[Fe].close===!0)this.pdf.internal.out("h"),it=!1;else if(re[Fe].begin!==!0){var $e=re[Fe].start.x,tt=re[Fe].start.y;Q.call(this,re[Fe].deltas,$e,tt),it=!0}ee&&z.call(this,ee),T&&V.call(this)}},H=function(E){var T=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=T*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-G;case"top":return E+T-G;case"hanging":return E+T-2*G;case"middle":return E+T/2-G;case"ideographic":return E;case"alphabetic":default:return E}},Z=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(T,G){this.colorStops.push([T,G])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(E,T,G,ee,re,pe,he,me,Oe){for(var ke=fe.call(this,G,ee,re,pe),Be=0;Be<ke.length;Be++){var Ue=ke[Be];Be===0&&(Oe?O.call(this,Ue.x1+E,Ue.y1+T):ne.call(this,Ue.x1+E,Ue.y1+T)),we.call(this,E,T,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}me?V.call(this):z.call(this,he)},z=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(E,T){this.pdf.internal.out(n(E)+" "+r(T)+" m")},R=function(E){var T;switch(E.align){case"right":case"end":T="right";break;case"center":T="center";break;case"left":case"start":default:T="left"}var G=this.pdf.getTextDimensions(E.text),ee=H.call(this,E.y),re=Z.call(this,ee)-G.h,pe=this.ctx.transform.applyToPoint(new l(E.x,ee)),he=this.ctx.transform.decompose(),me=new h;me=(me=(me=me.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Oe,ke,Be,Ue=this.ctx.transform.applyToRectangle(new c(E.x,ee,G.w,G.h)),Ze=me.applyToRectangle(new c(E.x,re,G.w,G.h)),Se=U.call(this,Ze),X=[],it=0;it<Se.length;it+=1)X.indexOf(Se[it])===-1&&X.push(Se[it]);if(F(X),this.autoPaging)for(var Fe=X[0],Te=X[X.length-1],Pe=Fe;Pe<Te+1;Pe++){this.pdf.setPage(Pe);var Ce=Pe===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[2],Qe=tt-this.margin[0],lt=this.pdf.internal.pageSize.width-this.margin[1],ot=lt-this.margin[3],ft=Pe===1?0:$e+(Pe-2)*Qe;if(this.ctx.clip_path.length!==0){var kt=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Oe,this.posX+this.margin[3],-1*ft+Ce),ie.call(this,"fill",!0),this.path=kt}var ut=A([JSON.parse(JSON.stringify(Ze))],this.posX+this.margin[3],-ft+Ce+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*E.scale),Be=this.lineWidth,this.lineWidth=Be*E.scale);var Nt=this.autoPaging!=="text";if(Nt||ut.y+ut.h<=tt){if(Nt||ut.y>=Ce&&ut.x<=lt){var We=Nt?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||lt-ut.x)[0],Ht=A([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-ft+Ce+this.ctx.prevPageLastElemOffset)[0],Pt=Nt&&(Pe>Fe||Pe<Te)&&C.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Qe,null).clip().discardPath()),this.pdf.text(We,Ht.x,Ht.y,{angle:E.angle,align:T,renderingMode:E.renderingMode}),Pt&&this.pdf.restoreGraphicsState()}}else ut.y<tt&&(this.ctx.prevPageLastElemOffset+=tt-ut.y);E.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Be)}else E.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*E.scale),Be=this.lineWidth,this.lineWidth=Be*E.scale),this.pdf.text(E.text,pe.x+this.posX,pe.y+this.posY,{angle:E.angle,align:T,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Be)},ne=function(E,T,G,ee){G=G||0,ee=ee||0,this.pdf.internal.out(n(E+G)+" "+r(T+ee)+" l")},Q=function(E,T,G){return this.pdf.lines(E,T,G,null,null)},we=function(E,T,G,ee,re,pe,he,me){this.pdf.internal.out([t(o(G+E)),t(s(ee+T)),t(o(re+E)),t(s(pe+T)),t(o(he+E)),t(s(me+T)),"c"].join(" "))},fe=function(E,T,G,ee){for(var re=2*Math.PI,pe=Math.PI/2;T>G;)T-=re;var he=Math.abs(G-T);he<re&&ee&&(he=re-he);for(var me=[],Oe=ee?-1:1,ke=T;he>1e-5;){var Be=ke+Oe*Math.min(he,pe);me.push(ve.call(this,E,ke,Be)),he-=Math.abs(Be-ke),ke=Be}return me},ve=function(E,T,G){var ee=(G-T)/2,re=E*Math.cos(ee),pe=E*Math.sin(ee),he=re,me=-pe,Oe=he*he+me*me,ke=Oe+he*re+me*pe,Be=4/3*(Math.sqrt(2*Oe*ke)-ke)/(he*pe-me*re),Ue=he-Be*me,Ze=me+Be*he,Se=Ue,X=-Ze,it=ee+T,Fe=Math.cos(it),Te=Math.sin(it);return{x1:E*Math.cos(T),y1:E*Math.sin(T),x2:Ue*Fe-Ze*Te,y2:Ue*Te+Ze*Fe,x3:Se*Fe-X*Te,y3:Se*Te+X*Fe,x4:E*Math.cos(G),y4:E*Math.sin(G)}},K=function(E){return 180*E/Math.PI},ae=function(E,T,G,ee,re,pe){var he=E+.5*(G-E),me=T+.5*(ee-T),Oe=re+.5*(G-re),ke=pe+.5*(ee-pe),Be=Math.min(E,re,he,Oe),Ue=Math.max(E,re,he,Oe),Ze=Math.min(T,pe,me,ke),Se=Math.max(T,pe,me,ke);return new c(Be,Ze,Ue-Be,Se-Ze)},se=function(E,T,G,ee,re,pe,he,me){var Oe,ke,Be,Ue,Ze,Se,X,it,Fe,Te,Pe,Ce,$e,tt,Qe=G-E,lt=ee-T,ot=re-G,ft=pe-ee,kt=he-re,ut=me-pe;for(ke=0;ke<41;ke++)Fe=(X=(Be=E+(Oe=ke/40)*Qe)+Oe*((Ze=G+Oe*ot)-Be))+Oe*(Ze+Oe*(re+Oe*kt-Ze)-X),Te=(it=(Ue=T+Oe*lt)+Oe*((Se=ee+Oe*ft)-Ue))+Oe*(Se+Oe*(pe+Oe*ut-Se)-it),ke==0?(Pe=Fe,Ce=Te,$e=Fe,tt=Te):(Pe=Math.min(Pe,Fe),Ce=Math.min(Ce,Te),$e=Math.max($e,Fe),tt=Math.max(tt,Te));return new c(Math.round(Pe),Math.round(Ce),Math.round($e-Pe),Math.round(tt-Ce))},_e=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,T,G=(E=this.ctx.lineDash,T=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:T}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(dt.API),function(e){var t=function(s){var l,c,h,p,v,x,b,w,P,C;for(c=[],h=0,p=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;p>h;h+=4)(v=(s.charCodeAt(h)<<24)+(s.charCodeAt(h+1)<<16)+(s.charCodeAt(h+2)<<8)+s.charCodeAt(h+3))!==0?(x=(v=((v=((v=((v=(v-(C=v%85))/85)-(P=v%85))/85)-(w=v%85))/85)-(b=v%85))/85)%85,c.push(x+33,b+33,w+33,P+33,C+33)):c.push(122);return function(U,S){for(var A=S;A>0;A--)U.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(s){var l,c,h,p,v,x=String,b="length",w=255,P="charCodeAt",C="slice",U="replace";for(s[C](-2),s=s[C](0,-2)[U](/\s/g,"")[U]("z","!!!!!"),h=[],p=0,v=(s+=l="uuuuu"[C](s[b]%5||5))[b];v>p;p+=5)c=52200625*(s[P](p)-33)+614125*(s[P](p+1)-33)+7225*(s[P](p+2)-33)+85*(s[P](p+3)-33)+(s[P](p+4)-33),h.push(w&c>>24,w&c>>16,w&c>>8,w&c);return function(S,A){for(var F=A;F>0;F--)S.pop()}(h,l[b]),x.fromCharCode.apply(x,h)},r=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var c="",h=0;h<s.length;h+=2)c+=String.fromCharCode("0x"+(s[h]+s[h+1]));return c},o=function(s){for(var l=new Uint8Array(s.length),c=s.length;c--;)l[c]=s.charCodeAt(c);return s=(l=Rp(l)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};e.processDataByFilters=function(s,l){var c=0,h=s||"",p=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":h=n(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=r(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(v){return("0"+v.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=o(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}}(dt.API),function(e){e.loadFile=function(t,n,r){return function(o,s,l){s=s!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(h,p,v){var x=new XMLHttpRequest,b=0,w=function(P){var C=P.length,U=[],S=String.fromCharCode;for(b=0;b<C;b+=1)U.push(S(255&P.charCodeAt(b)));return U.join("")};if(x.open("GET",h,!p),x.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(x.onload=function(){x.status===200?v(w(this.responseText)):v(void 0)}),x.send(null),p&&x.status===200)return w(x.responseText)}(o,s,l)}catch{}return c}(t,n,r)},e.loadImageFile=e.loadFile}(dt.API),function(e){function t(){return(pt.html2canvas?Promise.resolve(pt.html2canvas):Ep(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(pt.DOMPurify?Promise.resolve(pt.DOMPurify):Ep(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var c=Yt(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},o=function(l,c){var h=document.createElement(l);for(var p in c.className&&(h.className=c.className),c.innerHTML&&c.dompurify&&(h.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)h.style[p]=c.style[p];return h},s=function l(c){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),p=l.convert(Promise.resolve(),h);return p=(p=p.setProgress(1,l,1,[l])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,c){return l.__proto__=c||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(n).then(function(h){return this.set({src:o("div",{innerHTML:l,dompurify:h})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function h(p,v){for(var x=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),b=p.firstChild;b;b=b.nextSibling)v!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||x.appendChild(h(b,v));return p.nodeType===1&&(p.nodeName==="CANVAS"?(x.width=p.width,x.height=p.height,x.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(x.value=p.value),x.addEventListener("load",function(){x.scrollTop=p.scrollTop,x.scrollLeft=p.scrollLeft},!0)),x}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,c(this.prop.container,h)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var h=this.opt.jsPDF,p=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var b=0;b<p.length;++b){var w=p[b],P=w.src.find(function(C){return C.format==="truetype"});P&&h.addFont(P.url,w.ref.name,w.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,h.context2d.save(!0),c(this.prop.container,x)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,c,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},s.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map(function(h){if(h in s.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(l,c){return this.then(function(){var h=l in s.template.prop?this.prop[l]:this.opt[l];return c?c(h):h})},s.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function c(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(l=l||dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,c,h,p){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,c,h,p){return this.setProgress(l?this.progress.val+l:null,c||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},s.prototype.then=function(l,c){var h=this;return this.thenCore(l,c,function(p,v){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(x){return h.updateProgress(null,p),x}).then(p,v).then(function(x){return h.updateProgress(1),x})})},s.prototype.thenCore=function(l,c,h){h=h||Promise.prototype.then,l&&(l=l.bind(this)),c&&(c=c.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),v=h.call(p,l,c);return s.convert(v,this.__proto__)},s.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},s.prototype.thenList=function(l){var c=this;return l.forEach(function(h){c=c.thenCore(h)}),c},s.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return s.convert(c,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,dt.getPageSize=function(l,c,h){if(Yt(l)==="object"){var p=l;l=p.orientation,c=p.unit||c,h=p.format||h}c=c||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var v,x=(""+h).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+c}var w,P=0,C=0;if(b.hasOwnProperty(x))P=b[x][1]/v,C=b[x][0]/v;else try{P=h[1],C=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",C>P&&(w=C,C=P,P=w);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",P>C&&(w=C,C=P,P=w)}return{width:C,height:P,unit:c,k:v,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Up):null;var h=new s(c);return c.worker?h:h.from(l).doCallback()}}(dt.API),dt.API.addJS=function(e){return W1=e,this.internal.events.subscribe("postPutResources",function(){ch=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ch+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),H1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+W1+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ch!==void 0&&H1!==void 0&&this.internal.out("/Names <</JavaScript "+ch+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=n.outline.render().split(/\r\n/),s=0;s<o.length;s++){var l=o[s],c=r.exec(l);if(c!=null){var h=c[1];n.internal.newObjectDeferredBegin(h,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,v=[];for(s=0;s<p;s++){var x=n.internal.newObject();v.push(x);var b=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var w=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<v.length;s++)n.internal.write("(page_"+(s+1)+")"+v[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+w+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,o,s){var l={title:o,options:s,children:[]};return r==null&&(r=this.root),r.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var o=0;o<r.children.length;o++)this.genIds_r(r.children[o])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var l=r.children[s];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var h=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var p=0;p<r.children.length;p++)this.renderItems(r.children[p])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,o){for(var s=0;s<o.children.length;s++)r.count++,this.count_r(r,o.children[s]);return r.count}}])}(dt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,o,s,l,c){var h,p=this.decode.DCT_DECODE,v=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(h=function(x){for(var b,w=256*x.charCodeAt(4)+x.charCodeAt(5),P=x.length,C={width:0,height:0,numcomponents:1},U=4;U<P;U+=2){if(U+=w,t.indexOf(x.charCodeAt(U+1))!==-1){b=256*x.charCodeAt(U+5)+x.charCodeAt(U+6),C={width:256*x.charCodeAt(U+7)+x.charCodeAt(U+8),height:b,numcomponents:x.charCodeAt(U+9)};break}w=256*x.charCodeAt(U+2)+x.charCodeAt(U+3)}return C}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}v={data:n,width:h.width,height:h.height,colorSpace:c,bitsPerComponent:8,filter:p,index:r,alias:o}}return v}}(dt.API);var El,hh,Z1,V1,G1,Sw=function(){var e,t,n;function r(s){var l,c,h,p,v,x,b,w,P,C,U,S,A,F;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},x=null;;){switch(l=this.readUInt32(),P=(function(){var J,ie;for(ie=[],J=0;J<4;++J)ie.push(String.fromCharCode(this.data[this.pos++]));return ie}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":x&&this.animation.frames.push(x),this.pos+=4,x={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},v=this.readUInt16(),p=this.readUInt16()||100,x.delay=1e3*v/p,x.disposeOp=this.data[this.pos++],x.blendOp=this.data[this.pos++],x.data=[];break;case"IDAT":case"fdAT":for(P==="fdAT"&&(this.pos+=4,l-=4),s=(x!=null?x.data:void 0)||this.imgData,S=0;0<=l?S<l:S>l;0<=l?++S:--S)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((C=h-this.transparency.indexed.length)>0)for(A=0;0<=C?A<C:A>C;0<=C?++A:--A)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":b=(U=this.read(l)).indexOf(0),w=String.fromCharCode.apply(String,U.slice(0,b)),this.text[w]=String.fromCharCode.apply(String,U.slice(b+1));break;case"IEND":return x&&this.animation.frames.push(x),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(F=this.colorType)===4||F===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var l,c;for(c=[],l=0;0<=s?l<s:l>s;0<=s?++l:--l)c.push(this.data[this.pos++]);return c},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var l=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*l),h=0,p=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function v(x,b,w,P){var C,U,S,A,F,J,ie,H,Z,j,z,V,O,R,ne,Q,we,fe,ve,K,ae,se=Math.ceil((p.width-x)/w),_e=Math.ceil((p.height-b)/P),E=p.width==se&&p.height==_e;for(R=l*se,V=E?c:new Uint8Array(R*_e),J=s.length,O=0,U=0;O<_e&&h<J;){switch(s[h++]){case 0:for(A=we=0;we<R;A=we+=1)V[U++]=s[h++];break;case 1:for(A=fe=0;fe<R;A=fe+=1)C=s[h++],F=A<l?0:V[U-l],V[U++]=(C+F)%256;break;case 2:for(A=ve=0;ve<R;A=ve+=1)C=s[h++],S=(A-A%l)/l,ne=O&&V[(O-1)*R+S*l+A%l],V[U++]=(ne+C)%256;break;case 3:for(A=K=0;K<R;A=K+=1)C=s[h++],S=(A-A%l)/l,F=A<l?0:V[U-l],ne=O&&V[(O-1)*R+S*l+A%l],V[U++]=(C+Math.floor((F+ne)/2))%256;break;case 4:for(A=ae=0;ae<R;A=ae+=1)C=s[h++],S=(A-A%l)/l,F=A<l?0:V[U-l],O===0?ne=Q=0:(ne=V[(O-1)*R+S*l+A%l],Q=S&&V[(O-1)*R+(S-1)*l+A%l]),ie=F+ne-Q,H=Math.abs(ie-F),j=Math.abs(ie-ne),z=Math.abs(ie-Q),Z=H<=j&&H<=z?F:j<=z?ne:Q,V[U++]=(C+Z)%256;break;default:throw new Error("Invalid filter algorithm: "+s[h-1])}if(!E){var T=((b+O*P)*p.width+x)*l,G=O*R;for(A=0;A<se;A+=1){for(var ee=0;ee<l;ee+=1)c[T++]=V[G++];T+=(w-1)*l}}O++}}return s=nw(s),p.interlaceMethod==1?(v(0,0,8,8),v(4,0,8,8),v(0,4,4,8),v(2,0,4,4),v(0,2,2,4),v(1,0,2,2),v(0,1,1,2)):v(0,0,1,1),c},r.prototype.decodePalette=function(){var s,l,c,h,p,v,x,b,w;for(c=this.palette,v=this.transparency.indexed||[],p=new Uint8Array((v.length||0)+c.length),h=0,s=0,l=x=0,b=c.length;x<b;l=x+=3)p[h++]=c[l],p[h++]=c[l+1],p[h++]=c[l+2],p[h++]=(w=v[s++])!=null?w:255;return p},r.prototype.copyToImageData=function(s,l){var c,h,p,v,x,b,w,P,C,U,S;if(h=this.colors,C=null,c=this.hasAlphaChannel,this.palette.length&&(C=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),h=4,c=!0),P=(p=s.data||s).length,x=C||l,v=b=0,h===1)for(;v<P;)w=C?4*l[v/4]:b,U=x[w++],p[v++]=U,p[v++]=U,p[v++]=U,p[v++]=c?x[w++]:255,b=w;else for(;v<P;)w=C?4*l[v/4]:b,p[v++]=x[w++],p[v++]=x[w++],p[v++]=x[w++],p[v++]=c?x[w++]:255,b=w},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var o=function(){if(Object.prototype.toString.call(pt)==="[object Window]"){try{t=pt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return o(),e=function(s){var l;if(o()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(l=new Image).src=t.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var l,c,h,p,v,x,b,w;if(this.animation){for(w=[],c=v=0,x=(b=this.animation.frames).length;v<x;c=++v)l=b[c],h=s.createImageData(l.width,l.height),p=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(h,p),l.imageData=h,w.push(l.image=e(h));return w}},r.prototype.renderFrame=function(s,l){var c,h,p;return c=(h=this.animation.frames)[l],p=h[l-1],l===0&&s.clearRect(0,0,this.width,this.height),(p!=null?p.disposeOp:void 0)===1?s.clearRect(p.xOffset,p.yOffset,p.width,p.height):(p!=null?p.disposeOp:void 0)===2&&s.putImageData(p.imageData,p.xOffset,p.yOffset),c.blendOp===0&&s.clearRect(c.xOffset,c.yOffset,c.width,c.height),s.drawImage(c.image,c.xOffset,c.yOffset)},r.prototype.animate=function(s){var l,c,h,p,v,x,b=this;return c=0,x=this.animation,p=x.numFrames,h=x.frames,v=x.numPlays,(l=function(){var w,P;if(w=c++%p,P=h[w],b.renderFrame(s,w),p>1&&c/p<v)return b.animation._timeout=setTimeout(l,P.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var l,c;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,l=s.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(c=l.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),l.putImageData(c,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Lw(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,o=e[t++],s=o>>7,l=1<<(7&o)+1;e[t++],e[t++];var c=null,h=null;s&&(c=t,h=l,t+=3*l);var p=!0,v=[],x=0,b=null,w=0,P=null;for(this.width=n,this.height=r;p&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,P=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var C=e[t++];x=e[t++]|e[t++]<<8,b=e[t++],!(1&C)&&(b=null),w=C>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var U=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,F=e[t++]|e[t++]<<8,J=e[t++],ie=J>>6&1,H=1<<(7&J)+1,Z=c,j=h,z=!1;J>>7&&(z=!0,Z=t,j=H,t+=3*H);var V=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}v.push({x:U,y:S,width:A,height:F,has_local_palette:z,palette_offset:Z,palette_size:j,data_offset:V,data_length:t-V,transparent_index:b,interlaced:!!ie,delay:x,disposal:w});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return P},this.frameInfo=function(R){if(R<0||R>=v.length)throw new Error("Frame index out of range.");return v[R]},this.decodeAndBlitFrameBGRA=function(R,ne){var Q=this.frameInfo(R),we=Q.width*Q.height,fe=new Uint8Array(we);K1(e,Q.data_offset,fe,we);var ve=Q.palette_offset,K=Q.transparent_index;K===null&&(K=256);var ae=Q.width,se=n-ae,_e=ae,E=4*(Q.y*n+Q.x),T=4*((Q.y+Q.height)*n+Q.x),G=E,ee=4*se;Q.interlaced===!0&&(ee+=4*n*7);for(var re=8,pe=0,he=fe.length;pe<he;++pe){var me=fe[pe];if(_e===0&&(_e=ae,(G+=ee)>=T&&(ee=4*se+4*n*(re-1),G=E+(ae+se)*(re<<1),re>>=1)),me===K)G+=4;else{var Oe=e[ve+3*me],ke=e[ve+3*me+1],Be=e[ve+3*me+2];ne[G++]=Be,ne[G++]=ke,ne[G++]=Oe,ne[G++]=255}--_e}},this.decodeAndBlitFrameRGBA=function(R,ne){var Q=this.frameInfo(R),we=Q.width*Q.height,fe=new Uint8Array(we);K1(e,Q.data_offset,fe,we);var ve=Q.palette_offset,K=Q.transparent_index;K===null&&(K=256);var ae=Q.width,se=n-ae,_e=ae,E=4*(Q.y*n+Q.x),T=4*((Q.y+Q.height)*n+Q.x),G=E,ee=4*se;Q.interlaced===!0&&(ee+=4*n*7);for(var re=8,pe=0,he=fe.length;pe<he;++pe){var me=fe[pe];if(_e===0&&(_e=ae,(G+=ee)>=T&&(ee=4*se+4*n*(re-1),G=E+(ae+se)*(re<<1),re>>=1)),me===K)G+=4;else{var Oe=e[ve+3*me],ke=e[ve+3*me+1],Be=e[ve+3*me+2];ne[G++]=Oe,ne[G++]=ke,ne[G++]=Be,ne[G++]=255}--_e}}}function K1(e,t,n,r){for(var o=e[t++],s=1<<o,l=s+1,c=l+1,h=o+1,p=(1<<h)-1,v=0,x=0,b=0,w=e[t++],P=new Int32Array(4096),C=null;;){for(;v<16&&w!==0;)x|=e[t++]<<v,v+=8,w===1?w=e[t++]:--w;if(v<h)break;var U=x&p;if(x>>=h,v-=h,U!==s){if(U===l)break;for(var S=U<c?U:C,A=0,F=S;F>s;)F=P[F]>>8,++A;var J=F;if(b+A+(S!==U?1:0)>r)return void nn.log("Warning, gif stream longer than expected.");n[b++]=J;var ie=b+=A;for(S!==U&&(n[b++]=J),F=S;A--;)F=P[F],n[--ie]=255&F,F>>=8;C!==null&&c<4096&&(P[c++]=C<<8|J,c>=p+1&&h<12&&(++h,p=p<<1|1)),C=U}else c=l+1,p=(1<<(h=o+1))-1,C=null}return b!==r&&nn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ed(e){var t,n,r,o,s,l=Math.floor,c=new Array(64),h=new Array(64),p=new Array(64),v=new Array(64),x=new Array(65535),b=new Array(65535),w=new Array(64),P=new Array(64),C=[],U=0,S=7,A=new Array(64),F=new Array(64),J=new Array(64),ie=new Array(256),H=new Array(2048),Z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ne=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],we=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function fe(E,T){for(var G=0,ee=0,re=new Array,pe=1;pe<=16;pe++){for(var he=1;he<=E[pe];he++)re[T[ee]]=[],re[T[ee]][0]=G,re[T[ee]][1]=pe,ee++,G++;G*=2}return re}function ve(E){for(var T=E[0],G=E[1]-1;G>=0;)T&1<<G&&(U|=1<<S),G--,--S<0&&(U==255?(K(255),K(0)):K(U),S=7,U=0)}function K(E){C.push(E)}function ae(E){K(E>>8&255),K(255&E)}function se(E,T,G,ee,re){for(var pe,he=re[0],me=re[240],Oe=function(Te,Pe){var Ce,$e,tt,Qe,lt,ot,ft,kt,ut,Nt,We=0;for(ut=0;ut<8;++ut){Ce=Te[We],$e=Te[We+1],tt=Te[We+2],Qe=Te[We+3],lt=Te[We+4],ot=Te[We+5],ft=Te[We+6];var Ht=Ce+(kt=Te[We+7]),Pt=Ce-kt,Vn=$e+ft,Ut=$e-ft,rn=tt+ot,fr=tt-ot,Dt=Qe+lt,Ho=Qe-lt,an=Ht+Dt,Hr=Ht-Dt,Li=Vn+rn,fn=Vn-rn;Te[We]=an+Li,Te[We+4]=an-Li;var vt=.707106781*(fn+Hr);Te[We+2]=Hr+vt,Te[We+6]=Hr-vt;var Bt=.382683433*((an=Ho+fr)-(fn=Ut+Pt)),Wo=.5411961*an+Bt,Dn=1.306562965*fn+Bt,ki=.707106781*(Li=fr+Ut),Wr=Pt+ki,ct=Pt-ki;Te[We+5]=ct+Wo,Te[We+3]=ct-Wo,Te[We+1]=Wr+Dn,Te[We+7]=Wr-Dn,We+=8}for(We=0,ut=0;ut<8;++ut){Ce=Te[We],$e=Te[We+8],tt=Te[We+16],Qe=Te[We+24],lt=Te[We+32],ot=Te[We+40],ft=Te[We+48];var ci=Ce+(kt=Te[We+56]),Pi=Ce-kt,dr=$e+ft,$t=$e-ft,Ge=tt+ot,pr=tt-ot,Zo=Qe+lt,Ai=Qe-lt,Zr=ci+Zo,jr=ci-Zo,Vr=dr+Ge,rr=dr-Ge;Te[We]=Zr+Vr,Te[We+32]=Zr-Vr;var Cr=.707106781*(rr+jr);Te[We+16]=jr+Cr,Te[We+48]=jr-Cr;var ji=.382683433*((Zr=Ai+pr)-(rr=$t+Pi)),Vo=.5411961*Zr+ji,ws=1.306562965*rr+ji,bs=.707106781*(Vr=pr+$t),Go=Pi+bs,Ns=Pi-bs;Te[We+40]=Ns+Vo,Te[We+24]=Ns-Vo,Te[We+8]=Go+ws,Te[We+56]=Go-ws,We++}for(ut=0;ut<64;++ut)Nt=Te[ut]*Pe[ut],w[ut]=Nt>0?Nt+.5|0:Nt-.5|0;return w}(E,T),ke=0;ke<64;++ke)P[Z[ke]]=Oe[ke];var Be=P[0]-G;G=P[0],Be==0?ve(ee[0]):(ve(ee[b[pe=32767+Be]]),ve(x[pe]));for(var Ue=63;Ue>0&&P[Ue]==0;)Ue--;if(Ue==0)return ve(he),G;for(var Ze,Se=1;Se<=Ue;){for(var X=Se;P[Se]==0&&Se<=Ue;)++Se;var it=Se-X;if(it>=16){Ze=it>>4;for(var Fe=1;Fe<=Ze;++Fe)ve(me);it&=15}pe=32767+P[Se],ve(re[(it<<4)+b[pe]]),ve(x[pe]),Se++}return Ue!=63&&ve(he),G}function _e(E){E=Math.min(Math.max(E,1),100),s!=E&&(function(T){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var re=l((G[ee]*T+50)/100);re=Math.min(Math.max(re,1),255),c[Z[ee]]=re}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var me=l((pe[he]*T+50)/100);me=Math.min(Math.max(me,1),255),h[Z[he]]=me}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Be=0;Be<8;Be++)for(var Ue=0;Ue<8;Ue++)p[ke]=1/(c[Z[ke]]*Oe[Be]*Oe[Ue]*8),v[ke]=1/(h[Z[ke]]*Oe[Be]*Oe[Ue]*8),ke++}(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),s=E)}this.encode=function(E,T){T&&_e(T),C=new Array,U=0,S=7,ae(65496),ae(65504),ae(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),ae(1),ae(1),K(0),K(0),function(){ae(65499),ae(132),K(0);for(var $e=0;$e<64;$e++)K(c[$e]);K(1);for(var tt=0;tt<64;tt++)K(h[tt])}(),function($e,tt){ae(65472),ae(17),K(8),ae(tt),ae($e),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(E.width,E.height),function(){ae(65476),ae(418),K(0);for(var $e=0;$e<16;$e++)K(j[$e+1]);for(var tt=0;tt<=11;tt++)K(z[tt]);K(16);for(var Qe=0;Qe<16;Qe++)K(V[Qe+1]);for(var lt=0;lt<=161;lt++)K(O[lt]);K(1);for(var ot=0;ot<16;ot++)K(R[ot+1]);for(var ft=0;ft<=11;ft++)K(ne[ft]);K(17);for(var kt=0;kt<16;kt++)K(Q[kt+1]);for(var ut=0;ut<=161;ut++)K(we[ut])}(),ae(65498),ae(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var G=0,ee=0,re=0;U=0,S=7,this.encode.displayName="_encode_";for(var pe,he,me,Oe,ke,Be,Ue,Ze,Se,X=E.data,it=E.width,Fe=E.height,Te=4*it,Pe=0;Pe<Fe;){for(pe=0;pe<Te;){for(ke=Te*Pe+pe,Ue=-1,Ze=0,Se=0;Se<64;Se++)Be=ke+(Ze=Se>>3)*Te+(Ue=4*(7&Se)),Pe+Ze>=Fe&&(Be-=Te*(Pe+1+Ze-Fe)),pe+Ue>=Te&&(Be-=pe+Ue-Te+4),he=X[Be++],me=X[Be++],Oe=X[Be++],A[Se]=(H[he]+H[me+256>>0]+H[Oe+512>>0]>>16)-128,F[Se]=(H[he+768>>0]+H[me+1024>>0]+H[Oe+1280>>0]>>16)-128,J[Se]=(H[he+1280>>0]+H[me+1536>>0]+H[Oe+1792>>0]>>16)-128;G=se(A,p,G,t,r),ee=se(F,v,ee,n,o),re=se(J,v,re,n,o),pe+=32}Pe+=8}if(S>=0){var Ce=[];Ce[1]=S+1,Ce[0]=(1<<S+1)-1,ve(Ce)}return ae(65497),new Uint8Array(C)},e=e||50,function(){for(var E=String.fromCharCode,T=0;T<256;T++)ie[T]=E(T)}(),t=fe(j,z),n=fe(R,ne),r=fe(V,O),o=fe(Q,we),function(){for(var E=1,T=2,G=1;G<=15;G++){for(var ee=E;ee<T;ee++)b[32767+ee]=G,x[32767+ee]=[],x[32767+ee][1]=G,x[32767+ee][0]=ee;for(var re=-(T-1);re<=-E;re++)b[32767+re]=G,x[32767+re]=[],x[32767+re][1]=G,x[32767+re][0]=T-1+re;E<<=1,T<<=1}}(),function(){for(var E=0;E<256;E++)H[E]=19595*E,H[E+256>>0]=38470*E,H[E+512>>0]=7471*E+32768,H[E+768>>0]=-11059*E,H[E+1024>>0]=-21709*E,H[E+1280>>0]=32768*E+8421375,H[E+1536>>0]=-27439*E,H[E+1792>>0]=-5329*E}(),_e(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function so(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function J1(e){function t(j){if(!j)throw Error("assert :P")}function n(j,z,V){for(var O=0;4>O;O++)if(j[z+O]!=V.charCodeAt(O))return!0;return!1}function r(j,z,V,O,R){for(var ne=0;ne<R;ne++)j[z+ne]=V[O+ne]}function o(j,z,V,O){for(var R=0;R<O;R++)j[z+R]=V}function s(j){return new Int32Array(j)}function l(j,z){for(var V=[],O=0;O<j;O++)V.push(new z);return V}function c(j,z){var V=[];return function O(R,ne,Q){for(var we=Q[ne],fe=0;fe<we&&(R.push(Q.length>ne+1?[]:new z),!(Q.length<ne+1));fe++)O(R[fe],ne+1,Q)}(V,0,j),V}var h=function(){var j=this;function z(u,d){for(var _=1<<d-1>>>0;u&_;)_>>>=1;return _?(u&_-1)+_:u}function V(u,d,_,N,I){t(!(N%_));do u[d+(N-=_)]=I;while(0<N)}function O(u,d,_,N,I){if(t(2328>=I),512>=I)var D=s(512);else if((D=s(I))==null)return 0;return function(B,$,W,Y,ue,be){var Ne,ge,Re=$,Ee=1<<W,ce=s(16),de=s(16);for(t(ue!=0),t(Y!=null),t(B!=null),t(0<W),ge=0;ge<ue;++ge){if(15<Y[ge])return 0;++ce[Y[ge]]}if(ce[0]==ue)return 0;for(de[1]=0,Ne=1;15>Ne;++Ne){if(ce[Ne]>1<<Ne)return 0;de[Ne+1]=de[Ne]+ce[Ne]}for(ge=0;ge<ue;++ge)Ne=Y[ge],0<Y[ge]&&(be[de[Ne]++]=ge);if(de[15]==1)return(Y=new R).g=0,Y.value=be[0],V(B,Re,1,Ee,Y),Ee;var Ie,De=-1,Me=Ee-1,Xe=0,Ve=1,ht=1,Je=1<<W;for(ge=0,Ne=1,ue=2;Ne<=W;++Ne,ue<<=1){if(Ve+=ht<<=1,0>(ht-=ce[Ne]))return 0;for(;0<ce[Ne];--ce[Ne])(Y=new R).g=Ne,Y.value=be[ge++],V(B,Re+Xe,ue,Je,Y),Xe=z(Xe,Ne)}for(Ne=W+1,ue=2;15>=Ne;++Ne,ue<<=1){if(Ve+=ht<<=1,0>(ht-=ce[Ne]))return 0;for(;0<ce[Ne];--ce[Ne]){if(Y=new R,(Xe&Me)!=De){for(Re+=Je,Ie=1<<(De=Ne)-W;15>De&&!(0>=(Ie-=ce[De]));)++De,Ie<<=1;Ee+=Je=1<<(Ie=De-W),B[$+(De=Xe&Me)].g=Ie+W,B[$+De].value=Re-$-De}Y.g=Ne-W,Y.value=be[ge++],V(B,Re+(Xe>>W),ue,Je,Y),Xe=z(Xe,Ne)}}return Ve!=2*de[15]-1?0:Ee}(u,d,_,N,I,D)}function R(){this.value=this.g=0}function ne(){this.value=this.g=0}function Q(){this.G=l(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Nn,ne)}function we(u,d,_,N){t(u!=null),t(d!=null),t(2147483648>N),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=d,u.pa=_,u.Jd=d,u.Yc=_+N,u.Zc=4<=N?_+N-4+1:_,pe(u)}function fe(u,d){for(var _=0;0<d--;)_|=me(u,128)<<d;return _}function ve(u,d){var _=fe(u,d);return he(u)?-_:_}function K(u,d,_,N){var I,D=0;for(t(u!=null),t(d!=null),t(4294967288>N),u.Sb=N,u.Ra=0,u.u=0,u.h=0,4<N&&(N=4),I=0;I<N;++I)D+=d[_+I]<<8*I;u.Ra=D,u.bb=N,u.oa=d,u.pa=_}function ae(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Qi-8>>>0,++u.bb,u.u-=8;G(u)&&(u.h=1,u.u=0)}function se(u,d){if(t(0<=d),!u.h&&d<=Mr){var _=T(u)&Is[d];return u.u+=d,ae(u),_}return u.h=1,u.u=0}function _e(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function E(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function T(u){return u.Ra>>>(u.u&Qi-1)>>>0}function G(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Qi}function ee(u,d){u.u=d,u.h=G(u)}function re(u){u.u>=Ea&&(t(u.u>=Ea),ae(u))}function pe(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function he(u){return fe(u,1)}function me(u,d){var _=u.Ca;0>u.b&&pe(u);var N=u.b,I=_*d>>>8,D=(u.I>>>N>I)+0;for(D?(_-=I,u.I-=I+1<<N>>>0):_=I+1,N=_,I=0;256<=N;)I+=8,N>>=8;return N=7^I+Jn[N],u.b-=N,u.Ca=(_<<N)-1,D}function Oe(u,d,_){u[d+0]=_>>24&255,u[d+1]=_>>16&255,u[d+2]=_>>8&255,u[d+3]=_>>0&255}function ke(u,d){return u[d+0]<<0|u[d+1]<<8}function Be(u,d){return ke(u,d)|u[d+2]<<16}function Ue(u,d){return ke(u,d)|ke(u,d+2)<<16}function Ze(u,d){var _=1<<d;return t(u!=null),t(0<d),u.X=s(_),u.X==null?0:(u.Mb=32-d,u.Xa=d,1)}function Se(u,d){t(u!=null),t(d!=null),t(u.Xa==d.Xa),r(d.X,0,u.X,0,1<<d.Xa)}function X(){this.X=[],this.Xa=this.Mb=0}function it(u,d,_,N){t(_!=null),t(N!=null);var I=_[0],D=N[0];return I==0&&(I=(u*D+d/2)/d),D==0&&(D=(d*I+u/2)/u),0>=I||0>=D?0:(_[0]=I,N[0]=D,1)}function Fe(u,d){return u+(1<<d)-1>>>d}function Te(u,d){return((4278255360&u)+(4278255360&d)>>>0&4278255360)+((16711935&u)+(16711935&d)>>>0&16711935)>>>0}function Pe(u,d){j[d]=function(_,N,I,D,B,$,W){var Y;for(Y=0;Y<B;++Y){var ue=j[u]($[W+Y-1],I,D+Y);$[W+Y]=Te(_[N+Y],ue)}}}function Ce(){this.ud=this.hd=this.jd=0}function $e(u,d){return((4278124286&(u^d))>>>1)+(u&d)>>>0}function tt(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function Qe(u,d){return tt(u+(u-d+.5>>1))}function lt(u,d,_){return Math.abs(d-_)-Math.abs(u-_)}function ot(u,d,_,N,I,D,B){for(N=D[B-1],_=0;_<I;++_)D[B+_]=N=Te(u[d+_],N)}function ft(u,d,_,N,I){var D;for(D=0;D<_;++D){var B=u[d+D],$=B>>8&255,W=16711935&(W=(W=16711935&B)+(($<<16)+$));N[I+D]=(4278255360&B)+W>>>0}}function kt(u,d){d.jd=u>>0&255,d.hd=u>>8&255,d.ud=u>>16&255}function ut(u,d,_,N,I,D){var B;for(B=0;B<N;++B){var $=d[_+B],W=$>>>8,Y=$,ue=255&(ue=(ue=$>>>16)+((u.jd<<24>>24)*(W<<24>>24)>>>5));Y=255&(Y=(Y=Y+((u.hd<<24>>24)*(W<<24>>24)>>>5))+((u.ud<<24>>24)*(ue<<24>>24)>>>5)),I[D+B]=(4278255360&$)+(ue<<16)+Y}}function Nt(u,d,_,N,I){j[d]=function(D,B,$,W,Y,ue,be,Ne,ge){for(W=be;W<Ne;++W)for(be=0;be<ge;++be)Y[ue++]=I($[N(D[B++])])},j[u]=function(D,B,$,W,Y,ue,be){var Ne=8>>D.b,ge=D.Ea,Re=D.K[0],Ee=D.w;if(8>Ne)for(D=(1<<D.b)-1,Ee=(1<<Ne)-1;B<$;++B){var ce,de=0;for(ce=0;ce<ge;++ce)ce&D||(de=N(W[Y++])),ue[be++]=I(Re[de&Ee]),de>>=Ne}else j["VP8LMapColor"+_](W,Y,Re,Ee,ue,be,B,$,ge)}}function We(u,d,_,N,I){for(_=d+_;d<_;){var D=u[d++];N[I++]=D>>16&255,N[I++]=D>>8&255,N[I++]=D>>0&255}}function Ht(u,d,_,N,I){for(_=d+_;d<_;){var D=u[d++];N[I++]=D>>16&255,N[I++]=D>>8&255,N[I++]=D>>0&255,N[I++]=D>>24&255}}function Pt(u,d,_,N,I){for(_=d+_;d<_;){var D=(B=u[d++])>>16&240|B>>12&15,B=B>>0&240|B>>28&15;N[I++]=D,N[I++]=B}}function Vn(u,d,_,N,I){for(_=d+_;d<_;){var D=(B=u[d++])>>16&248|B>>13&7,B=B>>5&224|B>>3&31;N[I++]=D,N[I++]=B}}function Ut(u,d,_,N,I){for(_=d+_;d<_;){var D=u[d++];N[I++]=D>>0&255,N[I++]=D>>8&255,N[I++]=D>>16&255}}function rn(u,d,_,N,I,D){if(D==0)for(_=d+_;d<_;)Oe(N,((D=u[d++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),I+=32;else r(N,I,u,d,_)}function fr(u,d){j[d][0]=j[u+"0"],j[d][1]=j[u+"1"],j[d][2]=j[u+"2"],j[d][3]=j[u+"3"],j[d][4]=j[u+"4"],j[d][5]=j[u+"5"],j[d][6]=j[u+"6"],j[d][7]=j[u+"7"],j[d][8]=j[u+"8"],j[d][9]=j[u+"9"],j[d][10]=j[u+"10"],j[d][11]=j[u+"11"],j[d][12]=j[u+"12"],j[d][13]=j[u+"13"],j[d][14]=j[u+"0"],j[d][15]=j[u+"0"]}function Dt(u){return u==wl||u==bl||u==Nl||u==i}function Ho(){this.eb=[],this.size=this.A=this.fb=0}function an(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Hr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ho,this.f.kb=new an,this.sd=null}function Li(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Bt(u,d){var _=u.T,N=d.ba.f.RGBA,I=N.eb,D=N.fb+u.ka*N.A,B=ar[d.ba.S],$=u.y,W=u.O,Y=u.f,ue=u.N,be=u.ea,Ne=u.W,ge=d.cc,Re=d.dc,Ee=d.Mc,ce=d.Nc,de=u.ka,Ie=u.ka+u.T,De=u.U,Me=De+1>>1;for(de==0?B($,W,null,null,Y,ue,be,Ne,Y,ue,be,Ne,I,D,null,null,De):(B(d.ec,d.fc,$,W,ge,Re,Ee,ce,Y,ue,be,Ne,I,D-N.A,I,D,De),++_);de+2<Ie;de+=2)ge=Y,Re=ue,Ee=be,ce=Ne,ue+=u.Rc,Ne+=u.Rc,D+=2*N.A,B($,(W+=2*u.fa)-u.fa,$,W,ge,Re,Ee,ce,Y,ue,be,Ne,I,D-N.A,I,D,De);return W+=u.fa,u.j+Ie<u.o?(r(d.ec,d.fc,$,W,De),r(d.cc,d.dc,Y,ue,Me),r(d.Mc,d.Nc,be,Ne,Me),_--):1&Ie||B($,W,null,null,Y,ue,be,Ne,Y,ue,be,Ne,I,D+N.A,null,null,De),_}function Wo(u,d,_){var N=u.F,I=[u.J];if(N!=null){var D=u.U,B=d.ba.S,$=B==Ra||B==Nl;d=d.ba.f.RGBA;var W=[0],Y=u.ka;W[0]=u.T,u.Kb&&(Y==0?--W[0]:(--Y,I[0]-=u.width),u.j+u.ka+u.T==u.o&&(W[0]=u.o-u.j-Y));var ue=d.eb;Y=d.fb+Y*d.A,u=Zt(N,I[0],u.width,D,W,ue,Y+($?0:3),d.A),t(_==W),u&&Dt(B)&&Hn(ue,Y,$,D,W,d.A)}return 0}function Dn(u){var d=u.ma,_=d.ba.S,N=11>_,I=_==Ia||_==Ma||_==Ra||_==xl||_==12||Dt(_);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!Ca(d.Oa,u,I?11:12))return 0;if(I&&Dt(_)&&qe(),u.da)alert("todo:use_scaling");else{if(N){if(d.Ib=vt,u.Kb){if(_=u.U+1>>1,d.memory=s(u.U+2*_),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+u.U,d.Mc=d.cc,d.Nc=d.dc+_,d.Ib=Bt,qe()}}else alert("todo:EmitYUV");I&&(d.Jb=Wo,N&&ye())}if(N&&!Y0){for(u=0;256>u;++u)S5[u]=89858*(u-128)+Oc>>Tc,P5[u]=-22014*(u-128)+Oc,k5[u]=-45773*(u-128),L5[u]=113618*(u-128)+Oc>>Tc;for(u=Su;u<Df;++u)d=76283*(u-16)+Oc>>Tc,A5[u-Su]=ln(d,255),j5[u-Su]=ln(d+8>>4,15);Y0=1}return 1}function ki(u){var d=u.ma,_=u.U,N=u.T;return t(!(1&u.ka)),0>=_||0>=N?0:(_=d.Ib(u,d),d.Jb!=null&&d.Jb(u,d,_),d.Dc+=_,1)}function Wr(u){u.ma.memory=null}function ct(u,d,_,N){return se(u,8)!=47?0:(d[0]=se(u,14)+1,_[0]=se(u,14)+1,N[0]=se(u,1),se(u,3)!=0?0:!u.h)}function ci(u,d){if(4>u)return u+1;var _=u-2>>1;return(2+(1&u)<<_)+se(d,_)+1}function Pi(u,d){return 120<d?d-120:1<=(_=((_=oe[d-1])>>4)*u+(8-(15&_)))?_:1;var _}function dr(u,d,_){var N=T(_),I=u[d+=255&N].g-8;return 0<I&&(ee(_,_.u+8),N=T(_),d+=u[d].value,d+=N&(1<<I)-1),ee(_,_.u+u[d].g),u[d].value}function $t(u,d,_){return _.g+=u.g,_.value+=u.value<<d>>>0,t(8>=_.g),u.g}function Ge(u,d,_){var N=u.xc;return t((d=N==0?0:u.vc[u.md*(_>>N)+(d>>N)])<u.Wb),u.Ya[d]}function pr(u,d,_,N){var I=u.ab,D=u.c*d,B=u.C;d=B+d;var $=_,W=N;for(N=u.Ta,_=u.Ua;0<I--;){var Y=u.gc[I],ue=B,be=d,Ne=$,ge=W,Re=(W=N,$=_,Y.Ea);switch(t(ue<be),t(be<=Y.nc),Y.hc){case 2:vl(Ne,ge,(be-ue)*Re,W,$);break;case 0:var Ee=ue,ce=be,de=W,Ie=$,De=(Je=Y).Ea;Ee==0&&(xu(Ne,ge,null,null,1,de,Ie),ot(Ne,ge+1,0,0,De-1,de,Ie+1),ge+=De,Ie+=De,++Ee);for(var Me=1<<Je.b,Xe=Me-1,Ve=Fe(De,Je.b),ht=Je.K,Je=Je.w+(Ee>>Je.b)*Ve;Ee<ce;){var qt=ht,Kt=Je,Ft=1;for(Rr(Ne,ge,de,Ie-De,1,de,Ie);Ft<De;){var Mt=(Ft&~Xe)+Me;Mt>De&&(Mt=De),(0,eo[qt[Kt++]>>8&15])(Ne,ge+ +Ft,de,Ie+Ft-De,Mt-Ft,de,Ie+Ft),Ft=Mt}ge+=De,Ie+=De,++Ee&Xe||(Je+=Ve)}be!=Y.nc&&r(W,$-Re,W,$+(be-ue-1)*Re,Re);break;case 1:for(Re=Ne,ce=ge,De=(Ne=Y.Ea)-(Ie=Ne&~(de=(ge=1<<Y.b)-1)),Ee=Fe(Ne,Y.b),Me=Y.K,Y=Y.w+(ue>>Y.b)*Ee;ue<be;){for(Xe=Me,Ve=Y,ht=new Ce,Je=ce+Ie,qt=ce+Ne;ce<Je;)kt(Xe[Ve++],ht),to(ht,Re,ce,ge,W,$),ce+=ge,$+=ge;ce<qt&&(kt(Xe[Ve++],ht),to(ht,Re,ce,De,W,$),ce+=De,$+=De),++ue&de||(Y+=Ee)}break;case 3:if(Ne==W&&ge==$&&0<Y.b){for(ce=W,Ne=Re=$+(be-ue)*Re-(Ie=(be-ue)*Fe(Y.Ea,Y.b)),ge=W,de=$,Ee=[],Ie=(De=Ie)-1;0<=Ie;--Ie)Ee[Ie]=ge[de+Ie];for(Ie=De-1;0<=Ie;--Ie)ce[Ne+Ie]=Ee[Ie];qn(Y,ue,be,W,Re,W,$)}else qn(Y,ue,be,Ne,ge,W,$)}$=N,W=_}W!=_&&r(N,_,$,W,D)}function Zo(u,d){var _=u.V,N=u.Ba+u.c*u.C,I=d-u.C;if(t(d<=u.l.o),t(16>=I),0<I){var D=u.l,B=u.Ta,$=u.Ua,W=D.width;if(pr(u,I,_,N),I=$=[$],t((_=u.C)<(N=d)),t(D.v<D.va),N>D.o&&(N=D.o),_<D.j){var Y=D.j-_;_=D.j,I[0]+=Y*W}if(_>=N?_=0:(I[0]+=4*D.v,D.ka=_-D.j,D.U=D.va-D.v,D.T=N-_,_=1),_){if($=$[0],11>(_=u.ca).S){var ue=_.f.RGBA,be=(N=_.S,I=D.U,D=D.T,Y=ue.eb,ue.A),Ne=D;for(ue=ue.fb+u.Ma*ue.A;0<Ne--;){var ge=B,Re=$,Ee=I,ce=Y,de=ue;switch(N){case _l:Un(ge,Re,Ee,ce,de);break;case Ia:$n(ge,Re,Ee,ce,de);break;case wl:$n(ge,Re,Ee,ce,de),Hn(ce,de,0,Ee,1,0);break;case wu:Yr(ge,Re,Ee,ce,de);break;case Ma:rn(ge,Re,Ee,ce,de,1);break;case bl:rn(ge,Re,Ee,ce,de,1),Hn(ce,de,0,Ee,1,0);break;case Ra:rn(ge,Re,Ee,ce,de,0);break;case Nl:rn(ge,Re,Ee,ce,de,0),Hn(ce,de,1,Ee,1,0);break;case xl:pi(ge,Re,Ee,ce,de);break;case i:pi(ge,Re,Ee,ce,de),Wt(ce,de,Ee,1,0);break;case jc:gr(ge,Re,Ee,ce,de);break;default:t(0)}$+=W,ue+=be}u.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=_.height)}}u.C=d,t(u.C<=u.i)}function Ai(u){var d;if(0<u.ua)return 0;for(d=0;d<u.Wb;++d){var _=u.Ya[d].G,N=u.Ya[d].H;if(0<_[1][N[1]+0].g||0<_[2][N[2]+0].g||0<_[3][N[3]+0].g)return 0}return 1}function Zr(u,d,_,N,I,D){if(u.Z!=0){var B=u.qd,$=u.rd;for(t(Gt[u.Z]!=null);d<_;++d)Gt[u.Z](B,$,N,I,N,I,D),B=N,$=I,I+=D;u.qd=B,u.rd=$}}function jr(u,d){var _=u.l.ma,N=_.Z==0||_.Z==1?u.l.j:u.C;if(N=u.C<N?N:u.C,t(d<=u.l.o),d>N){var I=u.l.width,D=_.ca,B=_.tb+I*N,$=u.V,W=u.Ba+u.c*N,Y=u.gc;t(u.ab==1),t(Y[0].hc==3),Jr(Y[0],N,d,$,W,D,B),Zr(_,N,d,D,B,I)}u.C=u.Ma=d}function Vr(u,d,_,N,I,D,B){var $=u.$/N,W=u.$%N,Y=u.m,ue=u.s,be=_+u.$,Ne=be;I=_+N*I;var ge=_+N*D,Re=280+ue.ua,Ee=u.Pb?$:16777216,ce=0<ue.ua?ue.Wa:null,de=ue.wc,Ie=be<ge?Ge(ue,W,$):null;t(u.C<D),t(ge<=I);var De=!1;e:for(;;){for(;De||be<ge;){var Me=0;if($>=Ee){var Xe=be-_;t((Ee=u).Pb),Ee.wd=Ee.m,Ee.xd=Xe,0<Ee.s.ua&&Se(Ee.s.Wa,Ee.s.vb),Ee=$+Le}if(W&de||(Ie=Ge(ue,W,$)),t(Ie!=null),Ie.Qb&&(d[be]=Ie.qb,De=!0),!De)if(re(Y),Ie.jc){Me=Y,Xe=d;var Ve=be,ht=Ie.pd[T(Me)&Nn-1];t(Ie.jc),256>ht.g?(ee(Me,Me.u+ht.g),Xe[Ve]=ht.value,Me=0):(ee(Me,Me.u+ht.g-256),t(256<=ht.value),Me=ht.value),Me==0&&(De=!0)}else Me=dr(Ie.G[0],Ie.H[0],Y);if(Y.h)break;if(De||256>Me){if(!De)if(Ie.nd)d[be]=(Ie.qb|Me<<8)>>>0;else{if(re(Y),De=dr(Ie.G[1],Ie.H[1],Y),re(Y),Xe=dr(Ie.G[2],Ie.H[2],Y),Ve=dr(Ie.G[3],Ie.H[3],Y),Y.h)break;d[be]=(Ve<<24|De<<16|Me<<8|Xe)>>>0}if(De=!1,++be,++W>=N&&(W=0,++$,B!=null&&$<=D&&!($%16)&&B(u,$),ce!=null))for(;Ne<be;)Me=d[Ne++],ce.X[(506832829*Me&4294967295)>>>ce.Mb]=Me}else if(280>Me){if(Me=ci(Me-256,Y),Xe=dr(Ie.G[4],Ie.H[4],Y),re(Y),Xe=Pi(N,Xe=ci(Xe,Y)),Y.h)break;if(be-_<Xe||I-be<Me)break e;for(Ve=0;Ve<Me;++Ve)d[be+Ve]=d[be+Ve-Xe];for(be+=Me,W+=Me;W>=N;)W-=N,++$,B!=null&&$<=D&&!($%16)&&B(u,$);if(t(be<=I),W&de&&(Ie=Ge(ue,W,$)),ce!=null)for(;Ne<be;)Me=d[Ne++],ce.X[(506832829*Me&4294967295)>>>ce.Mb]=Me}else{if(!(Me<Re))break e;for(De=Me-280,t(ce!=null);Ne<be;)Me=d[Ne++],ce.X[(506832829*Me&4294967295)>>>ce.Mb]=Me;Me=be,t(!(De>>>(Xe=ce).Xa)),d[Me]=Xe.X[De],De=!0}De||t(Y.h==G(Y))}if(u.Pb&&Y.h&&be<I)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&Se(u.s.vb,u.s.Wa);else{if(Y.h)break e;B!=null&&B(u,$>D?D:$),u.a=0,u.$=be-_}return 1}return u.a=3,0}function rr(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var d=u.Wa;d!=null&&(d.X=null),u.vb=null,t(u!=null)}function Cr(){var u=new Pa;return u==null?null:(u.a=0,u.xb=bu,fr("Predictor","VP8LPredictors"),fr("Predictor","VP8LPredictors_C"),fr("PredictorAdd","VP8LPredictorsAdd"),fr("PredictorAdd","VP8LPredictorsAdd_C"),vl=ft,to=ut,Un=We,$n=Ht,pi=Pt,gr=Vn,Yr=Ut,j.VP8LMapColor32b=Ms,j.VP8LMapColor8b=as,u)}function ji(u,d,_,N,I){var D=1,B=[u],$=[d],W=N.m,Y=N.s,ue=null,be=0;e:for(;;){if(_)for(;D&&se(W,1);){var Ne=B,ge=$,Re=N,Ee=1,ce=Re.m,de=Re.gc[Re.ab],Ie=se(ce,2);if(Re.Oc&1<<Ie)D=0;else{switch(Re.Oc|=1<<Ie,de.hc=Ie,de.Ea=Ne[0],de.nc=ge[0],de.K=[null],++Re.ab,t(4>=Re.ab),Ie){case 0:case 1:de.b=se(ce,3)+2,Ee=ji(Fe(de.Ea,de.b),Fe(de.nc,de.b),0,Re,de.K),de.K=de.K[0];break;case 3:var De,Me=se(ce,8)+1,Xe=16<Me?0:4<Me?1:2<Me?2:3;if(Ne[0]=Fe(de.Ea,Xe),de.b=Xe,De=Ee=ji(Me,1,0,Re,de.K)){var Ve,ht=Me,Je=de,qt=1<<(8>>Je.b),Kt=s(qt);if(Kt==null)De=0;else{var Ft=Je.K[0],Mt=Je.w;for(Kt[0]=Je.K[0][0],Ve=1;Ve<1*ht;++Ve)Kt[Ve]=Te(Ft[Mt+Ve],Kt[Ve-1]);for(;Ve<4*qt;++Ve)Kt[Ve]=0;Je.K[0]=null,Je.K[0]=Kt,De=1}}Ee=De;break;case 2:break;default:t(0)}D=Ee}}if(B=B[0],$=$[0],D&&se(W,1)&&!(D=1<=(be=se(W,4))&&11>=be)){N.a=3;break e}var tn;if(tn=D)t:{var Qt,St,Rn,ei=N,Fn=B,ti=$,Jt=be,gi=_,vi=ei.m,Xn=ei.s,lr=[null],Dr=1,Di=0,Oo=xe[Jt];n:for(;;){if(gi&&se(vi,1)){var Qn=se(vi,3)+2,ls=Fe(Fn,Qn),Fa=Fe(ti,Qn),Ll=ls*Fa;if(!ji(ls,Fa,0,ei,lr))break n;for(lr=lr[0],Xn.xc=Qn,Qt=0;Qt<Ll;++Qt){var qs=lr[Qt]>>8&65535;lr[Qt]=qs,qs>=Dr&&(Dr=qs+1)}}if(vi.h)break n;for(St=0;5>St;++St){var Sn=g[St];!St&&0<Jt&&(Sn+=1<<Jt),Di<Sn&&(Di=Sn)}var Bf=l(Dr*Oo,R),em=Dr,tm=l(em,Q);if(tm==null)var Mc=null;else t(65536>=em),Mc=tm;var Lu=s(Di);if(Mc==null||Lu==null||Bf==null){ei.a=1;break n}var Rc=Bf;for(Qt=Rn=0;Qt<Dr;++Qt){var ro=Mc[Qt],kl=ro.G,Pl=ro.H,nm=0,Fc=1,rm=0;for(St=0;5>St;++St){Sn=g[St],kl[St]=Rc,Pl[St]=Rn,!St&&0<Jt&&(Sn+=1<<Jt);i:{var zc,qf=Sn,Dc=ei,ku=Lu,T5=Rc,O5=Rn,Uf=0,Us=Dc.m,I5=se(Us,1);if(o(ku,0,0,qf),I5){var M5=se(Us,1)+1,R5=se(Us,1),im=se(Us,R5==0?1:8);ku[im]=1,M5==2&&(ku[im=se(Us,8)]=1);var Bc=1}else{var om=s(19),sm=se(Us,4)+4;if(19<sm){Dc.a=3;var qc=0;break i}for(zc=0;zc<sm;++zc)om[q[zc]]=se(Us,3);var $f=void 0,Pu=void 0,am=Dc,F5=om,Uc=qf,lm=ku,Hf=0,$s=am.m,um=8,cm=l(128,R);r:for(;O(cm,0,7,F5,19);){if(se($s,1)){var z5=2+2*se($s,3);if(($f=2+se($s,z5))>Uc)break r}else $f=Uc;for(Pu=0;Pu<Uc&&$f--;){re($s);var hm=cm[0+(127&T($s))];ee($s,$s.u+hm.g);var Al=hm.value;if(16>Al)lm[Pu++]=Al,Al!=0&&(um=Al);else{var D5=Al==16,fm=Al-16,B5=f[fm],dm=se($s,a[fm])+B5;if(Pu+dm>Uc)break r;for(var q5=D5?um:0;0<dm--;)lm[Pu++]=q5}}Hf=1;break r}Hf||(am.a=3),Bc=Hf}(Bc=Bc&&!Us.h)&&(Uf=O(T5,O5,8,ku,qf)),Bc&&Uf!=0?qc=Uf:(Dc.a=3,qc=0)}if(qc==0)break n;if(Fc&&k[St]==1&&(Fc=Rc[Rn].g==0),nm+=Rc[Rn].g,Rn+=qc,3>=St){var Au,Wf=Lu[0];for(Au=1;Au<Sn;++Au)Lu[Au]>Wf&&(Wf=Lu[Au]);rm+=Wf}}if(ro.nd=Fc,ro.Qb=0,Fc&&(ro.qb=(kl[3][Pl[3]+0].value<<24|kl[1][Pl[1]+0].value<<16|kl[2][Pl[2]+0].value)>>>0,nm==0&&256>kl[0][Pl[0]+0].value&&(ro.Qb=1,ro.qb+=kl[0][Pl[0]+0].value<<8)),ro.jc=!ro.Qb&&6>rm,ro.jc){var $c,us=ro;for($c=0;$c<Nn;++$c){var Hs=$c,Ws=us.pd[Hs],Hc=us.G[0][us.H[0]+Hs];256<=Hc.value?(Ws.g=Hc.g+256,Ws.value=Hc.value):(Ws.g=0,Ws.value=0,Hs>>=$t(Hc,8,Ws),Hs>>=$t(us.G[1][us.H[1]+Hs],16,Ws),Hs>>=$t(us.G[2][us.H[2]+Hs],0,Ws),$t(us.G[3][us.H[3]+Hs],24,Ws))}}}Xn.vc=lr,Xn.Wb=Dr,Xn.Ya=Mc,Xn.yc=Bf,tn=1;break t}tn=0}if(!(D=tn)){N.a=3;break e}if(0<be){if(Y.ua=1<<be,!Ze(Y.Wa,be)){N.a=1,D=0;break e}}else Y.ua=0;var Zf=N,pm=B,U5=$,Vf=Zf.s,Gf=Vf.xc;if(Zf.c=pm,Zf.i=U5,Vf.md=Fe(pm,Gf),Vf.wc=Gf==0?-1:(1<<Gf)-1,_){N.xb=Rf;break e}if((ue=s(B*$))==null){N.a=1,D=0;break e}D=(D=Vr(N,ue,0,B,$,$,null))&&!W.h;break e}return D?(I!=null?I[0]=ue:(t(ue==null),t(_)),N.$=0,_||rr(Y)):rr(Y),D}function Vo(u,d){var _=u.c*u.i,N=_+d+16*d;return t(u.c<=d),u.V=s(N),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+_+d,1)}function ws(u,d){var _=u.C,N=d-_,I=u.V,D=u.Ba+u.c*_;for(t(d<=u.l.o);0<N;){var B=16<N?16:N,$=u.l.ma,W=u.l.width,Y=W*B,ue=$.ca,be=$.tb+W*_,Ne=u.Ta,ge=u.Ua;pr(u,B,I,D),vn(Ne,ge,ue,be,Y),Zr($,_,_+B,ue,be,W),N-=B,I+=B*u.c,_+=B}t(_==d),u.C=u.Ma=d}function bs(){this.ub=this.yd=this.td=this.Rb=0}function Go(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ns(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ko(){this.Yb=function(){var u=[];return function d(_,N,I){for(var D=I[N],B=0;B<D&&(_.push(I.length>N+1?[]:0),!(I.length<N+1));B++)d(_[B],N+1,I)}(u,0,[3,11]),u}()}function gu(){this.jb=s(3),this.Wc=c([4,8],Ko),this.Xc=c([4,17],Ko)}function vu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ss(){this.ld=this.La=this.dd=this.tc=0}function al(){this.Na=this.la=0}function yu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Jo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Yo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ss),this.Y=0,this.ya=Array(new Jo),this.aa=0,this.l=new Ci}function va(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ll(){this.cb=this.a=0,this.sc="",this.m=new _e,this.Od=new bs,this.Kc=new Go,this.ed=new vu,this.Qa=new Ns,this.Ic=this.$c=this.Aa=0,this.D=new Yo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,_e),this.ia=0,this.pb=l(4,yu),this.Pa=new gu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new va),this.Hd=0,this.rb=Array(new al),this.sb=0,this.wa=Array(new Ss),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Jo),this.L=this.aa=0,this.gd=c([4,2],Ss),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ci(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ot(){var u=new ll;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,at||(at=Vi)),u}function xt(u,d,_){return u.a==0&&(u.a=d,u.sc=_,u.cb=0),0}function Xo(u,d,_){return 3<=_&&u[d+0]==157&&u[d+1]==1&&u[d+2]==42}function Zi(u,d){if(u==null)return 0;if(u.a=0,u.sc="OK",d==null)return xt(u,2,"null VP8Io passed to VP8GetHeaders()");var _=d.data,N=d.w,I=d.ha;if(4>I)return xt(u,7,"Truncated header.");var D=_[N+0]|_[N+1]<<8|_[N+2]<<16,B=u.Od;if(B.Rb=!(1&D),B.td=D>>1&7,B.yd=D>>4&1,B.ub=D>>5,3<B.td)return xt(u,3,"Incorrect keyframe parameters.");if(!B.yd)return xt(u,4,"Frame not displayable.");N+=3,I-=3;var $=u.Kc;if(B.Rb){if(7>I)return xt(u,7,"cannot parse picture header");if(!Xo(_,N,I))return xt(u,3,"Bad code word");$.c=16383&(_[N+4]<<8|_[N+3]),$.Td=_[N+4]>>6,$.i=16383&(_[N+6]<<8|_[N+5]),$.Ud=_[N+6]>>6,N+=7,I-=7,u.za=$.c+15>>4,u.Ub=$.i+15>>4,d.width=$.c,d.height=$.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,o((D=u.Pa).jb,0,255,D.jb.length),t((D=u.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,o(D.Zb,0,0,D.Zb.length),o(D.Lb,0,0,D.Lb)}if(B.ub>I)return xt(u,7,"bad partition length");we(D=u.m,_,N,B.ub),N+=B.ub,I-=B.ub,B.Rb&&($.Ld=he(D),$.Kd=he(D)),$=u.Qa;var W,Y=u.Pa;if(t(D!=null),t($!=null),$.Cb=he(D),$.Cb){if($.Bb=he(D),he(D)){for($.Fb=he(D),W=0;4>W;++W)$.Zb[W]=he(D)?ve(D,7):0;for(W=0;4>W;++W)$.Lb[W]=he(D)?ve(D,6):0}if($.Bb)for(W=0;3>W;++W)Y.jb[W]=he(D)?fe(D,8):255}else $.Bb=0;if(D.Ka)return xt(u,3,"cannot parse segment header");if(($=u.ed).zd=he(D),$.Tb=fe(D,6),$.wb=fe(D,3),$.Pc=he(D),$.Pc&&he(D)){for(Y=0;4>Y;++Y)he(D)&&($.vd[Y]=ve(D,6));for(Y=0;4>Y;++Y)he(D)&&($.od[Y]=ve(D,6))}if(u.L=$.Tb==0?0:$.zd?1:2,D.Ka)return xt(u,3,"cannot parse filter header");var ue=I;if(I=W=N,N=W+ue,$=ue,u.Xb=(1<<fe(u.m,2))-1,ue<3*(Y=u.Xb))_=7;else{for(W+=3*Y,$-=3*Y,ue=0;ue<Y;++ue){var be=_[I+0]|_[I+1]<<8|_[I+2]<<16;be>$&&(be=$),we(u.Jc[+ue],_,W,be),W+=be,$-=be,I+=3}we(u.Jc[+Y],_,W,$),_=W<N?0:5}if(_!=0)return xt(u,_,"cannot parse partitions");for(_=fe(W=u.m,7),I=he(W)?ve(W,4):0,N=he(W)?ve(W,4):0,$=he(W)?ve(W,4):0,Y=he(W)?ve(W,4):0,W=he(W)?ve(W,4):0,ue=u.Qa,be=0;4>be;++be){if(ue.Cb){var Ne=ue.Zb[be];ue.Fb||(Ne+=_)}else{if(0<be){u.pb[be]=u.pb[0];continue}Ne=_}var ge=u.pb[be];ge.Sc[0]=ze[ln(Ne+I,127)],ge.Sc[1]=Ye[ln(Ne+0,127)],ge.Eb[0]=2*ze[ln(Ne+N,127)],ge.Eb[1]=101581*Ye[ln(Ne+$,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=ze[ln(Ne+Y,117)],ge.Qc[1]=Ye[ln(Ne+W,127)],ge.lc=Ne+W}if(!B.Rb)return xt(u,4,"Not a key frame.");for(he(D),B=u.Pa,_=0;4>_;++_){for(I=0;8>I;++I)for(N=0;3>N;++N)for($=0;11>$;++$)Y=me(D,Bs[_][I][N][$])?fe(D,8):Qr[_][I][N][$],B.Wc[_][I].Yb[N][$]=Y;for(I=0;17>I;++I)B.Xc[_][I]=B.Wc[_][Mf[I]]}return u.kc=he(D),u.kc&&(u.Bd=fe(D,8)),u.cb=1}function Vi(u,d,_,N,I,D,B){var $=d[I].Yb[_];for(_=0;16>I;++I){if(!me(u,$[_+0]))return I;for(;!me(u,$[_+1]);)if($=d[++I].Yb[0],_=0,I==16)return 16;var W=d[I+1].Yb;if(me(u,$[_+2])){var Y=u,ue=0;if(me(Y,(Ne=$)[(be=_)+3]))if(me(Y,Ne[be+6])){for($=0,be=2*(ue=me(Y,Ne[be+8]))+(Ne=me(Y,Ne[be+9+ue])),ue=0,Ne=At[be];Ne[$];++$)ue+=ue+me(Y,Ne[$]);ue+=3+(8<<be)}else me(Y,Ne[be+7])?(ue=7+2*me(Y,165),ue+=me(Y,145)):ue=5+me(Y,159);else ue=me(Y,Ne[be+4])?3+me(Y,Ne[be+5]):2;$=W[2]}else ue=1,$=W[1];W=B+sr[I],0>(Y=u).b&&pe(Y);var be,Ne=Y.b,ge=(be=Y.Ca>>1)-(Y.I>>Ne)>>31;--Y.b,Y.Ca+=ge,Y.Ca|=1,Y.I-=(be+1&ge)<<Ne,D[W]=((ue^ge)-ge)*N[(0<I)+0]}return 16}function Qo(u){var d=u.rb[u.sb-1];d.la=0,d.Na=0,o(u.zc,0,0,u.zc.length),u.ja=0}function wt(u,d){if(u==null)return 0;if(d==null)return xt(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!Zi(u,d))return 0;if(t(u.cb),d.ac==null||d.ac(d)){d.ob&&(u.L=0);var _=Ic[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=d.v-_>>4,u.zb=d.j-_>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=d.o+15+_>>4,u.Hb=d.va+15+_>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var N=u.ed;for(_=0;4>_;++_){var I;if(u.Qa.Cb){var D=u.Qa.Lb[_];u.Qa.Fb||(D+=N.Tb)}else D=N.Tb;for(I=0;1>=I;++I){var B=u.gd[_][I],$=D;if(N.Pc&&($+=N.vd[0],I&&($+=N.od[0])),0<($=0>$?0:63<$?63:$)){var W=$;0<N.wb&&(W=4<N.wb?W>>2:W>>1)>9-N.wb&&(W=9-N.wb),1>W&&(W=1),B.dd=W,B.tc=2*$+W,B.ld=40<=$?2:15<=$?1:0}else B.tc=0;B.La=I}}}_=0}else xt(u,6,"Frame setup failed"),_=u.a;if(_=_==0){if(_){u.$c=0,0<u.Aa||(u.Ic=E5);e:{_=u.Ic,N=4*(W=u.za);var Y=32*W,ue=W+1,be=0<u.L?W*(0<u.Aa?2:1):0,Ne=(u.Aa==2?2:1)*W;if((B=N+832+(I=3*(16*_+Ic[u.L])/2*Y)+(D=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=B)_=0;else{if(B>u.Vb){if(u.Vb=0,u.Ec=s(B),u.Fc=0,u.Ec==null){_=xt(u,1,"no memory during frame initialization.");break e}u.Vb=B}B=u.Ec,$=u.Fc,u.Ac=B,u.Bc=$,$+=N,u.Gd=l(Y,va),u.Hd=0,u.rb=l(ue+1,al),u.sb=1,u.wa=be?l(be,Ss):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=W),t(!0),u.oc=B,u.pc=$,$+=832,u.ya=l(Ne,Jo),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=W),u.R=16*W,u.B=8*W,W=(Y=Ic[u.L])*u.R,Y=Y/2*u.B,u.sa=B,u.ta=$+W,u.qa=u.sa,u.ra=u.ta+16*_*u.R+Y,u.Ha=u.qa,u.Ia=u.ra+8*_*u.B+Y,u.$c=0,$+=I,u.mb=D?B:null,u.nb=D?$:null,t($+D<=u.Fc+u.Vb),Qo(u),o(u.Ac,u.Bc,0,N),_=1}}if(_){if(d.ka=0,d.y=u.sa,d.O=u.ta,d.f=u.qa,d.N=u.ra,d.ea=u.Ha,d.Vd=u.Ia,d.fa=u.R,d.Rc=u.B,d.F=null,d.J=0,!yl){for(_=-255;255>=_;++_)Vt[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)Ri[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)zs[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)Fi[255+_]=0>_?0:255<_?255:_;yl=1}ko=es,Oi=Ls,Po=Ei,or=dn,Fr=Ti,gn=ul,Rs=Na,Ta=No,Oa=Sa,Yn=La,Ii=_u,Ao=Cs,Mi=mr,Fs=ml,jo=dl,Co=wn,no=Tr,Xr=pl,mi[0]=Ct,mi[1]=ya,mi[2]=yt,mi[3]=Gr,mi[4]=xa,mi[5]=xo,mi[6]=As,mi[7]=ns,mi[8]=wa,mi[9]=Ji,To[0]=ks,To[1]=_a,To[2]=hi,To[3]=Ki,To[4]=An,To[5]=cl,To[6]=Ps,zi[0]=Yi,zi[1]=ts,zi[2]=rs,zi[3]=mn,zi[4]=is,zi[5]=hl,zi[6]=js,_=1}else _=0}_&&(_=function(ge,Re){for(ge.M=0;ge.M<ge.Va;++ge.M){var Ee,ce=ge.Jc[ge.M&ge.Xb],de=ge.m,Ie=ge;for(Ee=0;Ee<Ie.za;++Ee){var De=de,Me=Ie,Xe=Me.Ac,Ve=Me.Bc+4*Ee,ht=Me.zc,Je=Me.ya[Me.aa+Ee];if(Me.Qa.Bb?Je.$b=me(De,Me.Pa.jb[0])?2+me(De,Me.Pa.jb[2]):me(De,Me.Pa.jb[1]):Je.$b=0,Me.kc&&(Je.Ad=me(De,Me.Bd)),Je.Za=!me(De,145)+0,Je.Za){var qt=Je.Ob,Kt=0;for(Me=0;4>Me;++Me){var Ft,Mt=ht[0+Me];for(Ft=0;4>Ft;++Ft){Mt=yr[Xe[Ve+Ft]][Mt];for(var tn=Cn[me(De,Mt[0])];0<tn;)tn=Cn[2*tn+me(De,Mt[tn])];Mt=-tn,Xe[Ve+Ft]=Mt}r(qt,Kt,Xe,Ve,4),Kt+=4,ht[0+Me]=Mt}}else Mt=me(De,156)?me(De,128)?1:3:me(De,163)?2:0,Je.Ob[0]=Mt,o(Xe,Ve,Mt,4),o(ht,0,Mt,4);Je.Dd=me(De,142)?me(De,114)?me(De,183)?1:3:2:0}if(Ie.m.Ka)return xt(ge,7,"Premature end-of-partition0 encountered.");for(;ge.ja<ge.za;++ge.ja){if(Ie=ce,De=(de=ge).rb[de.sb-1],Xe=de.rb[de.sb+de.ja],Ee=de.ya[de.aa+de.ja],Ve=de.kc?Ee.Ad:0)De.la=Xe.la=0,Ee.Za||(De.Na=Xe.Na=0),Ee.Hc=0,Ee.Gc=0,Ee.ia=0;else{var Qt,St;if(De=Xe,Xe=Ie,Ve=de.Pa.Xc,ht=de.ya[de.aa+de.ja],Je=de.pb[ht.$b],Me=ht.ad,qt=0,Kt=de.rb[de.sb-1],Mt=Ft=0,o(Me,qt,0,384),ht.Za)var Rn=0,ei=Ve[3];else{tn=s(16);var Fn=De.Na+Kt.Na;if(Fn=at(Xe,Ve[1],Fn,Je.Eb,0,tn,0),De.Na=Kt.Na=(0<Fn)+0,1<Fn)ko(tn,0,Me,qt);else{var ti=tn[0]+3>>3;for(tn=0;256>tn;tn+=16)Me[qt+tn]=ti}Rn=1,ei=Ve[0]}var Jt=15&De.la,gi=15&Kt.la;for(tn=0;4>tn;++tn){var vi=1&gi;for(ti=St=0;4>ti;++ti)Jt=Jt>>1|(vi=(Fn=at(Xe,ei,Fn=vi+(1&Jt),Je.Sc,Rn,Me,qt))>Rn)<<7,St=St<<2|(3<Fn?3:1<Fn?2:Me[qt+0]!=0),qt+=16;Jt>>=4,gi=gi>>1|vi<<7,Ft=(Ft<<8|St)>>>0}for(ei=Jt,Rn=gi>>4,Qt=0;4>Qt;Qt+=2){for(St=0,Jt=De.la>>4+Qt,gi=Kt.la>>4+Qt,tn=0;2>tn;++tn){for(vi=1&gi,ti=0;2>ti;++ti)Fn=vi+(1&Jt),Jt=Jt>>1|(vi=0<(Fn=at(Xe,Ve[2],Fn,Je.Qc,0,Me,qt)))<<3,St=St<<2|(3<Fn?3:1<Fn?2:Me[qt+0]!=0),qt+=16;Jt>>=2,gi=gi>>1|vi<<5}Mt|=St<<4*Qt,ei|=Jt<<4<<Qt,Rn|=(240&gi)<<Qt}De.la=ei,Kt.la=Rn,ht.Hc=Ft,ht.Gc=Mt,ht.ia=43690&Mt?0:Je.ia,Ve=!(Ft|Mt)}if(0<de.L&&(de.wa[de.Y+de.ja]=de.gd[Ee.$b][Ee.Za],de.wa[de.Y+de.ja].La|=!Ve),Ie.Ka)return xt(ge,7,"Premature end-of-file encountered.")}if(Qo(ge),de=Re,Ie=1,Ee=(ce=ge).D,De=0<ce.L&&ce.M>=ce.zb&&ce.M<=ce.Va,ce.Aa==0)e:{if(Ee.M=ce.M,Ee.uc=De,ja(ce,Ee),Ie=1,Ee=(St=ce.D).Nb,De=(Mt=Ic[ce.L])*ce.R,Xe=Mt/2*ce.B,tn=16*Ee*ce.R,ti=8*Ee*ce.B,Ve=ce.sa,ht=ce.ta-De+tn,Je=ce.qa,Me=ce.ra-Xe+ti,qt=ce.Ha,Kt=ce.Ia-Xe+ti,gi=(Jt=St.M)==0,Ft=Jt>=ce.Va-1,ce.Aa==2&&ja(ce,St),St.uc)for(vi=(Fn=ce).D.M,t(Fn.D.uc),St=Fn.yb;St<Fn.Hb;++St){Rn=St,ei=vi;var Xn=(lr=(Sn=Fn).D).Nb;Qt=Sn.R;var lr=lr.wa[lr.Y+Rn],Dr=Sn.sa,Di=Sn.ta+16*Xn*Qt+16*Rn,Oo=lr.dd,Qn=lr.tc;if(Qn!=0)if(t(3<=Qn),Sn.L==1)0<Rn&&Co(Dr,Di,Qt,Qn+4),lr.La&&Xr(Dr,Di,Qt,Qn),0<ei&&jo(Dr,Di,Qt,Qn+4),lr.La&&no(Dr,Di,Qt,Qn);else{var ls=Sn.B,Fa=Sn.qa,Ll=Sn.ra+8*Xn*ls+8*Rn,qs=Sn.Ha,Sn=Sn.Ia+8*Xn*ls+8*Rn;Xn=lr.ld,0<Rn&&(Ta(Dr,Di,Qt,Qn+4,Oo,Xn),Yn(Fa,Ll,qs,Sn,ls,Qn+4,Oo,Xn)),lr.La&&(Ao(Dr,Di,Qt,Qn,Oo,Xn),Fs(Fa,Ll,qs,Sn,ls,Qn,Oo,Xn)),0<ei&&(Rs(Dr,Di,Qt,Qn+4,Oo,Xn),Oa(Fa,Ll,qs,Sn,ls,Qn+4,Oo,Xn)),lr.La&&(Ii(Dr,Di,Qt,Qn,Oo,Xn),Mi(Fa,Ll,qs,Sn,ls,Qn,Oo,Xn))}}if(ce.ia&&alert("todo:DitherRow"),de.put!=null){if(St=16*Jt,Jt=16*(Jt+1),gi?(de.y=ce.sa,de.O=ce.ta+tn,de.f=ce.qa,de.N=ce.ra+ti,de.ea=ce.Ha,de.W=ce.Ia+ti):(St-=Mt,de.y=Ve,de.O=ht,de.f=Je,de.N=Me,de.ea=qt,de.W=Kt),Ft||(Jt-=Mt),Jt>de.o&&(Jt=de.o),de.F=null,de.J=null,ce.Fa!=null&&0<ce.Fa.length&&St<Jt&&(de.J=Aa(ce,de,St,Jt-St),de.F=ce.mb,de.F==null&&de.F.length==0)){Ie=xt(ce,3,"Could not decode alpha data.");break e}St<de.j&&(Mt=de.j-St,St=de.j,t(!(1&Mt)),de.O+=ce.R*Mt,de.N+=ce.B*(Mt>>1),de.W+=ce.B*(Mt>>1),de.F!=null&&(de.J+=de.width*Mt)),St<Jt&&(de.O+=de.v,de.N+=de.v>>1,de.W+=de.v>>1,de.F!=null&&(de.J+=de.v),de.ka=St-de.j,de.U=de.va-de.v,de.T=Jt-St,Ie=de.put(de))}Ee+1!=ce.Ic||Ft||(r(ce.sa,ce.ta-De,Ve,ht+16*ce.R,De),r(ce.qa,ce.ra-Xe,Je,Me+8*ce.B,Xe),r(ce.Ha,ce.Ia-Xe,qt,Kt+8*ce.B,Xe))}if(!Ie)return xt(ge,6,"Output aborted.")}return 1}(u,d)),d.bc!=null&&d.bc(d),_&=1}return _?(u.cb=0,_):0}function Rt(u,d,_,N,I){I=u[d+_+32*N]+(I>>3),u[d+_+32*N]=-256&I?0>I?0:255:I}function yo(u,d,_,N,I,D){Rt(u,d,0,_,N+I),Rt(u,d,1,_,N+D),Rt(u,d,2,_,N-D),Rt(u,d,3,_,N-I)}function Bn(u){return(20091*u>>16)+u}function Gn(u,d,_,N){var I,D=0,B=s(16);for(I=0;4>I;++I){var $=u[d+0]+u[d+8],W=u[d+0]-u[d+8],Y=(35468*u[d+4]>>16)-Bn(u[d+12]),ue=Bn(u[d+4])+(35468*u[d+12]>>16);B[D+0]=$+ue,B[D+1]=W+Y,B[D+2]=W-Y,B[D+3]=$-ue,D+=4,d++}for(I=D=0;4>I;++I)$=(u=B[D+0]+4)+B[D+8],W=u-B[D+8],Y=(35468*B[D+4]>>16)-Bn(B[D+12]),Rt(_,N,0,0,$+(ue=Bn(B[D+4])+(35468*B[D+12]>>16))),Rt(_,N,1,0,W+Y),Rt(_,N,2,0,W-Y),Rt(_,N,3,0,$-ue),D++,N+=32}function ul(u,d,_,N){var I=u[d+0]+4,D=35468*u[d+4]>>16,B=Bn(u[d+4]),$=35468*u[d+1]>>16;yo(_,N,0,I+B,u=Bn(u[d+1]),$),yo(_,N,1,I+D,u,$),yo(_,N,2,I-D,u,$),yo(_,N,3,I-B,u,$)}function Ls(u,d,_,N,I){Gn(u,d,_,N),I&&Gn(u,d+16,_,N+4)}function Ei(u,d,_,N){Oi(u,d+0,_,N,1),Oi(u,d+32,_,N+128,1)}function dn(u,d,_,N){var I;for(u=u[d+0]+4,I=0;4>I;++I)for(d=0;4>d;++d)Rt(_,N,d,I,u)}function Ti(u,d,_,N){u[d+0]&&or(u,d+0,_,N),u[d+16]&&or(u,d+16,_,N+4),u[d+32]&&or(u,d+32,_,N+128),u[d+48]&&or(u,d+48,_,N+128+4)}function es(u,d,_,N){var I,D=s(16);for(I=0;4>I;++I){var B=u[d+0+I]+u[d+12+I],$=u[d+4+I]+u[d+8+I],W=u[d+4+I]-u[d+8+I],Y=u[d+0+I]-u[d+12+I];D[0+I]=B+$,D[8+I]=B-$,D[4+I]=Y+W,D[12+I]=Y-W}for(I=0;4>I;++I)B=(u=D[0+4*I]+3)+D[3+4*I],$=D[1+4*I]+D[2+4*I],W=D[1+4*I]-D[2+4*I],Y=u-D[3+4*I],_[N+0]=B+$>>3,_[N+16]=Y+W>>3,_[N+32]=B-$>>3,_[N+48]=Y-W>>3,N+=64}function Gi(u,d,_){var N,I=d-32,D=vr,B=255-u[I-1];for(N=0;N<_;++N){var $,W=D,Y=B+u[d-1];for($=0;$<_;++$)u[d+$]=W[Y+u[I+$]];d+=32}}function ya(u,d){Gi(u,d,4)}function ts(u,d){Gi(u,d,8)}function _a(u,d){Gi(u,d,16)}function hi(u,d){var _;for(_=0;16>_;++_)r(u,d+32*_,u,d-32,16)}function Ki(u,d){var _;for(_=16;0<_;--_)o(u,d,u[d-1],16),d+=32}function _o(u,d,_){var N;for(N=0;16>N;++N)o(d,_+32*N,u,16)}function ks(u,d){var _,N=16;for(_=0;16>_;++_)N+=u[d-1+32*_]+u[d+_-32];_o(N>>5,u,d)}function An(u,d){var _,N=8;for(_=0;16>_;++_)N+=u[d-1+32*_];_o(N>>4,u,d)}function cl(u,d){var _,N=8;for(_=0;16>_;++_)N+=u[d+_-32];_o(N>>4,u,d)}function Ps(u,d){_o(128,u,d)}function mt(u,d,_){return u+2*d+_+2>>2}function yt(u,d){var _,N=d-32;for(N=new Uint8Array([mt(u[N-1],u[N+0],u[N+1]),mt(u[N+0],u[N+1],u[N+2]),mt(u[N+1],u[N+2],u[N+3]),mt(u[N+2],u[N+3],u[N+4])]),_=0;4>_;++_)r(u,d+32*_,N,0,N.length)}function Gr(u,d){var _=u[d-1],N=u[d-1+32],I=u[d-1+64],D=u[d-1+96];Oe(u,d+0,16843009*mt(u[d-1-32],_,N)),Oe(u,d+32,16843009*mt(_,N,I)),Oe(u,d+64,16843009*mt(N,I,D)),Oe(u,d+96,16843009*mt(I,D,D))}function Ct(u,d){var _,N=4;for(_=0;4>_;++_)N+=u[d+_-32]+u[d-1+32*_];for(N>>=3,_=0;4>_;++_)o(u,d+32*_,N,4)}function xa(u,d){var _=u[d-1+0],N=u[d-1+32],I=u[d-1+64],D=u[d-1-32],B=u[d+0-32],$=u[d+1-32],W=u[d+2-32],Y=u[d+3-32];u[d+0+96]=mt(N,I,u[d-1+96]),u[d+1+96]=u[d+0+64]=mt(_,N,I),u[d+2+96]=u[d+1+64]=u[d+0+32]=mt(D,_,N),u[d+3+96]=u[d+2+64]=u[d+1+32]=u[d+0+0]=mt(B,D,_),u[d+3+64]=u[d+2+32]=u[d+1+0]=mt($,B,D),u[d+3+32]=u[d+2+0]=mt(W,$,B),u[d+3+0]=mt(Y,W,$)}function As(u,d){var _=u[d+1-32],N=u[d+2-32],I=u[d+3-32],D=u[d+4-32],B=u[d+5-32],$=u[d+6-32],W=u[d+7-32];u[d+0+0]=mt(u[d+0-32],_,N),u[d+1+0]=u[d+0+32]=mt(_,N,I),u[d+2+0]=u[d+1+32]=u[d+0+64]=mt(N,I,D),u[d+3+0]=u[d+2+32]=u[d+1+64]=u[d+0+96]=mt(I,D,B),u[d+3+32]=u[d+2+64]=u[d+1+96]=mt(D,B,$),u[d+3+64]=u[d+2+96]=mt(B,$,W),u[d+3+96]=mt($,W,W)}function xo(u,d){var _=u[d-1+0],N=u[d-1+32],I=u[d-1+64],D=u[d-1-32],B=u[d+0-32],$=u[d+1-32],W=u[d+2-32],Y=u[d+3-32];u[d+0+0]=u[d+1+64]=D+B+1>>1,u[d+1+0]=u[d+2+64]=B+$+1>>1,u[d+2+0]=u[d+3+64]=$+W+1>>1,u[d+3+0]=W+Y+1>>1,u[d+0+96]=mt(I,N,_),u[d+0+64]=mt(N,_,D),u[d+0+32]=u[d+1+96]=mt(_,D,B),u[d+1+32]=u[d+2+96]=mt(D,B,$),u[d+2+32]=u[d+3+96]=mt(B,$,W),u[d+3+32]=mt($,W,Y)}function ns(u,d){var _=u[d+0-32],N=u[d+1-32],I=u[d+2-32],D=u[d+3-32],B=u[d+4-32],$=u[d+5-32],W=u[d+6-32],Y=u[d+7-32];u[d+0+0]=_+N+1>>1,u[d+1+0]=u[d+0+64]=N+I+1>>1,u[d+2+0]=u[d+1+64]=I+D+1>>1,u[d+3+0]=u[d+2+64]=D+B+1>>1,u[d+0+32]=mt(_,N,I),u[d+1+32]=u[d+0+96]=mt(N,I,D),u[d+2+32]=u[d+1+96]=mt(I,D,B),u[d+3+32]=u[d+2+96]=mt(D,B,$),u[d+3+64]=mt(B,$,W),u[d+3+96]=mt($,W,Y)}function Ji(u,d){var _=u[d-1+0],N=u[d-1+32],I=u[d-1+64],D=u[d-1+96];u[d+0+0]=_+N+1>>1,u[d+2+0]=u[d+0+32]=N+I+1>>1,u[d+2+32]=u[d+0+64]=I+D+1>>1,u[d+1+0]=mt(_,N,I),u[d+3+0]=u[d+1+32]=mt(N,I,D),u[d+3+32]=u[d+1+64]=mt(I,D,D),u[d+3+64]=u[d+2+64]=u[d+0+96]=u[d+1+96]=u[d+2+96]=u[d+3+96]=D}function wa(u,d){var _=u[d-1+0],N=u[d-1+32],I=u[d-1+64],D=u[d-1+96],B=u[d-1-32],$=u[d+0-32],W=u[d+1-32],Y=u[d+2-32];u[d+0+0]=u[d+2+32]=_+B+1>>1,u[d+0+32]=u[d+2+64]=N+_+1>>1,u[d+0+64]=u[d+2+96]=I+N+1>>1,u[d+0+96]=D+I+1>>1,u[d+3+0]=mt($,W,Y),u[d+2+0]=mt(B,$,W),u[d+1+0]=u[d+3+32]=mt(_,B,$),u[d+1+32]=u[d+3+64]=mt(N,_,B),u[d+1+64]=u[d+3+96]=mt(I,N,_),u[d+1+96]=mt(D,I,N)}function rs(u,d){var _;for(_=0;8>_;++_)r(u,d+32*_,u,d-32,8)}function mn(u,d){var _;for(_=0;8>_;++_)o(u,d,u[d-1],8),d+=32}function Er(u,d,_){var N;for(N=0;8>N;++N)o(d,_+32*N,u,8)}function Yi(u,d){var _,N=8;for(_=0;8>_;++_)N+=u[d+_-32]+u[d-1+32*_];Er(N>>4,u,d)}function hl(u,d){var _,N=4;for(_=0;8>_;++_)N+=u[d+_-32];Er(N>>3,u,d)}function is(u,d){var _,N=4;for(_=0;8>_;++_)N+=u[d-1+32*_];Er(N>>3,u,d)}function js(u,d){Er(128,u,d)}function wo(u,d,_){var N=u[d-_],I=u[d+0],D=3*(I-N)+Ds[1020+u[d-2*_]-u[d+_]],B=Eo[112+(D+4>>3)];u[d-_]=vr[255+N+Eo[112+(D+3>>3)]],u[d+0]=vr[255+I-B]}function fl(u,d,_,N){var I=u[d+0],D=u[d+_];return zr[255+u[d-2*_]-u[d-_]]>N||zr[255+D-I]>N}function ba(u,d,_,N){return 4*zr[255+u[d-_]-u[d+0]]+zr[255+u[d-2*_]-u[d+_]]<=N}function jt(u,d,_,N,I){var D=u[d-3*_],B=u[d-2*_],$=u[d-_],W=u[d+0],Y=u[d+_],ue=u[d+2*_],be=u[d+3*_];return 4*zr[255+$-W]+zr[255+B-Y]>N?0:zr[255+u[d-4*_]-D]<=I&&zr[255+D-B]<=I&&zr[255+B-$]<=I&&zr[255+be-ue]<=I&&zr[255+ue-Y]<=I&&zr[255+Y-W]<=I}function dl(u,d,_,N){var I=2*N+1;for(N=0;16>N;++N)ba(u,d+N,_,I)&&wo(u,d+N,_)}function wn(u,d,_,N){var I=2*N+1;for(N=0;16>N;++N)ba(u,d+N*_,1,I)&&wo(u,d+N*_,1)}function Tr(u,d,_,N){var I;for(I=3;0<I;--I)dl(u,d+=4*_,_,N)}function pl(u,d,_,N){var I;for(I=3;0<I;--I)wn(u,d+=4,_,N)}function bo(u,d,_,N,I,D,B,$){for(D=2*D+1;0<I--;){if(jt(u,d,_,D,B))if(fl(u,d,_,$))wo(u,d,_);else{var W=u,Y=d,ue=_,be=W[Y-2*ue],Ne=W[Y-ue],ge=W[Y+0],Re=W[Y+ue],Ee=W[Y+2*ue],ce=27*(Ie=Ds[1020+3*(ge-Ne)+Ds[1020+be-Re]])+63>>7,de=18*Ie+63>>7,Ie=9*Ie+63>>7;W[Y-3*ue]=vr[255+W[Y-3*ue]+Ie],W[Y-2*ue]=vr[255+be+de],W[Y-ue]=vr[255+Ne+ce],W[Y+0]=vr[255+ge-ce],W[Y+ue]=vr[255+Re-de],W[Y+2*ue]=vr[255+Ee-Ie]}d+=N}}function Or(u,d,_,N,I,D,B,$){for(D=2*D+1;0<I--;){if(jt(u,d,_,D,B))if(fl(u,d,_,$))wo(u,d,_);else{var W=u,Y=d,ue=_,be=W[Y-ue],Ne=W[Y+0],ge=W[Y+ue],Re=Eo[112+((Ee=3*(Ne-be))+4>>3)],Ee=Eo[112+(Ee+3>>3)],ce=Re+1>>1;W[Y-2*ue]=vr[255+W[Y-2*ue]+ce],W[Y-ue]=vr[255+be+Ee],W[Y+0]=vr[255+Ne-Re],W[Y+ue]=vr[255+ge-ce]}d+=N}}function Na(u,d,_,N,I,D){bo(u,d,_,1,16,N,I,D)}function No(u,d,_,N,I,D){bo(u,d,1,_,16,N,I,D)}function _u(u,d,_,N,I,D){var B;for(B=3;0<B;--B)Or(u,d+=4*_,_,1,16,N,I,D)}function Cs(u,d,_,N,I,D){var B;for(B=3;0<B;--B)Or(u,d+=4,1,_,16,N,I,D)}function Sa(u,d,_,N,I,D,B,$){bo(u,d,I,1,8,D,B,$),bo(_,N,I,1,8,D,B,$)}function La(u,d,_,N,I,D,B,$){bo(u,d,1,I,8,D,B,$),bo(_,N,1,I,8,D,B,$)}function mr(u,d,_,N,I,D,B,$){Or(u,d+4*I,I,1,8,D,B,$),Or(_,N+4*I,I,1,8,D,B,$)}function ml(u,d,_,N,I,D,B,$){Or(u,d+4,1,I,8,D,B,$),Or(_,N+4,1,I,8,D,B,$)}function os(){this.ba=new Hr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Kr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Es(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ka(){this.ua=0,this.Wa=new X,this.vb=new X,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new R}function Pa(){this.xb=this.a=0,this.l=new Ci,this.ca=new Hr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new E,this.Pb=0,this.wd=new E,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ka,this.ab=0,this.gc=l(4,Es),this.Oc=0}function Ts(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ci,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function So(u,d,_,N,I,D,B){for(u=u==null?0:u[d+0],d=0;d<B;++d)I[D+d]=u+_[N+d]&255,u=I[D+d]}function Os(u,d,_,N,I,D,B){var $;if(u==null)So(null,null,_,N,I,D,B);else for($=0;$<B;++$)I[D+$]=u[d+$]+_[N+$]&255}function Lo(u,d,_,N,I,D,B){if(u==null)So(null,null,_,N,I,D,B);else{var $,W=u[d+0],Y=W,ue=W;for($=0;$<B;++$)Y=ue+(W=u[d+$])-Y,ue=_[N+$]+(-256&Y?0>Y?0:255:Y)&255,Y=W,I[D+$]=ue}}function Aa(u,d,_,N){var I=d.width,D=d.o;if(t(u!=null&&d!=null),0>_||0>=N||_+N>D)return null;if(!u.Cc){if(u.ga==null){var B;if(u.ga=new Ts,(B=u.ga==null)||(B=d.width*d.o,t(u.Gb.length==0),u.Gb=s(B),u.Uc=0,u.Gb==null?B=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,B=1),B=!B),!B){B=u.ga;var $=u.Fa,W=u.P,Y=u.qc,ue=u.mb,be=u.nb,Ne=W+1,ge=Y-1,Re=B.l;if(t($!=null&&ue!=null&&d!=null),Gt[0]=null,Gt[1]=So,Gt[2]=Os,Gt[3]=Lo,B.ca=ue,B.tb=be,B.c=d.width,B.i=d.height,t(0<B.c&&0<B.i),1>=Y)d=0;else if(B.$a=$[W+0]>>0&3,B.Z=$[W+0]>>2&3,B.Lc=$[W+0]>>4&3,W=$[W+0]>>6&3,0>B.$a||1<B.$a||4<=B.Z||1<B.Lc||W)d=0;else if(Re.put=ki,Re.ac=Dn,Re.bc=Wr,Re.ma=B,Re.width=d.width,Re.height=d.height,Re.Da=d.Da,Re.v=d.v,Re.va=d.va,Re.j=d.j,Re.o=d.o,B.$a)e:{t(B.$a==1),d=Cr();t:for(;;){if(d==null){d=0;break e}if(t(B!=null),B.mc=d,d.c=B.c,d.i=B.i,d.l=B.l,d.l.ma=B,d.l.width=B.c,d.l.height=B.i,d.a=0,K(d.m,$,Ne,ge),!ji(B.c,B.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&Ai(d.s)?(B.ic=1,$=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s($),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(B.ic=0,d=Vo(d,B.c)),!d))break t;d=1;break e}B.mc=null,d=0}else d=ge>=B.c*B.i;B=!d}if(B)return null;u.ga.Lc!=1?u.Ga=0:N=D-_}t(u.ga!=null),t(_+N<=D);e:{if(d=($=u.ga).c,D=$.l.o,$.$a==0){if(Ne=u.rc,ge=u.Vc,Re=u.Fa,W=u.P+1+_*d,Y=u.mb,ue=u.nb+_*d,t(W<=u.P+u.qc),$.Z!=0)for(t(Gt[$.Z]!=null),B=0;B<N;++B)Gt[$.Z](Ne,ge,Re,W,Y,ue,d),Ne=Y,ge=ue,ue+=d,W+=d;else for(B=0;B<N;++B)r(Y,ue,Re,W,d),Ne=Y,ge=ue,ue+=d,W+=d;u.rc=Ne,u.Vc=ge}else{if(t($.mc!=null),d=_+N,t((B=$.mc)!=null),t(d<=B.i),B.C>=d)d=1;else if($.ic||ye(),$.ic){$=B.V,Ne=B.Ba,ge=B.c;var Ee=B.i,ce=(Re=1,W=B.$/ge,Y=B.$%ge,ue=B.m,be=B.s,B.$),de=ge*Ee,Ie=ge*d,De=be.wc,Me=ce<Ie?Ge(be,Y,W):null;t(ce<=de),t(d<=Ee),t(Ai(be));t:for(;;){for(;!ue.h&&ce<Ie;){if(Y&De||(Me=Ge(be,Y,W)),t(Me!=null),re(ue),256>(Ee=dr(Me.G[0],Me.H[0],ue)))$[Ne+ce]=Ee,++ce,++Y>=ge&&(Y=0,++W<=d&&!(W%16)&&jr(B,W));else{if(!(280>Ee)){Re=0;break t}Ee=ci(Ee-256,ue);var Xe,Ve=dr(Me.G[4],Me.H[4],ue);if(re(ue),!(ce>=(Ve=Pi(ge,Ve=ci(Ve,ue)))&&de-ce>=Ee)){Re=0;break t}for(Xe=0;Xe<Ee;++Xe)$[Ne+ce+Xe]=$[Ne+ce+Xe-Ve];for(ce+=Ee,Y+=Ee;Y>=ge;)Y-=ge,++W<=d&&!(W%16)&&jr(B,W);ce<Ie&&Y&De&&(Me=Ge(be,Y,W))}t(ue.h==G(ue))}jr(B,W>d?d:W);break t}!Re||ue.h&&ce<de?(Re=0,B.a=ue.h?5:3):B.$=ce,d=Re}else d=Vr(B,B.V,B.Ba,B.c,B.i,d,ws);if(!d){N=0;break e}}_+N>=D&&(u.Cc=1),N=1}if(!N)return null;if(u.Cc&&((N=u.ga)!=null&&(N.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+_*I}function m(u,d,_,N,I,D){for(;0<I--;){var B,$=u,W=d+(_?1:0),Y=u,ue=d+(_?0:3);for(B=0;B<N;++B){var be=Y[ue+4*B];be!=255&&(be*=32897,$[W+4*B+0]=$[W+4*B+0]*be>>23,$[W+4*B+1]=$[W+4*B+1]*be>>23,$[W+4*B+2]=$[W+4*B+2]*be>>23)}d+=D}}function M(u,d,_,N,I){for(;0<N--;){var D;for(D=0;D<_;++D){var B=u[d+2*D+0],$=15&(Y=u[d+2*D+1]),W=4369*$,Y=(240&Y|Y>>4)*W>>16;u[d+2*D+0]=(240&B|B>>4)*W>>16&240|(15&B|B<<4)*W>>16>>4&15,u[d+2*D+1]=240&Y|$}d+=I}}function te(u,d,_,N,I,D,B,$){var W,Y,ue=255;for(Y=0;Y<I;++Y){for(W=0;W<N;++W){var be=u[d+W];D[B+4*W]=be,ue&=be}d+=_,B+=$}return ue!=255}function le(u,d,_,N,I){var D;for(D=0;D<I;++D)_[N+D]=u[d+D]>>8}function ye(){Hn=m,Wt=M,Zt=te,vn=le}function Ae(u,d,_){j[u]=function(N,I,D,B,$,W,Y,ue,be,Ne,ge,Re,Ee,ce,de,Ie,De){var Me,Xe=De-1>>1,Ve=$[W+0]|Y[ue+0]<<16,ht=be[Ne+0]|ge[Re+0]<<16;t(N!=null);var Je=3*Ve+ht+131074>>2;for(d(N[I+0],255&Je,Je>>16,Ee,ce),D!=null&&(Je=3*ht+Ve+131074>>2,d(D[B+0],255&Je,Je>>16,de,Ie)),Me=1;Me<=Xe;++Me){var qt=$[W+Me]|Y[ue+Me]<<16,Kt=be[Ne+Me]|ge[Re+Me]<<16,Ft=Ve+qt+ht+Kt+524296,Mt=Ft+2*(qt+ht)>>3;Je=Mt+Ve>>1,Ve=(Ft=Ft+2*(Ve+Kt)>>3)+qt>>1,d(N[I+2*Me-1],255&Je,Je>>16,Ee,ce+(2*Me-1)*_),d(N[I+2*Me-0],255&Ve,Ve>>16,Ee,ce+(2*Me-0)*_),D!=null&&(Je=Ft+ht>>1,Ve=Mt+Kt>>1,d(D[B+2*Me-1],255&Je,Je>>16,de,Ie+(2*Me-1)*_),d(D[B+2*Me+0],255&Ve,Ve>>16,de,Ie+(2*Me+0)*_)),Ve=qt,ht=Kt}1&De||(Je=3*Ve+ht+131074>>2,d(N[I+De-1],255&Je,Je>>16,Ee,ce+(De-1)*_),D!=null&&(Je=3*ht+Ve+131074>>2,d(D[B+De-1],255&Je,Je>>16,de,Ie+(De-1)*_)))}}function qe(){ar[_l]=Ff,ar[Ia]=Cc,ar[wu]=zf,ar[Ma]=Sl,ar[Ra]=Nu,ar[xl]=Ec,ar[jc]=b5,ar[wl]=Cc,ar[bl]=Sl,ar[Nl]=Nu,ar[i]=Ec}function Ke(u){return u&-16384?0>u?0:255:u>>N5}function et(u,d){return Ke((19077*u>>8)+(26149*d>>8)-14234)}function _t(u,d,_){return Ke((19077*u>>8)-(6419*d>>8)-(13320*_>>8)+8708)}function gt(u,d){return Ke((19077*u>>8)+(33050*d>>8)-17685)}function It(u,d,_,N,I){N[I+0]=et(u,_),N[I+1]=_t(u,d,_),N[I+2]=gt(u,d)}function en(u,d,_,N,I){N[I+0]=gt(u,d),N[I+1]=_t(u,d,_),N[I+2]=et(u,_)}function on(u,d,_,N,I){var D=_t(u,d,_);d=D<<3&224|gt(u,d)>>3,N[I+0]=248&et(u,_)|D>>5,N[I+1]=d}function bn(u,d,_,N,I){var D=240&gt(u,d)|15;N[I+0]=240&et(u,_)|_t(u,d,_)>>4,N[I+1]=D}function Kn(u,d,_,N,I){N[I+0]=255,It(u,d,_,N,I+1)}function jn(u,d,_,N,I){en(u,d,_,N,I),N[I+3]=255}function fi(u,d,_,N,I){It(u,d,_,N,I),N[I+3]=255}function ln(u,d){return 0>u?0:u>d?d:u}function ir(u,d,_){j[u]=function(N,I,D,B,$,W,Y,ue,be){for(var Ne=ue+(-2&be)*_;ue!=Ne;)d(N[I+0],D[B+0],$[W+0],Y,ue),d(N[I+1],D[B+0],$[W+0],Y,ue+_),I+=2,++B,++W,ue+=2*_;1&be&&d(N[I+0],D[B+0],$[W+0],Y,ue)}}function gl(u,d,_){return _==0?u==0?d==0?6:5:d==0?4:0:_}function Ir(u,d,_,N,I){switch(u>>>30){case 3:Oi(d,_,N,I,0);break;case 2:gn(d,_,N,I);break;case 1:or(d,_,N,I)}}function ja(u,d){var _,N,I=d.M,D=d.Nb,B=u.oc,$=u.pc+40,W=u.oc,Y=u.pc+584,ue=u.oc,be=u.pc+600;for(_=0;16>_;++_)B[$+32*_-1]=129;for(_=0;8>_;++_)W[Y+32*_-1]=129,ue[be+32*_-1]=129;for(0<I?B[$-1-32]=W[Y-1-32]=ue[be-1-32]=129:(o(B,$-32-1,127,21),o(W,Y-32-1,127,9),o(ue,be-32-1,127,9)),N=0;N<u.za;++N){var Ne=d.ya[d.aa+N];if(0<N){for(_=-1;16>_;++_)r(B,$+32*_-4,B,$+32*_+12,4);for(_=-1;8>_;++_)r(W,Y+32*_-4,W,Y+32*_+4,4),r(ue,be+32*_-4,ue,be+32*_+4,4)}var ge=u.Gd,Re=u.Hd+N,Ee=Ne.ad,ce=Ne.Hc;if(0<I&&(r(B,$-32,ge[Re].y,0,16),r(W,Y-32,ge[Re].f,0,8),r(ue,be-32,ge[Re].ea,0,8)),Ne.Za){var de=B,Ie=$-32+16;for(0<I&&(N>=u.za-1?o(de,Ie,ge[Re].y[15],4):r(de,Ie,ge[Re+1].y,0,4)),_=0;4>_;_++)de[Ie+128+_]=de[Ie+256+_]=de[Ie+384+_]=de[Ie+0+_];for(_=0;16>_;++_,ce<<=2)de=B,Ie=$+X0[_],mi[Ne.Ob[_]](de,Ie),Ir(ce,Ee,16*+_,de,Ie)}else if(de=gl(N,I,Ne.Ob[0]),To[de](B,$),ce!=0)for(_=0;16>_;++_,ce<<=2)Ir(ce,Ee,16*+_,B,$+X0[_]);for(_=Ne.Gc,de=gl(N,I,Ne.Dd),zi[de](W,Y),zi[de](ue,be),ce=Ee,de=W,Ie=Y,255&(Ne=_>>0)&&(170&Ne?Po(ce,256,de,Ie):Fr(ce,256,de,Ie)),Ne=ue,ce=be,255&(_>>=8)&&(170&_?Po(Ee,320,Ne,ce):Fr(Ee,320,Ne,ce)),I<u.Ub-1&&(r(ge[Re].y,0,B,$+480,16),r(ge[Re].f,0,W,Y+224,8),r(ge[Re].ea,0,ue,be+224,8)),_=8*D*u.B,ge=u.sa,Re=u.ta+16*N+16*D*u.R,Ee=u.qa,Ne=u.ra+8*N+_,ce=u.Ha,de=u.Ia+8*N+_,_=0;16>_;++_)r(ge,Re+_*u.R,B,$+32*_,16);for(_=0;8>_;++_)r(Ee,Ne+_*u.B,W,Y+32*_,8),r(ce,de+_*u.B,ue,be+32*_,8)}}function di(u,d,_,N,I,D,B,$,W){var Y=[0],ue=[0],be=0,Ne=W!=null?W.kd:0,ge=W??new Kr;if(u==null||12>_)return 7;ge.data=u,ge.w=d,ge.ha=_,d=[d],_=[_],ge.gb=[ge.gb];e:{var Re=d,Ee=_,ce=ge.gb;if(t(u!=null),t(Ee!=null),t(ce!=null),ce[0]=0,12<=Ee[0]&&!n(u,Re[0],"RIFF")){if(n(u,Re[0]+8,"WEBP")){ce=3;break e}var de=Ue(u,Re[0]+4);if(12>de||4294967286<de){ce=3;break e}if(Ne&&de>Ee[0]-8){ce=7;break e}ce[0]=de,Re[0]+=12,Ee[0]-=12}ce=0}if(ce!=0)return ce;for(de=0<ge.gb[0],_=_[0];;){e:{var Ie=u;Ee=d,ce=_;var De=Y,Me=ue,Xe=Re=[0];if((Je=be=[be])[0]=0,8>ce[0])ce=7;else{if(!n(Ie,Ee[0],"VP8X")){if(Ue(Ie,Ee[0]+4)!=10){ce=3;break e}if(18>ce[0]){ce=7;break e}var Ve=Ue(Ie,Ee[0]+8),ht=1+Be(Ie,Ee[0]+12);if(2147483648<=ht*(Ie=1+Be(Ie,Ee[0]+15))){ce=3;break e}Xe!=null&&(Xe[0]=Ve),De!=null&&(De[0]=ht),Me!=null&&(Me[0]=Ie),Ee[0]+=18,ce[0]-=18,Je[0]=1}ce=0}}if(be=be[0],Re=Re[0],ce!=0)return ce;if(Ee=!!(2&Re),!de&&be)return 3;if(D!=null&&(D[0]=!!(16&Re)),B!=null&&(B[0]=Ee),$!=null&&($[0]=0),B=Y[0],Re=ue[0],be&&Ee&&W==null){ce=0;break}if(4>_){ce=7;break}if(de&&be||!de&&!be&&!n(u,d[0],"ALPH")){_=[_],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{Ve=u,ce=d,de=_;var Je=ge.gb;De=ge.na,Me=ge.P,Xe=ge.Sa,ht=22,t(Ve!=null),t(de!=null),Ie=ce[0];var qt=de[0];for(t(De!=null),t(Xe!=null),De[0]=null,Me[0]=null,Xe[0]=0;;){if(ce[0]=Ie,de[0]=qt,8>qt){ce=7;break e}var Kt=Ue(Ve,Ie+4);if(4294967286<Kt){ce=3;break e}var Ft=8+Kt+1&-2;if(ht+=Ft,0<Je&&ht>Je){ce=3;break e}if(!n(Ve,Ie,"VP8 ")||!n(Ve,Ie,"VP8L")){ce=0;break e}if(qt[0]<Ft){ce=7;break e}n(Ve,Ie,"ALPH")||(De[0]=Ve,Me[0]=Ie+8,Xe[0]=Kt),Ie+=Ft,qt-=Ft}}if(_=_[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],ce!=0)break}_=[_],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if(Je=u,ce=d,de=_,De=ge.gb[0],Me=ge.Ja,Xe=ge.xa,Ve=ce[0],Ie=!n(Je,Ve,"VP8 "),ht=!n(Je,Ve,"VP8L"),t(Je!=null),t(de!=null),t(Me!=null),t(Xe!=null),8>de[0])ce=7;else{if(Ie||ht){if(Je=Ue(Je,Ve+4),12<=De&&Je>De-12){ce=3;break e}if(Ne&&Je>de[0]-8){ce=7;break e}Me[0]=Je,ce[0]+=8,de[0]-=8,Xe[0]=ht}else Xe[0]=5<=de[0]&&Je[Ve+0]==47&&!(Je[Ve+4]>>5),Me[0]=de[0];ce=0}if(_=_[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],d=d[0],ce!=0)break;if(4294967286<ge.Ja)return 3;if($==null||Ee||($[0]=ge.xa?2:1),B=[B],Re=[Re],ge.xa){if(5>_){ce=7;break}$=B,Ne=Re,Ee=D,u==null||5>_?u=0:5<=_&&u[d+0]==47&&!(u[d+4]>>5)?(de=[0],Je=[0],De=[0],K(Me=new E,u,d,_),ct(Me,de,Je,De)?($!=null&&($[0]=de[0]),Ne!=null&&(Ne[0]=Je[0]),Ee!=null&&(Ee[0]=De[0]),u=1):u=0):u=0}else{if(10>_){ce=7;break}$=Re,u==null||10>_||!Xo(u,d+3,_-3)?u=0:(Ne=u[d+0]|u[d+1]<<8|u[d+2]<<16,Ee=16383&(u[d+7]<<8|u[d+6]),u=16383&(u[d+9]<<8|u[d+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=ge.Ja||!Ee||!u?u=0:(B&&(B[0]=Ee),$&&($[0]=u),u=1))}if(!u||(B=B[0],Re=Re[0],be&&(Y[0]!=B||ue[0]!=Re)))return 3;W!=null&&(W[0]=ge,W.offset=d-W.w,t(4294967286>d-W.w),t(W.offset==W.ha-_));break}return ce==0||ce==7&&be&&W==null?(D!=null&&(D[0]|=ge.na!=null&&0<ge.na.length),N!=null&&(N[0]=B),I!=null&&(I[0]=Re),0):ce}function Ca(u,d,_){var N=d.width,I=d.height,D=0,B=0,$=N,W=I;if(d.Da=u!=null&&0<u.Da,d.Da&&($=u.cd,W=u.bd,D=u.v,B=u.j,11>_||(D&=-2,B&=-2),0>D||0>B||0>=$||0>=W||D+$>N||B+W>I))return 0;if(d.v=D,d.j=B,d.va=D+$,d.o=B+W,d.U=$,d.T=W,d.da=u!=null&&0<u.da,d.da){if(!it($,W,_=[u.ib],D=[u.hb]))return 0;d.ib=_[0],d.hb=D[0]}return d.ob=u!=null&&u.ob,d.Kb=u==null||!u.Sd,d.da&&(d.ob=d.ib<3*N/4&&d.hb<3*I/4,d.Kb=0),1}function Xi(u){if(u==null)return 2;if(11>u.S){var d=u.f.RGBA;d.fb+=(u.height-1)*d.A,d.A=-d.A}else d=u.f.kb,u=u.height,d.O+=(u-1)*d.fa,d.fa=-d.fa,d.N+=(u-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(u-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(u-1)*d.lb,d.lb=-d.lb);return 0}function ss(u,d,_,N){if(N==null||0>=u||0>=d)return 2;if(_!=null){if(_.Da){var I=_.cd,D=_.bd,B=-2&_.v,$=-2&_.j;if(0>B||0>$||0>=I||0>=D||B+I>u||$+D>d)return 2;u=I,d=D}if(_.da){if(!it(u,d,I=[_.ib],D=[_.hb]))return 2;u=I[0],d=D[0]}}N.width=u,N.height=d;e:{var W=N.width,Y=N.height;if(u=N.S,0>=W||0>=Y||!(u>=_l&&13>u))u=2;else{if(0>=N.Rd&&N.sd==null){B=D=I=d=0;var ue=($=W*Q0[u])*Y;if(11>u||(D=(Y+1)/2*(d=(W+1)/2),u==12&&(B=(I=W)*Y)),(Y=s(ue+2*D+B))==null){u=1;break e}N.sd=Y,11>u?((W=N.f.RGBA).eb=Y,W.fb=0,W.A=$,W.size=ue):((W=N.f.kb).y=Y,W.O=0,W.fa=$,W.Fd=ue,W.f=Y,W.N=0+ue,W.Ab=d,W.Cd=D,W.ea=Y,W.W=0+ue+D,W.Db=d,W.Ed=D,u==12&&(W.F=Y,W.J=0+ue+2*D),W.Tc=B,W.lb=I)}if(d=1,I=N.S,D=N.width,B=N.height,I>=_l&&13>I)if(11>I)u=N.f.RGBA,d&=($=Math.abs(u.A))*(B-1)+D<=u.size,d&=$>=D*Q0[I],d&=u.eb!=null;else{u=N.f.kb,$=(D+1)/2,ue=(B+1)/2,W=Math.abs(u.fa),Y=Math.abs(u.Ab);var be=Math.abs(u.Db),Ne=Math.abs(u.lb),ge=Ne*(B-1)+D;d&=W*(B-1)+D<=u.Fd,d&=Y*(ue-1)+$<=u.Cd,d=(d&=be*(ue-1)+$<=u.Ed)&W>=D&Y>=$&be>=$,d&=u.y!=null,d&=u.f!=null,d&=u.ea!=null,I==12&&(d&=Ne>=D,d&=ge<=u.Tc,d&=u.F!=null)}else d=0;u=d?0:2}}return u!=0||_!=null&&_.fd&&(u=Xi(N)),u}var Nn=64,Is=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Mr=24,Qi=32,Ea=8,Jn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pe("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(u){return u},j.Predictor2=function(u,d,_){return d[_+0]},j.Predictor3=function(u,d,_){return d[_+1]},j.Predictor4=function(u,d,_){return d[_-1]},j.Predictor5=function(u,d,_){return $e($e(u,d[_+1]),d[_+0])},j.Predictor6=function(u,d,_){return $e(u,d[_-1])},j.Predictor7=function(u,d,_){return $e(u,d[_+0])},j.Predictor8=function(u,d,_){return $e(d[_-1],d[_+0])},j.Predictor9=function(u,d,_){return $e(d[_+0],d[_+1])},j.Predictor10=function(u,d,_){return $e($e(u,d[_-1]),$e(d[_+0],d[_+1]))},j.Predictor11=function(u,d,_){var N=d[_+0];return 0>=lt(N>>24&255,u>>24&255,(d=d[_-1])>>24&255)+lt(N>>16&255,u>>16&255,d>>16&255)+lt(N>>8&255,u>>8&255,d>>8&255)+lt(255&N,255&u,255&d)?N:u},j.Predictor12=function(u,d,_){var N=d[_+0];return(tt((u>>24&255)+(N>>24&255)-((d=d[_-1])>>24&255))<<24|tt((u>>16&255)+(N>>16&255)-(d>>16&255))<<16|tt((u>>8&255)+(N>>8&255)-(d>>8&255))<<8|tt((255&u)+(255&N)-(255&d)))>>>0},j.Predictor13=function(u,d,_){var N=d[_-1];return(Qe((u=$e(u,d[_+0]))>>24&255,N>>24&255)<<24|Qe(u>>16&255,N>>16&255)<<16|Qe(u>>8&255,N>>8&255)<<8|Qe(u>>0&255,N>>0&255))>>>0};var xu=j.PredictorAdd0;j.PredictorAdd1=ot,Pe("Predictor2","PredictorAdd2"),Pe("Predictor3","PredictorAdd3"),Pe("Predictor4","PredictorAdd4"),Pe("Predictor5","PredictorAdd5"),Pe("Predictor6","PredictorAdd6"),Pe("Predictor7","PredictorAdd7"),Pe("Predictor8","PredictorAdd8"),Pe("Predictor9","PredictorAdd9"),Pe("Predictor10","PredictorAdd10"),Pe("Predictor11","PredictorAdd11"),Pe("Predictor12","PredictorAdd12"),Pe("Predictor13","PredictorAdd13");var Rr=j.PredictorAdd2;Nt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var vl,qn=j.ColorIndexInverseTransform,Ms=j.MapARGB,Jr=j.VP8LColorIndexInverseTransformAlpha,as=j.MapAlpha,eo=j.VP8LPredictorsAdd=[];eo.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var to,Un,$n,pi,gr,Yr,ko,Oi,gn,Po,or,Fr,Rs,Ta,Oa,Yn,Ii,Ao,Mi,Fs,jo,Co,no,Xr,Hn,Wt,Zt,vn,Vt=s(511),Ri=s(2041),zs=s(225),Fi=s(767),yl=0,Ds=Ri,Eo=zs,vr=Fi,zr=Vt,_l=0,Ia=1,wu=2,Ma=3,Ra=4,xl=5,jc=6,wl=7,bl=8,Nl=9,i=10,a=[2,3,7],f=[3,3,11],g=[280,256,256,256,40],k=[0,1,1,1,0],q=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],oe=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xe=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Le=8,ze=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ye=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],at=null,At=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Cn=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Qr=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Bs=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Mf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],To=[],mi=[],zi=[],Rf=1,bu=2,Gt=[],ar=[];Ae("UpsampleRgbLinePair",It,3),Ae("UpsampleBgrLinePair",en,3),Ae("UpsampleRgbaLinePair",fi,4),Ae("UpsampleBgraLinePair",jn,4),Ae("UpsampleArgbLinePair",Kn,4),Ae("UpsampleRgba4444LinePair",bn,2),Ae("UpsampleRgb565LinePair",on,2);var Ff=j.UpsampleRgbLinePair,zf=j.UpsampleBgrLinePair,Cc=j.UpsampleRgbaLinePair,Sl=j.UpsampleBgraLinePair,Nu=j.UpsampleArgbLinePair,Ec=j.UpsampleRgba4444LinePair,b5=j.UpsampleRgb565LinePair,Tc=16,Oc=1<<Tc-1,Su=-227,Df=482,N5=6,Y0=0,S5=s(256),L5=s(256),k5=s(256),P5=s(256),A5=s(Df-Su),j5=s(Df-Su);ir("YuvToRgbRow",It,3),ir("YuvToBgrRow",en,3),ir("YuvToRgbaRow",fi,4),ir("YuvToBgraRow",jn,4),ir("YuvToArgbRow",Kn,4),ir("YuvToRgba4444Row",bn,2),ir("YuvToRgb565Row",on,2);var X0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ic=[0,2,8],C5=[8,7,6,4,4,2,2,2,1,1,1,1],E5=1;this.WebPDecodeRGBA=function(u,d,_,N,I){var D=Ia,B=new os,$=new Hr;B.ba=$,$.S=D,$.width=[$.width],$.height=[$.height];var W=$.width,Y=$.height,ue=new Li;if(ue==null||u==null)var be=2;else t(ue!=null),be=di(u,d,_,ue.width,ue.height,ue.Pd,ue.Qd,ue.format,null);if(be!=0?W=0:(W!=null&&(W[0]=ue.width[0]),Y!=null&&(Y[0]=ue.height[0]),W=1),W){$.width=$.width[0],$.height=$.height[0],N!=null&&(N[0]=$.width),I!=null&&(I[0]=$.height);e:{if(N=new Ci,(I=new Kr).data=u,I.w=d,I.ha=_,I.kd=1,d=[0],t(I!=null),((u=di(I.data,I.w,I.ha,null,null,null,d,null,I))==0||u==7)&&d[0]&&(u=4),(d=u)==0){if(t(B!=null),N.data=I.data,N.w=I.w+I.offset,N.ha=I.ha-I.offset,N.put=ki,N.ac=Dn,N.bc=Wr,N.ma=B,I.xa){if((u=Cr())==null){B=1;break e}if(function(Ne,ge){var Re=[0],Ee=[0],ce=[0];t:for(;;){if(Ne==null)return 0;if(ge==null)return Ne.a=2,0;if(Ne.l=ge,Ne.a=0,K(Ne.m,ge.data,ge.w,ge.ha),!ct(Ne.m,Re,Ee,ce)){Ne.a=3;break t}if(Ne.xb=bu,ge.width=Re[0],ge.height=Ee[0],!ji(Re[0],Ee[0],1,Ne,null))break t;return 1}return t(Ne.a!=0),0}(u,N)){if(N=(d=ss(N.width,N.height,B.Oa,B.ba))==0){t:{N=u;n:for(;;){if(N==null){N=0;break t}if(t(N.s.yc!=null),t(N.s.Ya!=null),t(0<N.s.Wb),t((_=N.l)!=null),t((I=_.ma)!=null),N.xb!=0){if(N.ca=I.ba,N.tb=I.tb,t(N.ca!=null),!Ca(I.Oa,_,Ma)){N.a=2;break n}if(!Vo(N,_.width)||_.da)break n;if((_.da||Dt(N.ca.S))&&ye(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&ye()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!Ze(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!Vr(N,N.V,N.Ba,N.c,N.i,_.o,Zo))break n;I.Dc=N.Ma,N=1;break t}t(N.a!=0),N=0}N=!N}N&&(d=u.a)}else d=u.a}else{if((u=new Ot)==null){B=1;break e}if(u.Fa=I.na,u.P=I.P,u.qc=I.Sa,Zi(u,N)){if((d=ss(N.width,N.height,B.Oa,B.ba))==0){if(u.Aa=0,_=B.Oa,t((I=u)!=null),_!=null){if(0<(W=0>(W=_.Md)?0:100<W?255:255*W/100)){for(Y=ue=0;4>Y;++Y)12>(be=I.pb[Y]).lc&&(be.ia=W*C5[0>be.lc?0:be.lc]>>3),ue|=be.ia;ue&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=_.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}wt(u,N)||(d=u.a)}}else d=u.a}d==0&&B.Oa!=null&&B.Oa.fd&&(d=Xi(B.ba))}B=d}D=B!=0?null:11>D?$.f.RGBA.eb:$.f.kb.y}else D=null;return D};var Q0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(j,z){for(var V="",O=0;O<4;O++)V+=String.fromCharCode(j[z++]);return V}function v(j,z){return(j[z+0]<<0|j[z+1]<<8|j[z+2]<<16)>>>0}function x(j,z){return(j[z+0]<<0|j[z+1]<<8|j[z+2]<<16|j[z+3]<<24)>>>0}new h;var b=[0],w=[0],P=[],C=new h,U=e,S=function(j,z){var V={},O=0,R=!1,ne=0,Q=0;if(V.frames=[],!function(T,G,ee,re){for(var pe=0;pe<re;pe++)if(T[G+pe]!=ee.charCodeAt(pe))return!0;return!1}(j,z,"RIFF",4)){var we,fe;for(x(j,z+=4),z+=8;z<j.length;){var ve=p(j,z),K=x(j,z+=4);z+=4;var ae=K+(1&K);switch(ve){case"VP8 ":case"VP8L":V.frames[O]===void 0&&(V.frames[O]={}),(E=V.frames[O]).src_off=R?Q:z-8,E.src_size=ne+K+8,O++,R&&(R=!1,ne=0,Q=0);break;case"VP8X":(E=V.header={}).feature_flags=j[z];var se=z+4;E.canvas_width=1+v(j,se),se+=3,E.canvas_height=1+v(j,se),se+=3;break;case"ALPH":R=!0,ne=ae+8,Q=z-8;break;case"ANIM":(E=V.header).bgcolor=x(j,z),se=z+4,E.loop_count=(we=j)[(fe=se)+0]<<0|we[fe+1]<<8,se+=2;break;case"ANMF":var _e,E;(E=V.frames[O]={}).offset_x=2*v(j,z),z+=3,E.offset_y=2*v(j,z),z+=3,E.width=1+v(j,z),z+=3,E.height=1+v(j,z),z+=3,E.duration=v(j,z),z+=3,_e=j[z++],E.dispose=1&_e,E.blend=_e>>1&1}ve!="ANMF"&&(z+=ae)}return V}}(U,0);S.response=U,S.rgbaoutput=!0,S.dataurl=!1;var A=S.header?S.header:null,F=S.frames?S.frames:null;if(A){A.loop_counter=A.loop_count,b=[A.canvas_height],w=[A.canvas_width];for(var J=0;J<F.length&&F[J].blend!=0;J++);}var ie=F[0],H=C.WebPDecodeRGBA(U,ie.src_off,ie.src_size,w,b);ie.rgba=H,ie.imgwidth=w[0],ie.imgheight=b[0];for(var Z=0;Z<w[0]*b[0]*4;Z++)P[Z]=H[Z];return this.width=w,this.height=b,this.data=P,this}(function(e){var t=function(){return typeof Rp=="function"},n=function(b,w,P,C){var U=4,S=l;switch(C){case e.image_compression.FAST:U=1,S=s;break;case e.image_compression.MEDIUM:U=6,S=c;break;case e.image_compression.SLOW:U=9,S=h}b=r(b,w,P,S);var A=Rp(b,{level:U});return e.__addimage__.arrayBufferToBinaryString(A)},r=function(b,w,P,C){for(var U,S,A,F=b.length/w,J=new Uint8Array(b.length+F),ie=v(),H=0;H<F;H+=1){if(A=H*w,U=b.subarray(A,A+w),C)J.set(C(U,P,S),A+H);else{for(var Z,j=ie.length,z=[];Z<j;Z+=1)z[Z]=ie[Z](U,P,S);var V=x(z.concat());J.set(z[V],A+H)}S=U}return J},o=function(b){var w=Array.apply([],b);return w.unshift(0),w},s=function(b,w){var P,C=[],U=b.length;C[0]=1;for(var S=0;S<U;S+=1)P=b[S-w]||0,C[S+1]=b[S]-P+256&255;return C},l=function(b,w,P){var C,U=[],S=b.length;U[0]=2;for(var A=0;A<S;A+=1)C=P&&P[A]||0,U[A+1]=b[A]-C+256&255;return U},c=function(b,w,P){var C,U,S=[],A=b.length;S[0]=3;for(var F=0;F<A;F+=1)C=b[F-w]||0,U=P&&P[F]||0,S[F+1]=b[F]+256-(C+U>>>1)&255;return S},h=function(b,w,P){var C,U,S,A,F=[],J=b.length;F[0]=4;for(var ie=0;ie<J;ie+=1)C=b[ie-w]||0,U=P&&P[ie]||0,S=P&&P[ie-w]||0,A=p(C,U,S),F[ie+1]=b[ie]-A+256&255;return F},p=function(b,w,P){if(b===w&&w===P)return b;var C=Math.abs(w-P),U=Math.abs(b-P),S=Math.abs(b+w-P-P);return C<=U&&C<=S?b:U<=S?w:P},v=function(){return[o,s,l,c,h]},x=function(b){var w=b.map(function(P){return P.reduce(function(C,U){return C+Math.abs(U)},0)});return w.indexOf(Math.min.apply(null,w))};e.processPNG=function(b,w,P,C){var U,S,A,F,J,ie,H,Z,j,z,V,O,R,ne,Q,we=this.decode.FLATE_DECODE,fe="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(A=new Sw(b)).imgData,S=A.bits,U=A.colorSpace,J=A.colors,[4,6].indexOf(A.colorType)!==-1){if(A.bits===8){j=(Z=A.pixelBitlength==32?new Uint32Array(A.decodePixels().buffer):A.pixelBitlength==16?new Uint16Array(A.decodePixels().buffer):new Uint8Array(A.decodePixels().buffer)).length,V=new Uint8Array(j*A.colors),z=new Uint8Array(j);var ve,K=A.pixelBitlength-A.bits;for(ne=0,Q=0;ne<j;ne++){for(R=Z[ne],ve=0;ve<K;)V[Q++]=R>>>ve&255,ve+=A.bits;z[ne]=R>>>ve&255}}if(A.bits===16){j=(Z=new Uint32Array(A.decodePixels().buffer)).length,V=new Uint8Array(j*(32/A.pixelBitlength)*A.colors),z=new Uint8Array(j*(32/A.pixelBitlength)),O=A.colors>1,ne=0,Q=0;for(var ae=0;ne<j;)R=Z[ne++],V[Q++]=R>>>0&255,O&&(V[Q++]=R>>>16&255,R=Z[ne++],V[Q++]=R>>>0&255),z[ae++]=R>>>16&255;S=8}C!==e.image_compression.NONE&&t()?(b=n(V,A.width*A.colors,A.colors,C),H=n(z,A.width,1,C)):(b=V,H=z,we=void 0)}if(A.colorType===3&&(U=this.color_spaces.INDEXED,ie=A.palette,A.transparency.indexed)){var se=A.transparency.indexed,_e=0;for(ne=0,j=se.length;ne<j;++ne)_e+=se[ne];if((_e/=255)===j-1&&se.indexOf(0)!==-1)F=[se.indexOf(0)];else if(_e!==j){for(Z=A.decodePixels(),z=new Uint8Array(Z.length),ne=0,j=Z.length;ne<j;ne++)z[ne]=se[Z[ne]];H=n(z,A.width,1)}}var E=function(T){var G;switch(T){case e.image_compression.FAST:G=11;break;case e.image_compression.MEDIUM:G=13;break;case e.image_compression.SLOW:G=14;break;default:G=12}return G}(C);return we===this.decode.FLATE_DECODE&&(fe="/Predictor "+E+" "),fe+="/Colors "+J+" /BitsPerComponent "+S+" /Columns "+A.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(H&&this.__addimage__.isArrayBuffer(H)||this.__addimage__.isArrayBufferView(H))&&(H=this.__addimage__.arrayBufferToBinaryString(H)),{alias:P,data:b,index:w,filter:we,decodeParameters:fe,transparency:F,palette:ie,sMask:H,predictor:E,width:A.width,height:A.height,bitsPerComponent:S,colorSpace:U}}}})(dt.API),function(e){e.processGIF89A=function(t,n,r,o){var s=new Lw(t),l=s.width,c=s.height,h=[];s.decodeAndBlitFrameRGBA(0,h);var p={data:h,width:l,height:c},v=new Ed(100).encode(p,100);return e.processJPEG.call(this,v,n,r,o)},e.processGIF87A=e.processGIF89A}(dt.API),so.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:o,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},so.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){nn.log("bit decode error:"+n)}},so.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,o=0;o<t;o++)for(var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*o*4,c=0;c<8&&8*o+c<this.width;c++){var h=this.palette[s>>7-c&1];this.data[l+4*c]=h.blue,this.data[l+4*c+1]=h.green,this.data[l+4*c+2]=h.red,this.data[l+4*c+3]=255}n!==0&&(this.pos+=4-n)}},so.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,o=0;o<e;o++){var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*o*4,c=s>>4,h=15&s,p=this.palette[c];if(this.data[l]=p.blue,this.data[l+1]=p.green,this.data[l+2]=p.red,this.data[l+3]=255,2*o+1>=this.width)break;p=this.palette[h],this.data[l+4]=p.blue,this.data[l+4+1]=p.green,this.data[l+4+2]=p.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},so.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var o=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(o<this.palette.length){var l=this.palette[o];this.data[s]=l.red,this.data[s+1]=l.green,this.data[s+2]=l.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},so.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&t)/t*255|0,c=(s>>5&t)/t*255|0,h=(s>>10&t)/t*255|0,p=s>>15?255:0,v=r*this.width*4+4*o;this.data[v]=h,this.data[v+1]=c,this.data[v+2]=l,this.data[v+3]=p}this.pos+=e}},so.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var o=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&t)/t*255|0,h=(l>>5&n)/n*255|0,p=(l>>11)/t*255|0,v=o*this.width*4+4*s;this.data[v]=p,this.data[v+1]=h,this.data[v+2]=c,this.data[v+3]=255}this.pos+=e}},so.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=s,this.data[l+1]=o,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},so.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*n;this.data[c]=s,this.data[c+1]=o,this.data[c+2]=r,this.data[c+3]=l}},so.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,o){var s=new so(t,!1),l=s.width,c=s.height,h={data:s.getData(),width:l,height:c},p=new Ed(100).encode(h,100);return e.processJPEG.call(this,p,n,r,o)}}(dt.API),J1.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,o){var s=new J1(t),l=s.width,c=s.height,h={data:s.getData(),width:l,height:c},p=new Ed(100).encode(h,100);return e.processJPEG.call(this,p,n,r,o)}}(dt.API),dt.API.processRGBA=function(e,t,n){for(var r=e.data,o=r.length,s=new Uint8Array(o/4*3),l=new Uint8Array(o/4),c=0,h=0,p=0;p<o;p+=4){var v=r[p],x=r[p+1],b=r[p+2],w=r[p+3];s[c++]=v,s[c++]=x,s[c++]=b,l[h++]=w}var P=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:P,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},dt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},El=dt.API,hh=El.getCharWidthsArray=function(e,t){var n,r,o=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:o.metadata.Unicode.widths,h=c.fof?c.fof:1,p=t.kerning?t.kerning:o.metadata.Unicode.kerning,v=p.fof?p.fof:1,x=t.doKerning!==!1,b=0,w=e.length,P=0,C=c[0]||h,U=[];for(n=0;n<w;n++)r=e.charCodeAt(n),typeof o.metadata.widthOfString=="function"?U.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(r))+l*(1e3/s)||0)/1e3):(b=x&&Yt(p[r])==="object"&&!isNaN(parseInt(p[r][P],10))?p[r][P]/v:0,U.push((c[r]||C)/h+b)),P=r;return U},Z1=El.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),o=t.charSpace||this.internal.getCharSpace();return El.processArabic&&(e=El.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,o)/n:hh.apply(this,arguments).reduce(function(s,l){return s+l},0)},V1=function(e,t,n,r){for(var o=[],s=0,l=e.length,c=0;s!==l&&c+t[s]<n;)c+=t[s],s++;o.push(e.slice(0,s));var h=s;for(c=0;s!==l;)c+t[s]>r&&(o.push(e.slice(h,s)),c=0,h=s),c+=t[s],s++;return h!==s&&o.push(e.slice(h,s)),o},G1=function(e,t,n){n||(n={});var r,o,s,l,c,h,p,v=[],x=[v],b=n.textIndent||0,w=0,P=0,C=e.split(" "),U=hh.apply(this,[" ",n])[0];if(h=n.lineIndent===-1?C[0].length+2:n.lineIndent||0){var S=Array(h).join(" "),A=[];C.map(function(J){(J=J.split(/\s*\n/)).length>1?A=A.concat(J.map(function(ie,H){return(H&&ie.length?`
`:"")+ie})):A.push(J[0])}),C=A,h=Z1.apply(this,[S,n])}for(s=0,l=C.length;s<l;s++){var F=0;if(r=C[s],h&&r[0]==`
`&&(r=r.substr(1),F=1),b+w+(P=(o=hh.apply(this,[r,n])).reduce(function(J,ie){return J+ie},0))>t||F){if(P>t){for(c=V1.apply(this,[r,o,t-(b+w),t]),v.push(c.shift()),v=[c.pop()];c.length;)x.push([c.shift()]);P=o.slice(r.length-(v[0]?v[0].length:0)).reduce(function(J,ie){return J+ie},0)}else v=[r];x.push(v),b=P+h,w=U}else v.push(r),b+=w+P,w=U}return p=h?function(J,ie){return(ie?S:"")+J.join(" ")}:function(J){return J.join(" ")},x.map(p)},El.splitTextToSize=function(e,t,n){var r,o=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var x=this.internal.getFont(v.fontName,v.fontStyle);return x.metadata.Unicode?{widths:x.metadata.Unicode.widths||{0:1},kerning:x.metadata.Unicode.kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/o;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/o:0,s.lineIndent=n.lineIndent;var c,h,p=[];for(c=0,h=r.length;c<h;c++)p=p.concat(G1.apply(this,[r[c],l,s]));return p},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},o=0;o<t.length;o++)n[t[o]]="0123456789abcdef"[o],r["0123456789abcdef"[o]]=t[o];var s=function(x){return"0x"+parseInt(x,10).toString(16)},l=e.__fontmetrics__.compress=function(x){var b,w,P,C,U=["{"];for(var S in x){if(b=x[S],isNaN(parseInt(S,10))?w="'"+S+"'":(S=parseInt(S,10),w=(w=s(S).slice(2)).slice(0,-1)+r[w.slice(-1)]),typeof b=="number")b<0?(P=s(b).slice(3),C="-"):(P=s(b).slice(2),C=""),P=C+P.slice(0,-1)+r[P.slice(-1)];else{if(Yt(b)!=="object")throw new Error("Don't know what to do with value type "+Yt(b)+".");P=l(b)}U.push(w+P)}return U.push("}"),U.join("")},c=e.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,w,P,C,U={},S=1,A=U,F=[],J="",ie="",H=x.length-1,Z=1;Z<H;Z+=1)(C=x[Z])=="'"?b?(P=b.join(""),b=void 0):b=[]:b?b.push(C):C=="{"?(F.push([A,P]),A={},P=void 0):C=="}"?((w=F.pop())[0][w[1]]=A,P=void 0,A=w[0]):C=="-"?S=-1:P===void 0?n.hasOwnProperty(C)?(J+=n[C],P=parseInt(J,16)*S,S=1,J=""):J+=C:n.hasOwnProperty(C)?(ie+=n[C],A[P]=parseInt(ie,16)*S,S=1,P=void 0,ie=""):ie+=C;return U},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},v={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(x){var b=x.font,w=v.Unicode[b.postScriptName];w&&(b.metadata.Unicode={},b.metadata.Unicode.widths=w.widths,b.metadata.Unicode.kerning=w.kerning);var P=p.Unicode[b.postScriptName];P&&(b.metadata.Unicode.encoding=P,b.encoding=P.codePages[0])}])}(dt.API),function(e){var t=function(n){for(var r=n.length,o=new Uint8Array(r),s=0;s<r;s++)o[s]=n.charCodeAt(s);return o};e.API.events.push(["addFont",function(n){var r=void 0,o=n.font,s=n.instance;if(!o.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(r=s.existsFileInVFS(o.postScriptName)===!1?s.loadFile(o.postScriptName):s.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(Qu(c)),l.metadata=e.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(o,r)}}])}(dt),function(e){function t(){return(pt.canvg?Promise.resolve(pt.canvg):Ep(()=>import("./index.es-DHDKbiEG.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}dt.API.addSvgAsImage=function(n,r,o,s,l,c,h,p){if(isNaN(r)||isNaN(o))throw nn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(l))throw nn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var v=document.createElement("canvas");v.width=s,v.height=l;var x=v.getContext("2d");x.fillStyle="#fff",x.fillRect(0,0,v.width,v.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return t().then(function(P){return P.fromString(x,n,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(P){return P.render(b)}).then(function(){w.addImage(v.toDataURL("image/jpeg",1),r,o,s,l,h,p)})}}(),dt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var o=0;o<this.internal.pages[r].length;o++)this.internal.pages[r][o]=this.internal.pages[r][o].replace(t,n);return this},dt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,o,s,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),h=[],p=0,v=0,x=0;function b(P,C){var U,S=!1;for(U=0;U<P.length;U+=1)P[U]===C&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var w=c.length;for(x=0;x<w;x+=1)n[c[x]].value=n[c[x]].defaultValue,n[c[x]].explicitSet=!1}if(Yt(e)==="object"){for(o in e)if(s=e[o],b(c,o)&&s!==void 0){if(n[o].type==="boolean"&&typeof s=="boolean")n[o].value=s;else if(n[o].type==="name"&&b(n[o].valueSet,s))n[o].value=s;else if(n[o].type==="integer"&&Number.isInteger(s))n[o].value=s;else if(n[o].type==="array"){for(p=0;p<s.length;p+=1)if(r=!0,s[p].length===1&&typeof s[p][0]=="number")h.push(String(s[p]-1));else if(s[p].length>1){for(v=0;v<s[p].length;v+=1)typeof s[p][v]!="number"&&(r=!1);r===!0&&h.push([s[p][0]-1,s[p][1]-1].join(" "))}n[o].value="["+h.join(" ")+"]"}else n[o].value=n[o].defaultValue;n[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var P,C=[];for(P in n)n[P].explicitSet===!0&&(n[P].type==="name"?C.push("/"+P+" /"+n[P].value):C.push("/"+P+" "+n[P].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),p=s.length+l.length+c.length+o.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(o+s+l+c+h),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(dt.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,l){for(var c,h=l.metadata.Unicode.widths,p=["","0","00","000","0000"],v=[""],x=0,b=s.length;x<b;++x){if(c=l.metadata.characterToGlyph(s.charCodeAt(x)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=s.charCodeAt(x),h.indexOf(c)==-1&&(h.push(c),h.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return v.join("");c=c.toString(16),v.push(p[4-c.length],c)}return v.join("")},r=function(s){var l,c,h,p,v,x,b;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],x=0,b=(c=Object.keys(s).sort(function(w,P){return w-P})).length;x<b;x++)l=c[x],h.length>=100&&(v+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),s[l]!==void 0&&s[l]!==null&&typeof s[l].toString=="function"&&(p=("0000"+s[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+p+">"));return h.length&&(v+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),v+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(l){var c=l.font,h=l.out,p=l.newObject,v=l.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var x=c.metadata.Unicode.widths,b=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),w="",P=0;P<b.length;P++)w+=String.fromCharCode(b[P]);var C=p();v({data:w,addLength1:!0,objectId:C}),h("endobj");var U=p();v({data:r(c.metadata.toUnicode),addLength1:!0,objectId:U}),h("endobj");var S=p();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Ol(c.fontName)),h("/FontFile2 "+C+" 0 R"),h("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),h("/Flags "+c.metadata.flags),h("/StemV "+c.metadata.stemV),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h(">>"),h("endobj");var A=p();h("<<"),h("/Type /Font"),h("/BaseFont /"+Ol(c.fontName)),h("/FontDescriptor "+S+" 0 R"),h("/W "+e.API.PDFObject.convert(x)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+c.encoding+")"),h(">>"),h(">>"),h("endobj"),c.objectNumber=p(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+U+" 0 R"),h("/BaseFont /"+Ol(c.fontName)),h("/Encoding /"+c.encoding),h("/DescendantFonts ["+A+" 0 R]"),h(">>"),h("endobj"),c.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(l){var c=l.font,h=l.out,p=l.newObject,v=l.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var x=c.metadata.rawData,b="",w=0;w<x.length;w++)b+=String.fromCharCode(x[w]);var P=p();v({data:b,addLength1:!0,objectId:P}),h("endobj");var C=p();v({data:r(c.metadata.toUnicode),addLength1:!0,objectId:C}),h("endobj");var U=p();h("<<"),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h("/StemV "+c.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+P+" 0 R"),h("/Flags 96"),h("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),h("/FontName /"+Ol(c.fontName)),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h(">>"),h("endobj"),c.objectNumber=p();for(var S=0;S<c.metadata.hmtx.widths.length;S++)c.metadata.hmtx.widths[S]=parseInt(c.metadata.hmtx.widths[S]*(1e3/c.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+Ol(c.fontName)+"/FontDescriptor "+U+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),h("endobj"),c.isAlreadyPutted=!0}})(s)}]);var o=function(s){var l,c=s.text||"",h=s.x,p=s.y,v=s.options||{},x=s.mutex||{},b=x.pdfEscape,w=x.activeFontKey,P=x.fonts,C=w,U="",S=0,A="",F=P[C].encoding;if(P[C].encoding!=="Identity-H")return{text:c,x:h,y:p,options:v,mutex:x};for(A=c,C=w,Array.isArray(c)&&(A=c[0]),S=0;S<A.length;S+=1)P[C].metadata.hasOwnProperty("cmap")&&(l=P[C].metadata.cmap.unicode.codeMap[A[S].charCodeAt(0)]),l||A[S].charCodeAt(0)<256&&P[C].metadata.hasOwnProperty("Unicode")?U+=A[S]:U+="";var J="";return parseInt(C.slice(1))<14||F==="WinAnsiEncoding"?J=b(U,C).split("").map(function(ie){return ie.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(J=n(U,P[C])),x.isHex=!0,{text:J,x:h,y:p,options:v,mutex:x}};t.events.push(["postProcessText",function(s){var l=s.text||"",c=[],h={text:l,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(l)){var p=0;for(p=0;p<l.length;p+=1)Array.isArray(l[p])&&l[p].length===3?c.push([o(Object.assign({},h,{text:l[p][0]})).text,l[p][1],l[p][2]]):c.push(o(Object.assign({},h,{text:l[p]})).text);s.text=c}else s.text=o(Object.assign({},h,{text:l})).text}])}(dt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(dt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var o,s,l,c,h,p,v,x=t,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},U=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,F=0;this.__bidiEngine__={};var J=function(O){var R=O.charCodeAt(),ne=R>>8,Q=C[ne];return Q!==void 0?x[256*Q+(255&R)]:ne===252||ne===253?"AL":S.test(ne)?"L":ne===8?"R":"N"},ie=function(O){for(var R,ne=0;ne<O.length;ne++){if((R=J(O.charAt(ne)))==="L")return!1;if(R==="R")return!0}return!1},H=function(O,R,ne,Q){var we,fe,ve,K,ae=R[Q];switch(ae){case"L":case"R":A=!1;break;case"N":case"AN":break;case"EN":A&&(ae="AN");break;case"AL":A=!0,ae="R";break;case"WS":ae="N";break;case"CS":Q<1||Q+1>=R.length||(we=ne[Q-1])!=="EN"&&we!=="AN"||(fe=R[Q+1])!=="EN"&&fe!=="AN"?ae="N":A&&(fe="AN"),ae=fe===we?fe:"N";break;case"ES":ae=(we=Q>0?ne[Q-1]:"B")==="EN"&&Q+1<R.length&&R[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&ne[Q-1]==="EN"){ae="EN";break}if(A){ae="N";break}for(ve=Q+1,K=R.length;ve<K&&R[ve]==="ET";)ve++;ae=ve<K&&R[ve]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(K=R.length,ve=Q+1;ve<K&&R[ve]==="NSM";)ve++;if(ve<K){var se=O[Q],_e=se>=1425&&se<=2303||se===64286;if(we=R[ve],_e&&(we==="R"||we==="AL")){ae="R";break}}}ae=Q<1||(we=R[Q-1])==="B"?"N":ne[Q-1];break;case"B":A=!1,o=!0,ae=F;break;case"S":s=!0,ae="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"BN":ae="N"}return ae},Z=function(O,R,ne){var Q=O.split("");return ne&&j(Q,ne,{hiLevel:F}),Q.reverse(),R&&R.reverse(),Q.join("")},j=function(O,R,ne){var Q,we,fe,ve,K,ae=-1,se=O.length,_e=0,E=[],T=F?w:b,G=[];for(A=!1,o=!1,s=!1,we=0;we<se;we++)G[we]=J(O[we]);for(fe=0;fe<se;fe++){if(K=_e,E[fe]=H(O,G,E,fe),Q=240&(_e=T[K][P[E[fe]]]),_e&=15,R[fe]=ve=T[_e][5],Q>0)if(Q===16){for(we=ae;we<fe;we++)R[we]=1;ae=-1}else ae=-1;if(T[_e][6])ae===-1&&(ae=fe);else if(ae>-1){for(we=ae;we<fe;we++)R[we]=ve;ae=-1}G[fe]==="B"&&(R[fe]=0),ne.hiLevel|=ve}s&&function(ee,re,pe){for(var he=0;he<pe;he++)if(ee[he]==="S"){re[he]=F;for(var me=he-1;me>=0&&ee[me]==="WS";me--)re[me]=F}}(G,R,se)},z=function(O,R,ne,Q,we){if(!(we.hiLevel<O)){if(O===1&&F===1&&!o)return R.reverse(),void(ne&&ne.reverse());for(var fe,ve,K,ae,se=R.length,_e=0;_e<se;){if(Q[_e]>=O){for(K=_e+1;K<se&&Q[K]>=O;)K++;for(ae=_e,ve=K-1;ae<ve;ae++,ve--)fe=R[ae],R[ae]=R[ve],R[ve]=fe,ne&&(fe=ne[ae],ne[ae]=ne[ve],ne[ve]=fe);_e=K}_e++}}},V=function(O,R,ne){var Q=O.split(""),we={hiLevel:F};return ne||(ne=[]),j(Q,ne,we),function(fe,ve,K){if(K.hiLevel!==0&&v)for(var ae,se=0;se<fe.length;se++)ve[se]===1&&(ae=U.indexOf(fe[se]))>=0&&(fe[se]=U[ae+1])}(Q,ne,we),z(2,Q,R,ne,we),z(1,Q,R,ne,we),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(O,R,ne){if(function(we,fe){if(fe)for(var ve=0;ve<we.length;ve++)fe[ve]=ve;c===void 0&&(c=ie(we)),p===void 0&&(p=ie(we))}(O,R),l||!h||p)if(l&&h&&c^p)F=c?1:0,O=Z(O,R,ne);else if(!l&&h&&p)F=c?1:0,O=V(O,R,ne),O=Z(O,R);else if(!l||c||h||p){if(l&&!h&&c^p)O=Z(O,R),c?(F=0,O=V(O,R,ne)):(F=1,O=V(O,R,ne),O=Z(O,R));else if(l&&c&&!h&&p)F=1,O=V(O,R,ne),O=Z(O,R);else if(!l&&!h&&c^p){var Q=v;c?(F=1,O=V(O,R,ne),F=0,v=!1,O=V(O,R,ne),v=Q):(F=0,O=V(O,R,ne),O=Z(O,R),F=1,v=!1,O=V(O,R,ne),v=Q,O=Z(O,R))}}else F=0,O=V(O,R,ne);else F=c?1:0,O=V(O,R,ne);return O},this.__bidiEngine__.setOptions=function(O){O&&(l=O.isInputVisual,h=O.isOutputVisual,c=O.isInputRtl,p=O.isOutputRtl,v=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var o=r.text,s=(r.x,r.y,r.options||{}),l=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(o)==="[object Array]"){var c=0;for(l=[],c=0;c<o.length;c+=1)Object.prototype.toString.call(o[c])==="[object Array]"?l.push([n.doBidiReorder(o[c][0]),o[c][1],o[c][2]]):l.push([n.doBidiReorder(o[c])]);r.text=l}else r.text=n.doBidiReorder(o);n.setOptions({isInputVisual:!0})}])}(dt),dt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new da(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Bw(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new kw(this.contents),this.head=new Aw(this),this.name=new Ow(this),this.cmap=new Gv(this),this.toUnicode={},this.hhea=new jw(this),this.maxp=new Iw(this),this.hmtx=new Mw(this),this.post=new Ew(this),this.os2=new Cw(this),this.loca=new Dw(this),this.glyf=new Rw(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,o,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,h,p;for(p=[],l=0,c=(h=this.bbox).length;l<c;l++)t=h[l],p.push(Math.round(t*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(r=255&(o=this.post.italic_angle),32768&(n=o>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var o,s,l,c;for(l=0,s=0,c=(t=""+t).length;0<=c?s<c:s>c;s=0<=c?++s:--s)o=t.charCodeAt(s),l+=this.widthOfGlyph(this.characterToGlyph(o))+r*(1e3/n)||0;return l*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var go,da=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,o;for(o=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)o.push(this.writeByte(t.charCodeAt(n)));return o},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,o,s,l,c,h;return t=this.readByte(),n=this.readByte(),r=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^o)+16777216*(255^s)+65536*(255^l)+256*(255^c)+(255^h)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*o+16777216*s+65536*l+256*c+h},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,o,s;for(s=[],r=0,o=t.length;r<o;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),kw=function(){var e;function t(n){var r,o,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},o=0,s=this.tableCount;0<=s?o<s:o>s;o=0<=s?++o:--o)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,o,s,l,c,h,p,v,x,b,w,P,C;for(C in w=Object.keys(n).length,h=Math.log(2),x=16*Math.floor(Math.log(w)/h),l=Math.floor(x/h),v=16*w-x,(o=new da).writeInt(this.scalarType),o.writeShort(w),o.writeShort(x),o.writeShort(l),o.writeShort(v),s=16*w,p=o.pos+s,c=null,P=[],n)for(b=n[C],o.writeString(C),o.writeInt(e(b)),o.writeInt(p),o.writeInt(b.length),P=P.concat(b),C==="head"&&(c=p),p+=b.length;p%4;)P.push(0),p++;return o.write(P),r=2981146554-e(o.data),o.pos=c+8,o.writeUInt32(r),o.data},e=function(n){var r,o,s,l;for(n=Kv.call(n);n.length%4;)n.push(0);for(s=new da(n),o=0,r=0,l=n.length;r<l;r=r+=4)o+=s.readUInt32();return 4294967295&o},t}(),Pw={}.hasOwnProperty,$o=function(e,t){for(var n in t)Pw.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};go=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Aw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,go),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new da).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),Y1=function(){function e(t,n){var r,o,s,l,c,h,p,v,x,b,w,P,C,U,S,A,F;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),x=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(w=t.readUInt16(),b=w/2,t.pos+=6,s=function(){var J,ie;for(ie=[],h=J=0;0<=b?J<b:J>b;h=0<=b?++J:--J)ie.push(t.readUInt16());return ie}(),t.pos+=2,C=function(){var J,ie;for(ie=[],h=J=0;0<=b?J<b:J>b;h=0<=b?++J:--J)ie.push(t.readUInt16());return ie}(),p=function(){var J,ie;for(ie=[],h=J=0;0<=b?J<b:J>b;h=0<=b?++J:--J)ie.push(t.readUInt16());return ie}(),v=function(){var J,ie;for(ie=[],h=J=0;0<=b?J<b:J>b;h=0<=b?++J:--J)ie.push(t.readUInt16());return ie}(),o=(this.length-t.pos+this.offset)/2,c=function(){var J,ie;for(ie=[],h=J=0;0<=o?J<o:J>o;h=0<=o?++J:--J)ie.push(t.readUInt16());return ie}(),h=S=0,F=s.length;S<F;h=++S)for(U=s[h],r=A=P=C[h];P<=U?A<=U:A>=U;r=P<=U?++A:--A)v[h]===0?l=r+p[h]:(l=c[v[h]/2+(r-P)-(b-h)]||0)!==0&&(l+=p[h]),this.codeMap[r]=65535&l}t.pos=x}return e.encode=function(t,n){var r,o,s,l,c,h,p,v,x,b,w,P,C,U,S,A,F,J,ie,H,Z,j,z,V,O,R,ne,Q,we,fe,ve,K,ae,se,_e,E,T,G,ee,re,pe,he,me,Oe,ke,Be;switch(Q=new da,l=Object.keys(t).sort(function(Ue,Ze){return Ue-Ze}),n){case"macroman":for(C=0,U=function(){var Ue=[];for(P=0;P<256;++P)Ue.push(0);return Ue}(),A={0:0},s={},we=0,ae=l.length;we<ae;we++)A[me=t[o=l[we]]]==null&&(A[me]=++C),s[o]={old:t[o],new:A[t[o]]},U[o]=A[t[o]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(U),{charMap:s,subtable:Q.data,maxGlyphID:C+1};case"unicode":for(R=[],x=[],F=0,A={},r={},S=p=null,fe=0,se=l.length;fe<se;fe++)A[ie=t[o=l[fe]]]==null&&(A[ie]=++F),r[o]={old:ie,new:A[ie]},c=A[ie]-o,S!=null&&c===p||(S&&x.push(S),R.push(o),p=c),S=o;for(S&&x.push(S),x.push(65535),R.push(65535),V=2*(z=R.length),j=2*Math.pow(Math.log(z)/Math.LN2,2),b=Math.log(j/2)/Math.LN2,Z=2*z-j,h=[],H=[],w=[],P=ve=0,_e=R.length;ve<_e;P=++ve){if(O=R[P],v=x[P],O===65535){h.push(0),H.push(0);break}if(O-(ne=r[O].new)>=32768)for(h.push(0),H.push(2*(w.length+z-P)),o=K=O;O<=v?K<=v:K>=v;o=O<=v?++K:--K)w.push(r[o].new);else h.push(ne-O),H.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*z+2*w.length),Q.writeUInt16(0),Q.writeUInt16(V),Q.writeUInt16(j),Q.writeUInt16(b),Q.writeUInt16(Z),pe=0,E=x.length;pe<E;pe++)o=x[pe],Q.writeUInt16(o);for(Q.writeUInt16(0),he=0,T=R.length;he<T;he++)o=R[he],Q.writeUInt16(o);for(Oe=0,G=h.length;Oe<G;Oe++)c=h[Oe],Q.writeUInt16(c);for(ke=0,ee=H.length;ke<ee;ke++)J=H[ke],Q.writeUInt16(J);for(Be=0,re=w.length;Be<re;Be++)C=w[Be],Q.writeUInt16(C);return{charMap:r,subtable:Q.data,maxGlyphID:F+1}}},e}(),Gv=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,go),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,o,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)r=new Y1(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var o,s;return r==null&&(r="macroman"),o=Y1.encode(n,r),(s=new da).writeUInt16(0),s.writeUInt16(1),o.table=s.data.concat(o.subtable),o},t}(),jw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,go),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),Cw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,go),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,o;for(o=[],r=0;r<10;++r)o.push(n.readByte());return o}(),this.charRange=function(){var r,o;for(o=[],r=0;r<4;++r)o.push(n.readInt());return o}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,o;for(o=[],r=0;r<2;r=++r)o.push(n.readInt());return o}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),Ew=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,go),t.prototype.tag="post",t.prototype.parse=function(n){var r,o,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var l;for(o=n.readUInt16(),this.glyphNameIndex=[],l=0;0<=o?l<o:l>o;l=0<=o?++l:--l)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return o=n.readUInt16(),this.offsets=n.read(o);case 196608:break;case 262144:return this.map=(function(){var c,h,p;for(p=[],l=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;l=0<=h?++c:--c)p.push(n.readUInt32());return p}).call(this)}},t}(),Tw=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Ow=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,go),t.prototype.tag="name",t.prototype.parse=function(n){var r,o,s,l,c,h,p,v,x,b,w;for(n.pos=this.offset,n.readShort(),r=n.readShort(),h=n.readShort(),o=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)o.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+h+n.readShort()});for(p={},l=x=0,b=o.length;x<b;l=++x)s=o[l],n.pos=s.offset,v=n.readString(s.length),c=new Tw(v,s),p[w=s.nameID]==null&&(p[w]=[]),p[s.nameID].push(c);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},t}(),Iw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,go),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),Mw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,go),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,o,s,l,c,h,p;for(n.pos=this.offset,this.metrics=[],r=0,h=this.file.hhea.numberOfMetrics;0<=h?r<h:r>h;r=0<=h?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var v,x;for(x=[],r=v=0;0<=s?v<s:v>s;r=0<=s?++v:--v)x.push(n.readInt16());return x}(),this.widths=(function(){var v,x,b,w;for(w=[],v=0,x=(b=this.metrics).length;v<x;v++)l=b[v],w.push(l.advance);return w}).call(this),o=this.widths[this.widths.length-1],p=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)p.push(this.widths.push(o));return p},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),Kv=[].slice,Rw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,go),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,o,s,l,c,h,p,v,x,b;return n in this.cache?this.cache[n]:(l=this.file.loca,r=this.file.contents,o=l.indexOf(n),(s=l.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+o,c=(h=new da(r.read(s))).readShort(),v=h.readShort(),b=h.readShort(),p=h.readShort(),x=h.readShort(),this.cache[n]=c===-1?new zw(h,v,b,p,x):new Fw(h,c,v,b,p,x),this.cache[n]))},t.prototype.encode=function(n,r,o){var s,l,c,h,p;for(c=[],l=[],h=0,p=r.length;h<p;h++)s=n[r[h]],l.push(c.length),s&&(c=c.concat(s.encode(o)));return l.push(c.length),{table:c,offsets:l}},t}(),Fw=function(){function e(t,n,r,o,s,l){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=o,this.xMax=s,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),zw=function(){function e(t,n,r,o,s){var l,c;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=o,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new da(Kv.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Dw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,go),t.prototype.tag="loca",t.prototype.parse=function(n){var r,o;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,l;for(l=[],o=0,s=this.length;o<s;o+=2)l.push(2*n.readUInt16());return l}).call(this):(function(){var s,l;for(l=[],o=0,s=this.length;o<s;o+=4)l.push(n.readUInt32());return l}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var o=new Uint32Array(this.offsets.length),s=0,l=0,c=0;c<o.length;++c)if(o[c]=s,l<r.length&&r[l]==c){++l,o[c]=s;var h=this.offsets[c],p=this.offsets[c+1]-h;p>0&&(s+=p)}for(var v=new Array(4*o.length),x=0;x<o.length;++x)v[4*x+3]=255&o[x],v[4*x+2]=(65280&o[x])>>8,v[4*x+1]=(16711680&o[x])>>16,v[4*x]=(4278190080&o[x])>>24;return v},t}(),Bw=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,o,s;for(n in o=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=o[r];return t},e.prototype.glyphsFor=function(t){var n,r,o,s,l,c,h;for(o={},l=0,c=t.length;l<c;l++)o[s=t[l]]=this.font.glyf.glyphFor(s);for(s in n=[],o)(r=o[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in h=this.glyphsFor(n))r=h[s],o[s]=r;return o},e.prototype.encode=function(t,n){var r,o,s,l,c,h,p,v,x,b,w,P,C,U,S;for(o in r=Gv.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),w={0:0},S=r.charMap)w[(h=S[o]).old]=h.new;for(P in b=r.maxGlyphID,l)P in w||(w[P]=b++);return v=function(A){var F,J;for(F in J={},A)J[A[F]]=F;return J}(w),x=Object.keys(v).sort(function(A,F){return A-F}),C=function(){var A,F,J;for(J=[],A=0,F=x.length;A<F;A++)c=x[A],J.push(v[c]);return J}(),s=this.font.glyf.encode(l,C,w),p=this.font.loca.encode(s.offsets,C),U={cmap:this.font.cmap.raw(),glyf:s.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(U["OS/2"]=this.font.os2.raw()),this.font.directory.encode(U)},e}();dt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,o,s,l;if(Array.isArray(n))return"["+function(){var c,h,p;for(p=[],c=0,h=n.length;c<h;c++)r=n[c],p.push(t.convert(r));return p}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(o in s=["<<"],n)l=n[o],s.push("/"+o+" "+t.convert(l));return s.push(">>"),s.join(`
`)}return""+n},t}();var Jv={exports:{}};(function(e,t){(function(n,r){r()})(Ua,function(){function n(p,v){return typeof v>"u"?v={autoBom:!1}:typeof v!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),v={autoBom:!v}),v.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\uFEFF",p],{type:p.type}):p}function r(p,v,x){var b=new XMLHttpRequest;b.open("GET",p),b.responseType="blob",b.onload=function(){h(b.response,v,x)},b.onerror=function(){console.error("could not download file")},b.send()}function o(p){var v=new XMLHttpRequest;v.open("HEAD",p,!1);try{v.send()}catch{}return 200<=v.status&&299>=v.status}function s(p){try{p.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),p.dispatchEvent(v)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ua=="object"&&Ua.global===Ua?Ua:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(p,v,x){var b=l.URL||l.webkitURL,w=document.createElement("a");v=v||p.name||"download",w.download=v,w.rel="noopener",typeof p=="string"?(w.href=p,w.origin===location.origin?s(w):o(w.href)?r(p,v,x):s(w,w.target="_blank")):(w.href=b.createObjectURL(p),setTimeout(function(){b.revokeObjectURL(w.href)},4e4),setTimeout(function(){s(w)},0))}:"msSaveOrOpenBlob"in navigator?function(p,v,x){if(v=v||p.name||"download",typeof p!="string")navigator.msSaveOrOpenBlob(n(p,x),v);else if(o(p))r(p,v,x);else{var b=document.createElement("a");b.href=p,b.target="_blank",setTimeout(function(){s(b)})}}:function(p,v,x,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof p=="string")return r(p,v,x);var w=p.type==="application/octet-stream",P=/constructor/i.test(l.HTMLElement)||l.safari,C=/CriOS\/[\d]+/.test(navigator.userAgent);if((C||w&&P||c)&&typeof FileReader<"u"){var U=new FileReader;U.onloadend=function(){var F=U.result;F=C?F:F.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=F:location=F,b=null},U.readAsDataURL(p)}else{var S=l.URL||l.webkitURL,A=S.createObjectURL(p);b?b.location=A:location.href=A,b=null,setTimeout(function(){S.revokeObjectURL(A)},4e4)}});l.saveAs=h.saveAs=h,e.exports=h})})(Jv);var X1=Jv.exports;const $p={async exportToCSV(e,t){const n={school:"Школы",hospital:"Больницы",fire_station:"Пожарные станции"},r=e.map((c,h)=>({Номер:h+1,"Тип учреждения":n[t]||t,Широта:c.coordinates[0].toFixed(6),Долгота:c.coordinates[1].toFixed(6),"Оценка (%)":(c.score*100).toFixed(1),"Ожидаемый охват (чел.)":c.estimated_coverage||"N/A","Дата создания":new Date().toLocaleDateString("ru-RU")})),o=qx.unparse(r,{delimiter:";",header:!0}),s=new Blob(["\uFEFF"+o],{type:"text/csv;charset=utf-8;"}),l=`recommendations_${t}_${new Date().toISOString().split("T")[0]}.csv`;X1.saveAs(s,l)},async exportToPDF(e,t,n){var h,p;const r={school:"школ",hospital:"больниц",fire_station:"пожарных станций"},o=new dt;o.setFont("helvetica"),o.setFontSize(20),o.text("InfraMap - Отчёт по анализу",20,30),o.setFontSize(16),o.text(`Размещение ${r[n]}`,20,45),o.setFontSize(10),o.text(`Дата создания: ${new Date().toLocaleDateString("ru-RU")}`,20,55),o.setFontSize(14),o.text("Основные показатели:",20,75),o.setFontSize(12);let s=90;o.text(`• Количество рекомендуемых точек: ${e.new_points_count}`,25,s),s+=15,o.text(`• Улучшение покрытия: +${(h=e.coverage_improvement)==null?void 0:h.toFixed(1)}%`,25,s),s+=15,o.text(`• Дополнительно охвачено: ${(p=e.people_covered)==null?void 0:p.toLocaleString()} человек`,25,s),s+=25,o.setFontSize(14),o.text("Рекомендуемые точки размещения:",20,s),s+=15,o.setFontSize(10),t.forEach((v,x)=>{var b;s>250&&(o.addPage(),s=30),o.text(`${x+1}. Координаты: ${v.coordinates[0].toFixed(4)}, ${v.coordinates[1].toFixed(4)}`,25,s),s+=10,o.text(`   Оценка: ${(v.score*100).toFixed(1)}% | Охват: ~${((b=v.estimated_coverage)==null?void 0:b.toLocaleString())||"N/A"} чел.`,25,s),s+=15});const l=o.internal.getNumberOfPages();for(let v=1;v<=l;v++)o.setPage(v),o.setFontSize(8),o.text(`Страница ${v} из ${l}`,20,285),o.text("Создано с помощью InfraMap",150,285);const c=`inframap_report_${n}_${new Date().toISOString().split("T")[0]}.pdf`;o.save(c)},async exportPresentationData(e,t,n){const r={metadata:{facilityType:n,generatedAt:new Date().toISOString(),version:"1.0"},statistics:e,recommendations:t.map(l=>({coordinates:l.coordinates,score:l.score,estimated_coverage:l.estimated_coverage,type:l.type}))},o=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),s=`inframap_data_${n}_${new Date().toISOString().split("T")[0]}.json`;X1.saveAs(o,s)}},qw=({statistics:e,recommendations:t,facilityType:n})=>{const[r,o]=st.useState(!1),s=()=>{$p.exportToCSV(t,`рекомендации_${n}`)},l=()=>{$p.exportToPDF(e,t,n)};if(!e)return null;const c={all:"всех учреждений",school:"школ",hospital:"больниц",fire_station:"пожарных станций"},h=[{key:"coverage",label:"Покрытие",value:`${e.current_coverage||68.5}%`,icon:Ql,color:"text-green-600",bgColor:"bg-green-50"},{key:"avg_distance",label:"Средняя дистанция",value:`${e.avg_distance||2.3} км`,icon:vc,color:"text-blue-600",bgColor:"bg-blue-50"},{key:"recommendations",label:"Рекомендаций",value:(t==null?void 0:t.length)||0,icon:yc,color:"text-purple-600",bgColor:"bg-purple-50"}];return y.jsxs("div",{className:"bg-white",children:[y.jsx("div",{className:"p-4",children:y.jsxs("button",{onClick:()=>o(!r),className:"w-full flex items-center justify-between text-left",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Результаты анализа"}),y.jsxs("p",{className:"text-xs text-gray-600",children:["Анализ размещения ",c[n]]})]}),r?y.jsx(Nx,{className:"w-4 h-4"}):y.jsx(kx,{className:"w-4 h-4"})]})}),r&&y.jsxs("div",{className:"px-4 pb-4 space-y-4 animate-fadeInUp",children:[y.jsx("div",{className:"grid grid-cols-3 gap-2",children:h.map(p=>{const v=p.icon;return y.jsxs("div",{className:`${p.bgColor} rounded-lg p-3 text-center transition-all hover:scale-105 hover-lift`,children:[y.jsx("div",{className:"flex items-center justify-center mb-1",children:y.jsx(v,{className:`w-4 h-4 ${p.color}`})}),y.jsx("div",{className:`text-sm font-bold ${p.color}`,children:p.value}),y.jsx("div",{className:"text-xs text-gray-600",children:p.label})]},p.key)})}),t&&t.length>0&&y.jsxs("div",{className:"space-y-3",children:[y.jsxs("h4",{className:"text-xs font-semibold text-gray-700 flex items-center",children:[y.jsx(Ql,{className:"w-3 h-3 mr-1"}),"Умные рекомендации (",t.length,")"]}),y.jsx("div",{className:"grid grid-cols-3 gap-1 text-xs",children:["high","medium","low"].map(p=>{const v=t.filter(w=>w.priority===p).length,x={high:"bg-red-100 text-red-700",medium:"bg-yellow-100 text-yellow-700",low:"bg-green-100 text-green-700"},b={high:"Критич.",medium:"Средн.",low:"Низк."};return y.jsxs("div",{className:`${x[p]} rounded p-1 text-center`,children:[y.jsx("div",{className:"font-semibold",children:v}),y.jsx("div",{className:"text-xs opacity-80",children:b[p]})]},p)})}),y.jsx("div",{className:"space-y-2",children:t.sort((p,v)=>{const x={high:3,medium:2,low:1};return(x[v.priority]||2)-(x[p.priority]||2)}).slice(0,4).map((p,v)=>{var w,P,C,U,S;const x={high:"border-red-300 bg-red-50",medium:"border-yellow-300 bg-yellow-50",low:"border-green-300 bg-green-50"},b={high:"🚨",medium:"⚠️",low:"💡"};return y.jsxs("div",{className:`${x[p.priority]||"border-gray-300 bg-gray-50"} border rounded-lg p-2 text-xs hover:shadow-sm transition-all cursor-pointer`,children:[y.jsxs("div",{className:"flex items-start justify-between mb-2",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("span",{children:b[p.priority]||"📍"}),y.jsxs("span",{className:"font-semibold text-gray-900",children:["#",v+1]})]}),y.jsxs("div",{className:"text-xs font-bold text-blue-600",children:[Math.round((p.score||.85)*100),"%"]})]}),p.recommendation&&y.jsx("div",{className:"font-medium text-gray-800 mb-1 line-clamp-2",children:p.recommendation}),y.jsx("div",{className:"text-gray-600 mb-2",children:p.reason||"Необходимость размещения объекта"}),y.jsxs("div",{className:"flex justify-between items-center text-xs",children:[y.jsxs("div",{className:"text-gray-500",children:["📍 ",(P=(w=p.coordinates)==null?void 0:w[0])==null?void 0:P.toFixed(3),", ",(U=(C=p.coordinates)==null?void 0:C[1])==null?void 0:U.toFixed(3)]}),y.jsxs("div",{className:"text-green-600 font-medium",children:["+",(p.estimated_coverage||15e3).toLocaleString()," чел."]})]}),((S=p.detailedAnalysis)==null?void 0:S.benefits)&&p.detailedAnalysis.benefits.length>0&&y.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200",children:y.jsxs("div",{className:"text-xs text-gray-600",children:["✅ ",p.detailedAnalysis.benefits[0],p.detailedAnalysis.benefits.length>1&&` и ещё ${p.detailedAnalysis.benefits.length-1}...`]})})]},v)})}),t.length>0&&y.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2",children:[y.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-700 font-semibold mb-1",children:[y.jsx(Ql,{className:"w-3 h-3"}),"Анализ эффективности"]}),y.jsxs("div",{className:"text-xs text-blue-600",children:["При реализации всех рекомендаций ожидается улучшение покрытия на"," ",y.jsxs("span",{className:"font-bold",children:["+",Math.round(t.reduce((p,v)=>p+(v.score||.85)*5,0)),"%"]})," ","и обслуживание дополнительно"," ",y.jsxs("span",{className:"font-bold",children:[t.reduce((p,v)=>p+(v.estimated_coverage||15e3),0).toLocaleString()," человек"]})]})]})]}),y.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[y.jsx("h4",{className:"text-xs font-semibold text-gray-700",children:"Дополнительная информация"}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-600",children:"Население:"}),y.jsx("span",{className:"font-medium",children:(e.total_population||85e4).toLocaleString()})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-600",children:"Плотность:"}),y.jsx("span",{className:"font-medium",children:e.population_density||"2.3к/км²"})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-600",children:"Недоступных зон:"}),y.jsx("span",{className:"font-medium text-red-600",children:e.uncovered_areas||12})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-600",children:"Время анализа:"}),y.jsx("span",{className:"font-medium",children:e.analysis_time||"2.3с"})]})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[y.jsxs("button",{onClick:s,className:"flex items-center justify-center space-x-1 py-2 px-3 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-xs font-medium",children:[y.jsx(Sf,{className:"w-3 h-3"}),y.jsx("span",{children:"CSV"})]}),y.jsxs("button",{onClick:l,className:"flex items-center justify-center space-x-1 py-2 px-3 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-xs font-medium",children:[y.jsx(jx,{className:"w-3 h-3"}),y.jsx("span",{children:"PDF"})]})]}),y.jsxs("button",{className:"w-full flex items-center justify-center space-x-1 py-2 text-xs text-primary-600 hover:text-primary-700 transition-colors",children:[y.jsx(xx,{className:"w-3 h-3"}),y.jsx("span",{children:"Подробный отчет"}),y.jsx(Ax,{className:"w-3 h-3"})]})]})]})},Uw=({isOpen:e,onClose:t,statistics:n,recommendations:r,facilityType:o})=>{var b,w,P;const[s,l]=st.useState(0);if(!e||!n)return null;const c={school:"школ",hospital:"больниц",fire_station:"пожарных станций"},h=[{title:"Обзор анализа",content:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"text-center",children:[y.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Анализ размещения ",c[o]]}),y.jsx("p",{className:"text-gray-600",children:"Результаты пространственного анализа и рекомендации по оптимальному размещению"})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[y.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[y.jsx(vc,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),y.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.new_points_count}),y.jsx("div",{className:"text-sm text-gray-600",children:"Новых точек"})]}),y.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[y.jsx(yc,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),y.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["+",(b=n.coverage_improvement)==null?void 0:b.toFixed(1),"%"]}),y.jsx("div",{className:"text-sm text-gray-600",children:"Улучшение покрытия"})]}),y.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[y.jsx(Cp,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),y.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(w=n.people_covered)==null?void 0:w.toLocaleString()}),y.jsx("div",{className:"text-sm text-gray-600",children:"Человек охвачено"})]})]})]})},{title:"Проблемные зоны",content:y.jsxs("div",{className:"space-y-6",children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Выявленные проблемные зоны"}),y.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[y.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Зоны с недостаточным покрытием"}),y.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[y.jsx("li",{children:"• Районы с высокой плотностью населения"}),y.jsx("li",{children:"• Удалённые от существующих учреждений"}),y.jsx("li",{children:"• Время доезда превышает установленные нормативы"})]})]}),y.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[y.jsx("h4",{className:"font-medium text-amber-900 mb-2",children:"Критерии выявления"}),y.jsxs("ul",{className:"text-sm text-amber-800 space-y-1",children:[y.jsx("li",{children:"• Анализ плотности населения"}),y.jsx("li",{children:"• Расчёт времени доезда до ближайших учреждений"}),y.jsx("li",{children:"• Оценка транспортной доступности"})]})]})]})},{title:"Рекомендуемые точки",content:y.jsxs("div",{className:"space-y-6",children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Предложенные места размещения"}),y.jsx("div",{className:"max-h-64 overflow-y-auto space-y-3",children:r.map((C,U)=>{var S;return y.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{children:[y.jsxs("h4",{className:"font-medium text-gray-900",children:["Точка #",U+1]}),y.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Координаты: ",C.coordinates[0].toFixed(4),", ",C.coordinates[1].toFixed(4)]})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[(C.score*100).toFixed(0),"%"]}),y.jsx("div",{className:"text-xs text-gray-500",children:"Оценка"})]})]}),y.jsxs("div",{className:"mt-3 flex items-center justify-between text-sm",children:[y.jsxs("span",{className:"text-gray-600",children:["Ожидаемый охват: ~",((S=C.estimated_coverage)==null?void 0:S.toLocaleString())||"N/A"," чел."]}),y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),y.jsx("span",{className:"text-purple-600 text-xs",children:"Высокий приоритет"})]})]})]},C.id||U)})})]})},{title:"Сравнение до/после",content:y.jsxs("div",{className:"space-y-6",children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Сравнительный анализ"}),y.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"font-medium text-gray-700",children:"До оптимизации"}),y.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"text-2xl font-bold text-red-600 mb-1",children:[(100-(n.coverage_improvement||0)).toFixed(1),"%"]}),y.jsx("div",{className:"text-sm text-red-700",children:"Покрытие населения"})]})}),y.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[y.jsx("li",{children:"• Неравномерное распределение"}),y.jsx("li",{children:"• Большие пробелы в покрытии"}),y.jsx("li",{children:"• Превышение нормативов доезда"})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"font-medium text-gray-700",children:"После оптимизации"}),y.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"text-2xl font-bold text-green-600 mb-1",children:[(100-(n.coverage_improvement||0)+(n.coverage_improvement||0)).toFixed(1),"%"]}),y.jsx("div",{className:"text-sm text-green-700",children:"Покрытие населения"})]})}),y.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[y.jsx("li",{children:"• Равномерное распределение"}),y.jsx("li",{children:"• Минимизация пробелов"}),y.jsx("li",{children:"• Соблюдение нормативов"})]})]})]}),y.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:y.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[y.jsx(yc,{className:"w-5 h-5 text-blue-600"}),y.jsxs("span",{className:"font-medium text-blue-900",children:["Улучшение на ",(P=n.coverage_improvement)==null?void 0:P.toFixed(1),"%"]})]})})]})}],p=()=>{l(C=>(C+1)%h.length)},v=()=>{l(C=>(C-1+h.length)%h.length)},x=async()=>{try{await $p.exportToPDF(n,r,o)}catch(C){console.error("Ошибка экспорта отчёта:",C)}};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",style:{zIndex:1e4},children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(Sh,{className:"w-6 h-6 text-primary-600"}),y.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Отчёт по анализу"})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsxs("button",{onClick:x,className:"btn-secondary flex items-center space-x-2",children:[y.jsx(Sf,{className:"w-4 h-4"}),y.jsx("span",{children:"Экспорт PDF"})]}),y.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:y.jsx(Pv,{className:"w-5 h-5 text-gray-500"})})]})]}),y.jsx("div",{className:"flex-1 overflow-hidden",children:y.jsxs("div",{className:"h-full flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[y.jsx("div",{className:"flex space-x-2",children:h.map((C,U)=>y.jsx("button",{onClick:()=>l(U),className:`w-3 h-3 rounded-full transition-colors ${U===s?"bg-primary-600":"bg-gray-300 hover:bg-gray-400"}`},U))}),y.jsxs("div",{className:"text-sm text-gray-500",children:[s+1," из ",h.length]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[y.jsx("div",{className:"mb-4",children:y.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:h[s].title})}),h[s].content]})]})}),y.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200",children:[y.jsxs("button",{onClick:v,disabled:s===0,className:"btn-secondary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsx(Sx,{className:"w-4 h-4"}),y.jsx("span",{children:"Назад"})]}),y.jsx("div",{className:"text-sm text-gray-500",children:h[s].title}),y.jsxs("button",{onClick:p,disabled:s===h.length-1,className:"btn-secondary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsx("span",{children:"Далее"}),y.jsx(Lx,{className:"w-4 h-4"})]})]})]})})};function Yv(e,t){return function(){return e.apply(t,arguments)}}const{toString:$w}=Object.prototype,{getPrototypeOf:G0}=Object,{iterator:Af,toStringTag:Xv}=Symbol,jf=(e=>t=>{const n=$w.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),vo=e=>(e=e.toLowerCase(),t=>jf(t)===e),Cf=e=>t=>typeof t===e,{isArray:pu}=Array,xc=Cf("undefined");function Hw(e){return e!==null&&!xc(e)&&e.constructor!==null&&!xc(e.constructor)&&ai(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Qv=vo("ArrayBuffer");function Ww(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Qv(e.buffer),t}const Zw=Cf("string"),ai=Cf("function"),e5=Cf("number"),Ef=e=>e!==null&&typeof e=="object",Vw=e=>e===!0||e===!1,jh=e=>{if(jf(e)!=="object")return!1;const t=G0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Xv in e)&&!(Af in e)},Gw=vo("Date"),Kw=vo("File"),Jw=vo("Blob"),Yw=vo("FileList"),Xw=e=>Ef(e)&&ai(e.pipe),Qw=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ai(e.append)&&((t=jf(e))==="formdata"||t==="object"&&ai(e.toString)&&e.toString()==="[object FormData]"))},eb=vo("URLSearchParams"),[tb,nb,rb,ib]=["ReadableStream","Request","Response","Headers"].map(vo),ob=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),pu(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),l=s.length;let c;for(r=0;r<l;r++)c=s[r],t.call(null,e[c],c,e)}}function t5(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const Va=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,n5=e=>!xc(e)&&e!==Va;function Hp(){const{caseless:e}=n5(this)&&this||{},t={},n=(r,o)=>{const s=e&&t5(t,o)||o;jh(t[s])&&jh(r)?t[s]=Hp(t[s],r):jh(r)?t[s]=Hp({},r):pu(r)?t[s]=r.slice():t[s]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Pc(arguments[r],n);return t}const sb=(e,t,n,{allOwnKeys:r}={})=>(Pc(t,(o,s)=>{n&&ai(o)?e[s]=Yv(o,n):e[s]=o},{allOwnKeys:r}),e),ab=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),lb=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},ub=(e,t,n,r)=>{let o,s,l;const c={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),s=o.length;s-- >0;)l=o[s],(!r||r(l,e,t))&&!c[l]&&(t[l]=e[l],c[l]=!0);e=n!==!1&&G0(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},cb=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},hb=e=>{if(!e)return null;if(pu(e))return e;let t=e.length;if(!e5(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},fb=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&G0(Uint8Array)),db=(e,t)=>{const r=(e&&e[Af]).call(e);let o;for(;(o=r.next())&&!o.done;){const s=o.value;t.call(e,s[0],s[1])}},pb=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},mb=vo("HTMLFormElement"),gb=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),Q1=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),vb=vo("RegExp"),r5=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Pc(n,(o,s)=>{let l;(l=t(o,s,e))!==!1&&(r[s]=l||o)}),Object.defineProperties(e,r)},yb=e=>{r5(e,(t,n)=>{if(ai(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ai(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},_b=(e,t)=>{const n={},r=o=>{o.forEach(s=>{n[s]=!0})};return pu(e)?r(e):r(String(e).split(t)),n},xb=()=>{},wb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function bb(e){return!!(e&&ai(e.append)&&e[Xv]==="FormData"&&e[Af])}const Nb=e=>{const t=new Array(10),n=(r,o)=>{if(Ef(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const s=pu(r)?[]:{};return Pc(r,(l,c)=>{const h=n(l,o+1);!xc(h)&&(s[c]=h)}),t[o]=void 0,s}}return r};return n(e,0)},Sb=vo("AsyncFunction"),Lb=e=>e&&(Ef(e)||ai(e))&&ai(e.then)&&ai(e.catch),i5=((e,t)=>e?setImmediate:t?((n,r)=>(Va.addEventListener("message",({source:o,data:s})=>{o===Va&&s===n&&r.length&&r.shift()()},!1),o=>{r.push(o),Va.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ai(Va.postMessage)),kb=typeof queueMicrotask<"u"?queueMicrotask.bind(Va):typeof process<"u"&&process.nextTick||i5,Pb=e=>e!=null&&ai(e[Af]),je={isArray:pu,isArrayBuffer:Qv,isBuffer:Hw,isFormData:Qw,isArrayBufferView:Ww,isString:Zw,isNumber:e5,isBoolean:Vw,isObject:Ef,isPlainObject:jh,isReadableStream:tb,isRequest:nb,isResponse:rb,isHeaders:ib,isUndefined:xc,isDate:Gw,isFile:Kw,isBlob:Jw,isRegExp:vb,isFunction:ai,isStream:Xw,isURLSearchParams:eb,isTypedArray:fb,isFileList:Yw,forEach:Pc,merge:Hp,extend:sb,trim:ob,stripBOM:ab,inherits:lb,toFlatObject:ub,kindOf:jf,kindOfTest:vo,endsWith:cb,toArray:hb,forEachEntry:db,matchAll:pb,isHTMLForm:mb,hasOwnProperty:Q1,hasOwnProp:Q1,reduceDescriptors:r5,freezeMethods:yb,toObjectSet:_b,toCamelCase:gb,noop:xb,toFiniteNumber:wb,findKey:t5,global:Va,isContextDefined:n5,isSpecCompliantForm:bb,toJSONObject:Nb,isAsyncFn:Sb,isThenable:Lb,setImmediate:i5,asap:kb,isIterable:Pb};function Lt(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}je.inherits(Lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:je.toJSONObject(this.config),code:this.code,status:this.status}}});const o5=Lt.prototype,s5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{s5[e]={value:e}});Object.defineProperties(Lt,s5);Object.defineProperty(o5,"isAxiosError",{value:!0});Lt.from=(e,t,n,r,o,s)=>{const l=Object.create(o5);return je.toFlatObject(e,l,function(h){return h!==Error.prototype},c=>c!=="isAxiosError"),Lt.call(l,e.message,t,n,r,o),l.cause=e,l.name=e.name,s&&Object.assign(l,s),l};const Ab=null;function Wp(e){return je.isPlainObject(e)||je.isArray(e)}function a5(e){return je.endsWith(e,"[]")?e.slice(0,-2):e}function eg(e,t,n){return e?e.concat(t).map(function(o,s){return o=a5(o),!n&&s?"["+o+"]":o}).join(n?".":""):t}function jb(e){return je.isArray(e)&&!e.some(Wp)}const Cb=je.toFlatObject(je,{},null,function(t){return/^is[A-Z]/.test(t)});function Tf(e,t,n){if(!je.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=je.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,U){return!je.isUndefined(U[C])});const r=n.metaTokens,o=n.visitor||v,s=n.dots,l=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&je.isSpecCompliantForm(t);if(!je.isFunction(o))throw new TypeError("visitor must be a function");function p(P){if(P===null)return"";if(je.isDate(P))return P.toISOString();if(!h&&je.isBlob(P))throw new Lt("Blob is not supported. Use a Buffer instead.");return je.isArrayBuffer(P)||je.isTypedArray(P)?h&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function v(P,C,U){let S=P;if(P&&!U&&typeof P=="object"){if(je.endsWith(C,"{}"))C=r?C:C.slice(0,-2),P=JSON.stringify(P);else if(je.isArray(P)&&jb(P)||(je.isFileList(P)||je.endsWith(C,"[]"))&&(S=je.toArray(P)))return C=a5(C),S.forEach(function(F,J){!(je.isUndefined(F)||F===null)&&t.append(l===!0?eg([C],J,s):l===null?C:C+"[]",p(F))}),!1}return Wp(P)?!0:(t.append(eg(U,C,s),p(P)),!1)}const x=[],b=Object.assign(Cb,{defaultVisitor:v,convertValue:p,isVisitable:Wp});function w(P,C){if(!je.isUndefined(P)){if(x.indexOf(P)!==-1)throw Error("Circular reference detected in "+C.join("."));x.push(P),je.forEach(P,function(S,A){(!(je.isUndefined(S)||S===null)&&o.call(t,S,je.isString(A)?A.trim():A,C,b))===!0&&w(S,C?C.concat(A):[A])}),x.pop()}}if(!je.isObject(e))throw new TypeError("data must be an object");return w(e),t}function tg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function K0(e,t){this._pairs=[],e&&Tf(e,this,t)}const l5=K0.prototype;l5.append=function(t,n){this._pairs.push([t,n])};l5.toString=function(t){const n=t?function(r){return t.call(this,r,tg)}:tg;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Eb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function u5(e,t,n){if(!t)return e;const r=n&&n.encode||Eb;je.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let s;if(o?s=o(t,n):s=je.isURLSearchParams(t)?t.toString():new K0(t,n).toString(r),s){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class ng{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){je.forEach(this.handlers,function(r){r!==null&&t(r)})}}const c5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tb=typeof URLSearchParams<"u"?URLSearchParams:K0,Ob=typeof FormData<"u"?FormData:null,Ib=typeof Blob<"u"?Blob:null,Mb={isBrowser:!0,classes:{URLSearchParams:Tb,FormData:Ob,Blob:Ib},protocols:["http","https","file","blob","url","data"]},J0=typeof window<"u"&&typeof document<"u",Zp=typeof navigator=="object"&&navigator||void 0,Rb=J0&&(!Zp||["ReactNative","NativeScript","NS"].indexOf(Zp.product)<0),Fb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zb=J0&&window.location.href||"http://localhost",Db=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:J0,hasStandardBrowserEnv:Rb,hasStandardBrowserWebWorkerEnv:Fb,navigator:Zp,origin:zb},Symbol.toStringTag,{value:"Module"})),Pr={...Db,...Mb};function Bb(e,t){return Tf(e,new Pr.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,s){return Pr.isNode&&je.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function qb(e){return je.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ub(e){const t={},n=Object.keys(e);let r;const o=n.length;let s;for(r=0;r<o;r++)s=n[r],t[s]=e[s];return t}function h5(e){function t(n,r,o,s){let l=n[s++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),h=s>=n.length;return l=!l&&je.isArray(o)?o.length:l,h?(je.hasOwnProp(o,l)?o[l]=[o[l],r]:o[l]=r,!c):((!o[l]||!je.isObject(o[l]))&&(o[l]=[]),t(n,r,o[l],s)&&je.isArray(o[l])&&(o[l]=Ub(o[l])),!c)}if(je.isFormData(e)&&je.isFunction(e.entries)){const n={};return je.forEachEntry(e,(r,o)=>{t(qb(r),o,n,0)}),n}return null}function $b(e,t,n){if(je.isString(e))try{return(t||JSON.parse)(e),je.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Ac={transitional:c5,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,s=je.isObject(t);if(s&&je.isHTMLForm(t)&&(t=new FormData(t)),je.isFormData(t))return o?JSON.stringify(h5(t)):t;if(je.isArrayBuffer(t)||je.isBuffer(t)||je.isStream(t)||je.isFile(t)||je.isBlob(t)||je.isReadableStream(t))return t;if(je.isArrayBufferView(t))return t.buffer;if(je.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Bb(t,this.formSerializer).toString();if((c=je.isFileList(t))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Tf(c?{"files[]":t}:t,h&&new h,this.formSerializer)}}return s||o?(n.setContentType("application/json",!1),$b(t)):t}],transformResponse:[function(t){const n=this.transitional||Ac.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(je.isResponse(t)||je.isReadableStream(t))return t;if(t&&je.isString(t)&&(r&&!this.responseType||o)){const l=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(c){if(l)throw c.name==="SyntaxError"?Lt.from(c,Lt.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pr.classes.FormData,Blob:Pr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};je.forEach(["delete","get","head","post","put","patch"],e=>{Ac.headers[e]={}});const Hb=je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wb=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(l){o=l.indexOf(":"),n=l.substring(0,o).trim().toLowerCase(),r=l.substring(o+1).trim(),!(!n||t[n]&&Hb[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},rg=Symbol("internals");function Du(e){return e&&String(e).trim().toLowerCase()}function Ch(e){return e===!1||e==null?e:je.isArray(e)?e.map(Ch):String(e)}function Zb(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Vb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Td(e,t,n,r,o){if(je.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!je.isString(t)){if(je.isString(r))return t.indexOf(r)!==-1;if(je.isRegExp(r))return r.test(t)}}function Gb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Kb(e,t){const n=je.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,s,l){return this[r].call(this,t,o,s,l)},configurable:!0})})}let li=class{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function s(c,h,p){const v=Du(h);if(!v)throw new Error("header name must be a non-empty string");const x=je.findKey(o,v);(!x||o[x]===void 0||p===!0||p===void 0&&o[x]!==!1)&&(o[x||h]=Ch(c))}const l=(c,h)=>je.forEach(c,(p,v)=>s(p,v,h));if(je.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(je.isString(t)&&(t=t.trim())&&!Vb(t))l(Wb(t),n);else if(je.isObject(t)&&je.isIterable(t)){let c={},h,p;for(const v of t){if(!je.isArray(v))throw TypeError("Object iterator must return a key-value pair");c[p=v[0]]=(h=c[p])?je.isArray(h)?[...h,v[1]]:[h,v[1]]:v[1]}l(c,n)}else t!=null&&s(n,t,r);return this}get(t,n){if(t=Du(t),t){const r=je.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return Zb(o);if(je.isFunction(n))return n.call(this,o,r);if(je.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Du(t),t){const r=je.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Td(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function s(l){if(l=Du(l),l){const c=je.findKey(r,l);c&&(!n||Td(r,r[c],c,n))&&(delete r[c],o=!0)}}return je.isArray(t)?t.forEach(s):s(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const s=n[r];(!t||Td(this,this[s],s,t,!0))&&(delete this[s],o=!0)}return o}normalize(t){const n=this,r={};return je.forEach(this,(o,s)=>{const l=je.findKey(r,s);if(l){n[l]=Ch(o),delete n[s];return}const c=t?Gb(s):String(s).trim();c!==s&&delete n[s],n[c]=Ch(o),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return je.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&je.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[rg]=this[rg]={accessors:{}}).accessors,o=this.prototype;function s(l){const c=Du(l);r[c]||(Kb(o,l),r[c]=!0)}return je.isArray(t)?t.forEach(s):s(t),this}};li.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);je.reduceDescriptors(li.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});je.freezeMethods(li);function Od(e,t){const n=this||Ac,r=t||n,o=li.from(r.headers);let s=r.data;return je.forEach(e,function(c){s=c.call(n,s,o.normalize(),t?t.status:void 0)}),o.normalize(),s}function f5(e){return!!(e&&e.__CANCEL__)}function mu(e,t,n){Lt.call(this,e??"canceled",Lt.ERR_CANCELED,t,n),this.name="CanceledError"}je.inherits(mu,Lt,{__CANCEL__:!0});function d5(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Lt("Request failed with status code "+n.status,[Lt.ERR_BAD_REQUEST,Lt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Jb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Yb(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,s=0,l;return t=t!==void 0?t:1e3,function(h){const p=Date.now(),v=r[s];l||(l=p),n[o]=h,r[o]=p;let x=s,b=0;for(;x!==o;)b+=n[x++],x=x%e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),p-l<t)return;const w=v&&p-v;return w?Math.round(b*1e3/w):void 0}}function Xb(e,t){let n=0,r=1e3/t,o,s;const l=(p,v=Date.now())=>{n=v,o=null,s&&(clearTimeout(s),s=null),e.apply(null,p)};return[(...p)=>{const v=Date.now(),x=v-n;x>=r?l(p,v):(o=p,s||(s=setTimeout(()=>{s=null,l(o)},r-x)))},()=>o&&l(o)]}const sf=(e,t,n=3)=>{let r=0;const o=Yb(50,250);return Xb(s=>{const l=s.loaded,c=s.lengthComputable?s.total:void 0,h=l-r,p=o(h),v=l<=c;r=l;const x={loaded:l,total:c,progress:c?l/c:void 0,bytes:h,rate:p||void 0,estimated:p&&c&&v?(c-l)/p:void 0,event:s,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(x)},n)},ig=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},og=e=>(...t)=>je.asap(()=>e(...t)),Qb=Pr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Pr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Pr.origin),Pr.navigator&&/(msie|trident)/i.test(Pr.navigator.userAgent)):()=>!0,e3=Pr.hasStandardBrowserEnv?{write(e,t,n,r,o,s){const l=[e+"="+encodeURIComponent(t)];je.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),je.isString(r)&&l.push("path="+r),je.isString(o)&&l.push("domain="+o),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function t3(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function n3(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function p5(e,t,n){let r=!t3(t);return e&&(r||n==!1)?n3(e,t):t}const sg=e=>e instanceof li?{...e}:e;function rl(e,t){t=t||{};const n={};function r(p,v,x,b){return je.isPlainObject(p)&&je.isPlainObject(v)?je.merge.call({caseless:b},p,v):je.isPlainObject(v)?je.merge({},v):je.isArray(v)?v.slice():v}function o(p,v,x,b){if(je.isUndefined(v)){if(!je.isUndefined(p))return r(void 0,p,x,b)}else return r(p,v,x,b)}function s(p,v){if(!je.isUndefined(v))return r(void 0,v)}function l(p,v){if(je.isUndefined(v)){if(!je.isUndefined(p))return r(void 0,p)}else return r(void 0,v)}function c(p,v,x){if(x in t)return r(p,v);if(x in e)return r(void 0,p)}const h={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(p,v,x)=>o(sg(p),sg(v),x,!0)};return je.forEach(Object.keys(Object.assign({},e,t)),function(v){const x=h[v]||o,b=x(e[v],t[v],v);je.isUndefined(b)&&x!==c||(n[v]=b)}),n}const m5=e=>{const t=rl({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:s,headers:l,auth:c}=t;t.headers=l=li.from(l),t.url=u5(p5(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let h;if(je.isFormData(n)){if(Pr.hasStandardBrowserEnv||Pr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[p,...v]=h?h.split(";").map(x=>x.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...v].join("; "))}}if(Pr.hasStandardBrowserEnv&&(r&&je.isFunction(r)&&(r=r(t)),r||r!==!1&&Qb(t.url))){const p=o&&s&&e3.read(s);p&&l.set(o,p)}return t},r3=typeof XMLHttpRequest<"u",i3=r3&&function(e){return new Promise(function(n,r){const o=m5(e);let s=o.data;const l=li.from(o.headers).normalize();let{responseType:c,onUploadProgress:h,onDownloadProgress:p}=o,v,x,b,w,P;function C(){w&&w(),P&&P(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let U=new XMLHttpRequest;U.open(o.method.toUpperCase(),o.url,!0),U.timeout=o.timeout;function S(){if(!U)return;const F=li.from("getAllResponseHeaders"in U&&U.getAllResponseHeaders()),ie={data:!c||c==="text"||c==="json"?U.responseText:U.response,status:U.status,statusText:U.statusText,headers:F,config:e,request:U};d5(function(Z){n(Z),C()},function(Z){r(Z),C()},ie),U=null}"onloadend"in U?U.onloadend=S:U.onreadystatechange=function(){!U||U.readyState!==4||U.status===0&&!(U.responseURL&&U.responseURL.indexOf("file:")===0)||setTimeout(S)},U.onabort=function(){U&&(r(new Lt("Request aborted",Lt.ECONNABORTED,e,U)),U=null)},U.onerror=function(){r(new Lt("Network Error",Lt.ERR_NETWORK,e,U)),U=null},U.ontimeout=function(){let J=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ie=o.transitional||c5;o.timeoutErrorMessage&&(J=o.timeoutErrorMessage),r(new Lt(J,ie.clarifyTimeoutError?Lt.ETIMEDOUT:Lt.ECONNABORTED,e,U)),U=null},s===void 0&&l.setContentType(null),"setRequestHeader"in U&&je.forEach(l.toJSON(),function(J,ie){U.setRequestHeader(ie,J)}),je.isUndefined(o.withCredentials)||(U.withCredentials=!!o.withCredentials),c&&c!=="json"&&(U.responseType=o.responseType),p&&([b,P]=sf(p,!0),U.addEventListener("progress",b)),h&&U.upload&&([x,w]=sf(h),U.upload.addEventListener("progress",x),U.upload.addEventListener("loadend",w)),(o.cancelToken||o.signal)&&(v=F=>{U&&(r(!F||F.type?new mu(null,e,U):F),U.abort(),U=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const A=Jb(o.url);if(A&&Pr.protocols.indexOf(A)===-1){r(new Lt("Unsupported protocol "+A+":",Lt.ERR_BAD_REQUEST,e));return}U.send(s||null)})},o3=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const s=function(p){if(!o){o=!0,c();const v=p instanceof Error?p:this.reason;r.abort(v instanceof Lt?v:new mu(v instanceof Error?v.message:v))}};let l=t&&setTimeout(()=>{l=null,s(new Lt(`timeout ${t} of ms exceeded`,Lt.ETIMEDOUT))},t);const c=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(s):p.removeEventListener("abort",s)}),e=null)};e.forEach(p=>p.addEventListener("abort",s));const{signal:h}=r;return h.unsubscribe=()=>je.asap(c),h}},s3=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},a3=async function*(e,t){for await(const n of l3(e))yield*s3(n,t)},l3=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},ag=(e,t,n,r)=>{const o=a3(e,t);let s=0,l,c=h=>{l||(l=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:p,value:v}=await o.next();if(p){c(),h.close();return}let x=v.byteLength;if(n){let b=s+=x;n(b)}h.enqueue(new Uint8Array(v))}catch(p){throw c(p),p}},cancel(h){return c(h),o.return()}},{highWaterMark:2})},Of=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",g5=Of&&typeof ReadableStream=="function",u3=Of&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),v5=(e,...t)=>{try{return!!e(...t)}catch{return!1}},c3=g5&&v5(()=>{let e=!1;const t=new Request(Pr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),lg=64*1024,Vp=g5&&v5(()=>je.isReadableStream(new Response("").body)),af={stream:Vp&&(e=>e.body)};Of&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!af[t]&&(af[t]=je.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Lt(`Response type '${t}' is not supported`,Lt.ERR_NOT_SUPPORT,r)})})})(new Response);const h3=async e=>{if(e==null)return 0;if(je.isBlob(e))return e.size;if(je.isSpecCompliantForm(e))return(await new Request(Pr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(je.isArrayBufferView(e)||je.isArrayBuffer(e))return e.byteLength;if(je.isURLSearchParams(e)&&(e=e+""),je.isString(e))return(await u3(e)).byteLength},f3=async(e,t)=>{const n=je.toFiniteNumber(e.getContentLength());return n??h3(t)},d3=Of&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:s,timeout:l,onDownloadProgress:c,onUploadProgress:h,responseType:p,headers:v,withCredentials:x="same-origin",fetchOptions:b}=m5(e);p=p?(p+"").toLowerCase():"text";let w=o3([o,s&&s.toAbortSignal()],l),P;const C=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let U;try{if(h&&c3&&n!=="get"&&n!=="head"&&(U=await f3(v,r))!==0){let ie=new Request(t,{method:"POST",body:r,duplex:"half"}),H;if(je.isFormData(r)&&(H=ie.headers.get("content-type"))&&v.setContentType(H),ie.body){const[Z,j]=ig(U,sf(og(h)));r=ag(ie.body,lg,Z,j)}}je.isString(x)||(x=x?"include":"omit");const S="credentials"in Request.prototype;P=new Request(t,{...b,signal:w,method:n.toUpperCase(),headers:v.normalize().toJSON(),body:r,duplex:"half",credentials:S?x:void 0});let A=await fetch(P);const F=Vp&&(p==="stream"||p==="response");if(Vp&&(c||F&&C)){const ie={};["status","statusText","headers"].forEach(z=>{ie[z]=A[z]});const H=je.toFiniteNumber(A.headers.get("content-length")),[Z,j]=c&&ig(H,sf(og(c),!0))||[];A=new Response(ag(A.body,lg,Z,()=>{j&&j(),C&&C()}),ie)}p=p||"text";let J=await af[je.findKey(af,p)||"text"](A,e);return!F&&C&&C(),await new Promise((ie,H)=>{d5(ie,H,{data:J,headers:li.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:P})})}catch(S){throw C&&C(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new Lt("Network Error",Lt.ERR_NETWORK,e,P),{cause:S.cause||S}):Lt.from(S,S&&S.code,e,P)}}),Gp={http:Ab,xhr:i3,fetch:d3};je.forEach(Gp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ug=e=>`- ${e}`,p3=e=>je.isFunction(e)||e===null||e===!1,y5={getAdapter:e=>{e=je.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let s=0;s<t;s++){n=e[s];let l;if(r=n,!p3(n)&&(r=Gp[(l=String(n)).toLowerCase()],r===void 0))throw new Lt(`Unknown adapter '${l}'`);if(r)break;o[l||"#"+s]=r}if(!r){const s=Object.entries(o).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=t?s.length>1?`since :
`+s.map(ug).join(`
`):" "+ug(s[0]):"as no adapter specified";throw new Lt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Gp};function Id(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new mu(null,e)}function cg(e){return Id(e),e.headers=li.from(e.headers),e.data=Od.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),y5.getAdapter(e.adapter||Ac.adapter)(e).then(function(r){return Id(e),r.data=Od.call(e,e.transformResponse,r),r.headers=li.from(r.headers),r},function(r){return f5(r)||(Id(e),r&&r.response&&(r.response.data=Od.call(e,e.transformResponse,r.response),r.response.headers=li.from(r.response.headers))),Promise.reject(r)})}const _5="1.9.0",If={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{If[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const hg={};If.transitional=function(t,n,r){function o(s,l){return"[Axios v"+_5+"] Transitional option '"+s+"'"+l+(r?". "+r:"")}return(s,l,c)=>{if(t===!1)throw new Lt(o(l," has been removed"+(n?" in "+n:"")),Lt.ERR_DEPRECATED);return n&&!hg[l]&&(hg[l]=!0,console.warn(o(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,l,c):!0}};If.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function m3(e,t,n){if(typeof e!="object")throw new Lt("options must be an object",Lt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const s=r[o],l=t[s];if(l){const c=e[s],h=c===void 0||l(c,s,e);if(h!==!0)throw new Lt("option "+s+" must be "+h,Lt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Lt("Unknown option "+s,Lt.ERR_BAD_OPTION)}}const Eh={assertOptions:m3,validators:If},Mo=Eh.validators;let Ya=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ng,response:new ng}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const s=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=rl(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:s}=n;r!==void 0&&Eh.assertOptions(r,{silentJSONParsing:Mo.transitional(Mo.boolean),forcedJSONParsing:Mo.transitional(Mo.boolean),clarifyTimeoutError:Mo.transitional(Mo.boolean)},!1),o!=null&&(je.isFunction(o)?n.paramsSerializer={serialize:o}:Eh.assertOptions(o,{encode:Mo.function,serialize:Mo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Eh.assertOptions(n,{baseUrl:Mo.spelling("baseURL"),withXsrfToken:Mo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=s&&je.merge(s.common,s[n.method]);s&&je.forEach(["delete","get","head","post","put","patch","common"],P=>{delete s[P]}),n.headers=li.concat(l,s);const c=[];let h=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(h=h&&C.synchronous,c.unshift(C.fulfilled,C.rejected))});const p=[];this.interceptors.response.forEach(function(C){p.push(C.fulfilled,C.rejected)});let v,x=0,b;if(!h){const P=[cg.bind(this),void 0];for(P.unshift.apply(P,c),P.push.apply(P,p),b=P.length,v=Promise.resolve(n);x<b;)v=v.then(P[x++],P[x++]);return v}b=c.length;let w=n;for(x=0;x<b;){const P=c[x++],C=c[x++];try{w=P(w)}catch(U){C.call(this,U);break}}try{v=cg.call(this,w)}catch(P){return Promise.reject(P)}for(x=0,b=p.length;x<b;)v=v.then(p[x++],p[x++]);return v}getUri(t){t=rl(this.defaults,t);const n=p5(t.baseURL,t.url,t.allowAbsoluteUrls);return u5(n,t.params,t.paramsSerializer)}};je.forEach(["delete","get","head","options"],function(t){Ya.prototype[t]=function(n,r){return this.request(rl(r||{},{method:t,url:n,data:(r||{}).data}))}});je.forEach(["post","put","patch"],function(t){function n(r){return function(s,l,c){return this.request(rl(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Ya.prototype[t]=n(),Ya.prototype[t+"Form"]=n(!0)});let g3=class x5{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(o=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](o);r._listeners=null}),this.promise.then=o=>{let s;const l=new Promise(c=>{r.subscribe(c),s=c}).then(o);return l.cancel=function(){r.unsubscribe(s)},l},t(function(s,l,c){r.reason||(r.reason=new mu(s,l,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new x5(function(o){t=o}),cancel:t}}};function v3(e){return function(n){return e.apply(null,n)}}function y3(e){return je.isObject(e)&&e.isAxiosError===!0}const Kp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kp).forEach(([e,t])=>{Kp[t]=e});function w5(e){const t=new Ya(e),n=Yv(Ya.prototype.request,t);return je.extend(n,Ya.prototype,t,{allOwnKeys:!0}),je.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return w5(rl(e,o))},n}const Mn=w5(Ac);Mn.Axios=Ya;Mn.CanceledError=mu;Mn.CancelToken=g3;Mn.isCancel=f5;Mn.VERSION=_5;Mn.toFormData=Tf;Mn.AxiosError=Lt;Mn.Cancel=Mn.CanceledError;Mn.all=function(t){return Promise.all(t)};Mn.spread=v3;Mn.isAxiosError=y3;Mn.mergeConfig=rl;Mn.AxiosHeaders=li;Mn.formToJSON=e=>h5(je.isHTMLForm(e)?new FormData(e):e);Mn.getAdapter=y5.getAdapter;Mn.HttpStatusCode=Kp;Mn.default=Mn;const{Axios:N3,AxiosError:S3,CanceledError:L3,isCancel:k3,CancelToken:P3,VERSION:A3,all:j3,Cancel:C3,isAxiosError:E3,spread:T3,toFormData:O3,AxiosHeaders:I3,HttpStatusCode:M3,formToJSON:R3,getAdapter:F3,mergeConfig:z3}=Mn,wc="http://192.168.1.93:8000/api/v1";console.log("API Base URL:",wc);console.log("Environment:","production");const qa=Mn.create({baseURL:wc,timeout:15e3,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1,maxRedirects:5,validateStatus:function(e){return e>=200&&e<400}});qa.interceptors.response.use(e=>e,e=>(console.error("API Error:",e),e.code==="ERR_NETWORK"&&console.error("Ошибка сети: Проверьте подключение к серверу",wc),Promise.reject(e)));const Th={async getSchools(){try{console.log("Запрашиваем школы с API..."),console.log("Полный URL:",`${wc}/get-schools/`);const e=await qa.get("/get-schools/");return console.log("Ответ API успешен:",e.status),console.log("Заголовки ответа:",e.headers),console.log("Данные от API:",e.data),this.parseDistrictsData(e.data,"school")}catch(e){throw console.error("Ошибка загрузки школ:",e),new Error(`Ошибка загрузки школ: ${e.message}`)}},async getClinics(){try{console.log("Запрашиваем клиники с API..."),console.log("Полный URL:",`${wc}/get-clinics/`);const e=await qa.get("/get-clinics/");return console.log("Ответ API успешен:",e.status),console.log("Заголовки ответа:",e.headers),console.log("Данные от API:",e.data),this.parseDistrictsData(e.data,"clinic")}catch(e){throw console.error("Ошибка загрузки клиник:",e),new Error(`Ошибка загрузки клиник: ${e.message}`)}},parseDistrictsData(e,t){let n=e;if(console.log("Тип данных от API:",typeof n),console.log("facilitiesData:",n),console.log("facilitiesData.districts:",n==null?void 0:n.districts),console.log("Тип districts:",typeof(n==null?void 0:n.districts)),n&&typeof n=="object"&&!Array.isArray(n)&&n.districts&&typeof n.districts=="object"){console.log("Обрабатываем districts...");const r=n.districts;n=[];try{Object.entries(r).forEach(([o,s])=>{console.log("Обрабатываем район:",o,s),s&&s.coordinates&&Array.isArray(s.coordinates)?s.coordinates.forEach((l,c)=>{console.log(`Учреждение ${c} в районе ${o}:`,l);let h=t;if(l.name){const p=l.name.toLowerCase();p.includes("больниц")||p.includes("hospital")?h="hospital":p.includes("поликлиник")||p.includes("polyclinic")?h="polyclinic":p.includes("клиник")||p.includes("clinic")?h="clinic":(p.includes("школ")||p.includes("school"))&&(h="school")}n.push({...l,type:h,district:o,district_count:s.count})}):console.warn("Район не содержит coordinates или coordinates не массив:",o,s)})}catch(o){console.error("Ошибка при обработке districts:",o),console.error("districtsData:",r)}}return Array.isArray(n)||(console.error("API вернуло не массив после обработки:",typeof n,n),console.log("Попробуем использовать пустой массив для начала"),n=[]),this.processAndTransformData(n)},processAndTransformData(e){const t=e.map((n,r)=>{console.log(`Обрабатываем учреждение ${r}:`,n);let o=null;if(n.coordinates)o=n.coordinates,console.log("Координаты из facility.coordinates:",o);else if(n.lat!==void 0&&n.lon!==void 0){const l=parseFloat(n.lat),c=parseFloat(n.lon);!isNaN(l)&&!isNaN(c)&&l>=-90&&l<=90&&c>=-180&&c<=180?(o=[l,c],console.log(`Координаты из lat/lon: lat=${n.lat}, lon=${n.lon} -> [${o}]`)):console.warn(`Некорректные lat/lon для учреждения ${r}: lat=${n.lat}, lon=${n.lon}`)}else if(n.latitude!==void 0&&n.longitude!==void 0){const l=parseFloat(n.latitude),c=parseFloat(n.longitude);!isNaN(l)&&!isNaN(c)&&l>=-90&&l<=90&&c>=-180&&c<=180?(o=[l,c],console.log("Координаты из latitude/longitude:",o)):console.warn(`Некорректные latitude/longitude для учреждения ${r}: lat=${n.latitude}, lon=${n.longitude}`)}else n.location&&n.location.coordinates&&(o=n.location.coordinates,console.log("Координаты из location.coordinates:",o));(!o||!Array.isArray(o)||o.length<2)&&(o=[42.8746,74.5698],console.warn(`Нет валидных координат для учреждения ${r} (${n.name}), используем центр Бишкека:`,o)),console.log(`Финальные координаты для учреждения ${r} (${n.name}):`,o);const s={id:n.id||n.facility_id||`facility_${r}`,name:n.name||n.facility_name||n.title||"Учреждение без названия",type:n.type||"clinic",coordinates:o,address:n.address||n.location||n.addr||n.full_address||"",capacity:n.capacity||n.patient_count||n.max_patients||n.total_capacity||100,currentLoad:n.current_load||n.current_patients||n.patients||n.enrolled||0,rating:n.rating||n.score||4,district:n.district||n.region||n.area||"",phone:n.phone||n.telephone||n.contact_phone||"",website:n.website||n.url||n.site||"",established:n.established||n.founded||n.year_opened||null,services:n.services||n.specializations||n.departments||[],departments:n.departments||n.services||[],doctors:n.doctors||n.staff_count||0,beds:n.beds||n.bed_count||0,workingHours:n.working_hours||n.schedule||"Круглосуточно"};return console.log(`Обработанное учреждение ${r}:`,{id:s.id,name:s.name,type:s.type,coordinates:s.coordinates,district:s.district}),s});return console.log(`Обработано учреждений: ${t.length}`),console.log("Обработанные учреждения:",t.slice(0,3)),t},async getFacilities(e=null){try{console.log("Начинаем загрузку всех учреждений...");const[t,n]=await Promise.all([this.getSchools().catch(o=>(console.warn("Ошибка загрузки школ:",o.message),[])),this.getClinics().catch(o=>(console.warn("Ошибка загрузки клиник:",o.message),[]))]);console.log(`Загружено школ: ${t.length}, клиник: ${n.length}`);let r=[...t,...n];return e&&e!=="all"&&(r=r.filter(o=>o.type===e),console.log(`После фильтрации по типу "${e}": ${r.length} учреждений`)),console.log(`Итого учреждений: ${r.length}`),r}catch(t){throw console.error("Детали ошибки загрузки учреждений:"),console.error("- Тип ошибки:",t.constructor.name),console.error("- Сообщение:",t.message),console.error("- Полная ошибка:",t),new Error(`Ошибка загрузки учреждений: ${t.message}`)}},async getPopulationHeatmap(){try{console.log("Запрашиваем данные населения...");try{return(await qa.get("/get-population-data/")).data}catch{return console.warn("Эндпоинт для данных населения не найден, используем заглушку"),[]}}catch(e){return console.error("Ошибка загрузки данных населения:",e),[]}},async getRecommendations(e){try{console.log("Запрашиваем рекомендации с параметрами:",e);const t=await this.getFacilities(),n=this.generateCoverageBasedRecommendations(t,e),r=this.calculateCoverageStatistics(t,n,e);return{recommendations:n,statistics:r}}catch(t){throw console.error("Ошибка получения рекомендаций:",t),new Error("Ошибка получения рекомендаций: "+t.message)}},generateCoverageBasedRecommendations(e,t){const{facility_type:n,max_travel_time:r}=t;if(console.log(`Генерируем рекомендации для типа: ${n}, время доезда: ${r} мин`),n==="school")return this.generateSchoolRecommendations(e,r);const o=e.filter(v=>n==="all"||v.type===n);console.log(`Анализируем покрытие для ${o.length} учреждений типа ${n}`);const s={north:42.95,south:42.8,east:74.7,west:74.45},c=this.generateAnalysisGrid(s,.008),h=this.findUncoveredAreas(c,o,r),p=this.generateRecommendationsForAreas(h,o,t);return console.log(`Найдено ${h.length} непокрытых областей, сгенерировано ${p.length} рекомендаций`),p},generateAnalysisGrid(e,t){const n=[];for(let r=e.south;r<=e.north;r+=t)for(let o=e.west;o<=e.east;o+=t)n.push({lat:r,lng:o,population:this.estimatePopulationDensity(r,o),covered:!1,nearestFacilityDistance:1/0});return console.log(`Создана сетка из ${n.length} точек для анализа`),n},estimatePopulationDensity(e,t){const n={lat:42.8746,lng:74.5698};this.calculateDistance(e,t,n.lat,n.lng);const r=5e3,o=.3,s=[{lat:42.8746,lng:74.5698,intensity:1},{lat:42.85,lng:74.58,intensity:.7},{lat:42.9,lng:74.55,intensity:.6},{lat:42.86,lng:74.6,intensity:.5}];let l=0;return s.forEach(c=>{const h=this.calculateDistance(e,t,c.lat,c.lng),p=r*c.intensity*Math.exp(-h*o);l+=p}),l*=.8+Math.random()*.4,Math.max(100,Math.round(l))},findUncoveredAreas(e,t,n){const r=[];return e.forEach(o=>{let s=1/0,l=null;t.forEach(h=>{if(h.coordinates&&h.coordinates.length>=2){const p=this.calculateDistance(o.lat,o.lng,h.coordinates[0],h.coordinates[1]);p<s&&(s=p,l=h)}});const c=this.estimateTravelTime(s,l==null?void 0:l.type);o.nearestFacilityDistance=s,o.nearestFacility=l,o.travelTime=c,c>n?(o.covered=!1,r.push(o)):o.covered=!0}),r},estimateTravelTime(e,t){const r={school:4,hospital:20,polyclinic:8,clinic:6,fire_station:25,police_station:28,post_office:5}[t]||15;return e/r*60*1.3},generateRecommendationsForAreas(e,t,n){const{facility_type:r,max_travel_time:o}=n,s=this.clusterUncoveredAreas(e),l=[];return s.forEach((c,h)=>{const p=this.findOptimalPosition(c),v=this.calculateClusterCoverage(c,o),x=this.calculatePriority(c,v),b=this.calculateRecommendationScore(c,v,t),w={id:`rec_${Date.now()}_${h}`,type:r==="all"?"school":r,coordinates:[p.lat,p.lng],priority:x,score:b,estimated_coverage:c.reduce((P,C)=>P+C.population,0),reason:this.generateRecommendationReason(c,v,r),recommendation:this.generateRecommendationText(c,r),detailedAnalysis:{populationDensity:Math.round(c.reduce((P,C)=>P+C.population,0)/c.length),averageDistance:this.calculateAverageDistance(c,p),nearestFacility:this.findNearestExistingFacility(p,t),benefits:this.generateBenefits(c,r),coverageImprovement:`+${Math.round(v.improvement)}%`,estimatedCost:this.estimateFacilityCost(r,x),timeframe:this.estimateTimeframe(x)}};l.push(w)}),l.sort((c,h)=>{const p={high:3,medium:2,low:1},v=p[c.priority]||0,x=p[h.priority]||0;return v!==x?x-v:h.score-c.score}).slice(0,10)},clusterUncoveredAreas(e){const t=[],n=new Set,r=.02;return e.forEach((o,s)=>{if(n.has(s))return;const l=[o];n.add(s),e.forEach((c,h)=>{if(n.has(h))return;this.calculateDistance(o.lat,o.lng,c.lat,c.lng)<=r&&(l.push(c),n.add(h))}),l.length>=3&&t.push(l)}),t},findOptimalPosition(e){let t=0,n=0,r=0;return e.forEach(o=>{const s=o.population;t+=o.lat*s,n+=o.lng*s,r+=s}),{lat:t/r,lng:n/r}},calculateClusterCoverage(e,t){const n=e.reduce((s,l)=>s+l.population,0),r=e.reduce((s,l)=>s+l.travelTime,0)/e.length,o=Math.max(0,(r-t)/r*100);return{population:n,currentTravelTime:r,improvement:o,area:e.length*1}},calculatePriority(e,t){const n=t.population/1e3,r=t.improvement/10,o=e.length/10,s=n+r+o;return s>15?"high":s>8?"medium":"low"},calculateRecommendationScore(e,t,n){let r=0;r+=Math.min(40,t.population/100),r+=Math.min(30,t.improvement*3),r+=Math.min(20,e.length);const o=this.findOptimalPosition(e),s=this.findNearestExistingFacility(o,n);return r+=Math.min(10,s.distance),Math.round(r)},findNearestExistingFacility(e,t){let n=1/0,r=null;return t.forEach(o=>{if(o.coordinates&&o.coordinates.length>=2){const s=this.calculateDistance(e.lat,e.lng,o.coordinates[0],o.coordinates[1]);s<n&&(n=s,r=o)}}),{distance:n,facility:r,formatted:r?`${n.toFixed(1)} км до "${r.name}"`:"Нет данных"}},generateRecommendationReason(e,t,n){const o={school:"школы",hospital:"больницы",polyclinic:"поликлиники",clinic:"клиники",fire_station:"пожарной станции",police_station:"полицейского участка",post_office:"почтового отделения"}[n]||"учреждения",s=Math.round(t.population),l=Math.round(t.improvement);return`Анализ показал недостаточное покрытие в данной области. Размещение ${o} обслужит ${s.toLocaleString()} жителей и улучшит доступность на ${l}%.`},generateRecommendationText(e,t){return`Рекомендуется размещение ${{school:"новой школы",hospital:"больницы",polyclinic:"поликлиники",clinic:"медицинской клиники",fire_station:"пожарной станции",police_station:"полицейского участка",post_office:"почтового отделения"}[t]||"нового учреждения"} для улучшения территориального покрытия и повышения доступности услуг для жителей района.`},generateBenefits(e,t){const n=["Сокращение времени доезда для жителей","Улучшение качества обслуживания населения","Равномерное распределение нагрузки"],r={school:["Повышение доступности образования","Сокращение переполненности классов"],hospital:["Быстрое оказание экстренной помощи","Снижение нагрузки на существующие больницы"],polyclinic:["Улучшение профилактического обслуживания","Сокращение очередей"],clinic:["Повышение доступности медицинской помощи","Улучшение здоровья населения"],fire_station:["Сокращение времени прибытия на место ЧС","Повышение пожарной безопасности"],police_station:["Улучшение охраны общественного порядка","Быстрое реагирование на происшествия"],post_office:["Улучшение почтового обслуживания","Удобство получения посылок и услуг"]};return[...n,...r[t]||[]]},estimateFacilityCost(e,t){const r={school:15e7,hospital:5e8,polyclinic:8e7,clinic:5e7,fire_station:12e7,police_station:1e8,post_office:3e7}[e]||1e8;return Math.round(r*({high:1.2,medium:1,low:.8}[t]||1))},estimateTimeframe(e){return{high:"6-12 месяцев",medium:"12-18 месяцев",low:"18-24 месяца"}[e]||"12-18 месяцев"},calculateAverageDistance(e,t){return(e.reduce((r,o)=>r+this.calculateDistance(o.lat,o.lng,t.lat,t.lng),0)/e.length).toFixed(1)+" км"},calculateCoverageStatistics(e,t,n){const r=e.filter(v=>n.facility_type==="all"||v.type===n.facility_type).length,o=t.length,s=t.filter(v=>v.priority==="high").length,l=t.reduce((v,x)=>v+x.estimated_coverage,0),c=t.reduce((v,x)=>v+x.score,0)/t.length,h=Math.max(20,100-o*8),p=Math.min(95,h+o*5);return{total_facilities:r,total_recommendations:o,high_priority_count:s,estimated_population_served:l,average_recommendation_score:Math.round(c),current_coverage_percentage:Math.round(h),potential_coverage_percentage:Math.round(p),coverage_improvement:Math.round(p-h),estimated_investment:t.reduce((v,x)=>{var b;return v+(((b=x.detailedAnalysis)==null?void 0:b.estimatedCost)||0)},0),analysis_area:"Бишкек",analysis_date:new Date().toISOString()}},calculateDistance(e,t,n,r){const s=this.toRad(n-e),l=this.toRad(r-t),c=Math.sin(s/2)*Math.sin(s/2)+Math.cos(this.toRad(e))*Math.cos(this.toRad(n))*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},toRad(e){return e*(Math.PI/180)},async getCoverageStats(e,t){try{return(await qa.get("/coverage_stats/",{params:{facility_type:e,max_travel_time:t}})).data}catch{throw new Error("Ошибка получения статистики")}},async exportRecommendations(e="csv",t){try{return(await qa.post("/export/",{format:e,data:t},{responseType:"blob"})).data}catch{throw new Error("Ошибка экспорта данных")}},async getAnalytics(e){try{return(await qa.get(`/analytics/${e}/`)).data}catch{throw new Error("Ошибка получения аналитики")}},generateSchoolRecommendations(e,t=10){console.log("Запуск специализированного алгоритма для школ с радиусом",t,"минут");const n=e.filter(x=>x.type==="school");console.log(`Найдено существующих школ: ${n.length}`);const r={north:42.95,south:42.8,east:74.7,west:74.45},s=this.generateSchoolAnalysisGrid(r,.005),l=this.calculateSchoolCoverageRadius(t);console.log(`Радиус покрытия школы: ${l.toFixed(2)} км`);const c=this.analyzeSchoolCoverage(s,n,l),h=this.findUnderservedSchoolAreas(c);console.log(`Найдено недообслуживаемых зон: ${h.length}`);const p=this.clusterUnderservedAreas(h,l);console.log(`Создано кластеров: ${p.length}`);const v=this.generateSchoolRecommendationsFromClusters(p,n,t);return console.log(`Сгенерировано рекомендаций для школ: ${v.length}`),v},generateSchoolAnalysisGrid(e,t){const n=[];let r=0;for(let o=e.south;o<=e.north;o+=t)for(let s=e.west;s<=e.east;s+=t){const l=this.estimateSchoolAgePopulation(o,s),c=this.determineAreaType(o,s);n.push({id:r++,lat:o,lng:s,schoolAgePopulation:l,areaType:c,nearestSchoolDistance:1/0,nearestSchool:null,walkingTime:1/0,isUnderserved:!1,priority:"low"})}return console.log(`Создана сетка анализа: ${n.length} точек`),n},calculateSchoolCoverageRadius(e){return 6.3999999999999995*e/60*.8},estimateSchoolAgePopulation(e,t){const n=[{lat:42.8746,lng:74.5698,intensity:1,type:"center"},{lat:42.84,lng:74.58,intensity:.9,type:"residential"},{lat:42.91,lng:74.55,intensity:.8,type:"residential"},{lat:42.86,lng:74.61,intensity:.7,type:"residential"},{lat:42.88,lng:74.53,intensity:.6,type:"residential"},{lat:42.82,lng:74.59,intensity:.8,type:"new_residential"},{lat:42.92,lng:74.56,intensity:.7,type:"new_residential"},{lat:42.85,lng:74.62,intensity:.6,type:"new_residential"}];let r=0;return n.forEach(o=>{const s=this.calculateDistance(e,t,o.lat,o.lng);let l;switch(o.type){case"center":l=3e3;break;case"residential":l=2500;break;case"new_residential":l=3500;break;default:l=2e3}if(s<=3){const h=Math.exp(-s*.5),p=l*o.intensity*h;r+=p}}),r*=.8+Math.random()*.4,Math.max(150,Math.round(r))},determineAreaType(e,t){const n={lat:42.8746,lng:74.5698},r=this.calculateDistance(e,t,n.lat,n.lng);return r<=2?"urban_center":r<=5?"urban_residential":r<=8?"suburban":"outskirts"},analyzeSchoolCoverage(e,t,n){console.log(`Анализируем покрытие ${e.length} точек ${t.length} школами`),e.forEach(o=>{let s=1/0,l=null;t.forEach(c=>{if(c.coordinates&&c.coordinates.length>=2){const h=this.calculateDistance(o.lat,o.lng,c.coordinates[0],c.coordinates[1]);h<s&&(s=h,l=c)}}),o.nearestSchoolDistance=s,o.nearestSchool=l,o.walkingTime=this.calculateSchoolTravelTime(s,o.areaType),o.isUnderserved=s>n||o.walkingTime>10,o.isUnderserved&&(o.schoolAgePopulation>2e3&&o.walkingTime>15?o.priority="high":o.schoolAgePopulation>1e3&&o.walkingTime>12?o.priority="medium":o.priority="low")});const r=e.filter(o=>o.isUnderserved).length;return console.log(`Недообслуживаемых точек: ${r} из ${e.length}`),e},calculateSchoolTravelTime(e,t){const r={urban_center:6,urban_residential:5,suburban:4,outskirts:3.5}[t]||4;return e/r*60+(t==="urban_center"?2:t==="urban_residential"?3:t==="suburban"?4:5)},findUnderservedSchoolAreas(e){return e.filter(t=>t.isUnderserved)},clusterUnderservedAreas(e,t){const n=[],r=new Set,o=t*.8;return e.forEach((s,l)=>{if(r.has(l))return;const c={id:n.length,points:[s],center:{lat:s.lat,lng:s.lng},totalPopulation:s.schoolAgePopulation,priority:s.priority,averageWalkingTime:s.walkingTime};r.add(l),e.forEach((x,b)=>{if(r.has(b))return;this.calculateDistance(s.lat,s.lng,x.lat,x.lng)<=o&&(c.points.push(x),c.totalPopulation+=x.schoolAgePopulation,c.averageWalkingTime=(c.averageWalkingTime+x.walkingTime)/2,x.priority==="high"&&c.priority!=="high"?c.priority="high":x.priority==="medium"&&c.priority==="low"&&(c.priority="medium"),r.add(b))});let h=0,p=0,v=0;c.points.forEach(x=>{const b=x.schoolAgePopulation;h+=x.lat*b,p+=x.lng*b,v+=b}),c.center={lat:h/v,lng:p/v},c.points.length>=3&&c.totalPopulation>=500&&n.push(c)}),n.sort((s,l)=>{const c={high:3,medium:2,low:1},h=c[s.priority]||0,p=c[l.priority]||0;return h!==p?p-h:l.totalPopulation-s.totalPopulation}),n.slice(0,8)},generateSchoolRecommendationsFromClusters(e,t,n){const r=[];return e.forEach((o,s)=>{const l=this.findOptimalSchoolPosition(o,t),c=this.calculateSchoolImpact(o,l,t),h=this.calculateSchoolRecommendationScore(o,c),p={id:`school_rec_${Date.now()}_${s}`,type:"school",coordinates:[l.lat,l.lng],priority:o.priority,score:h,estimated_coverage:o.totalPopulation,reason:this.generateSchoolRecommendationReason(o,c),recommendation:this.generateSchoolRecommendationText(o),detailedAnalysis:{populationDensity:Math.round(o.totalPopulation/o.points.length),averageDistance:this.calculateAverageDistanceToCluster(o,l),currentWalkingTime:Math.round(o.averageWalkingTime),improvedWalkingTime:Math.round(n*.7),nearestSchool:this.findNearestExistingSchool(l,t),benefits:this.generateSchoolBenefits(o,c),coverageImprovement:`+${Math.round(c.coverageImprovement)}%`,estimatedCost:this.estimateSchoolCost(o.priority,o.totalPopulation),timeframe:this.estimateSchoolTimeframe(o.priority),capacity:this.calculateRecommendedSchoolCapacity(o.totalPopulation),accessibility:this.assessSchoolAccessibility(l,o),futureProof:this.assessFutureGrowth(l)}};r.push(p)}),console.log(`Создано ${r.length} рекомендаций для школ`),r},findOptimalSchoolPosition(e,t){let n={...e.center},r=-1/0;const o=.01,s=16;for(let l=0;l<s;l++){const c=l*2*Math.PI/s,h=o*Math.cos(c),p=o*Math.sin(c),v={lat:e.center.lat+h,lng:e.center.lng+p},x=this.evaluateSchoolPosition(v,e,t);x>r&&(r=x,n=v)}return n},evaluateSchoolPosition(e,t,n){let r=0,o=0;t.points.forEach(b=>{const w=this.calculateDistance(e.lat,e.lng,b.lat,b.lng),P=this.calculateSchoolTravelTime(w,b.areaType),C=Math.max(0,(15-P)/15);o+=C*b.schoolAgePopulation}),r+=o/t.totalPopulation*40;let s=1/0;n.forEach(b=>{if(b.coordinates&&b.coordinates.length>=2){const w=this.calculateDistance(e.lat,e.lng,b.coordinates[0],b.coordinates[1]);s=Math.min(s,w)}});const l=2.25,c=Math.max(0,1-Math.abs(s-l)/l);r+=c*30;const h=this.estimateSchoolAgePopulation(e.lat,e.lng),p=Math.min(1,h/3e3);r+=p*20;const v=this.determineAreaType(e.lat,e.lng),x={urban_center:1,urban_residential:.8,suburban:.6,outskirts:.4}[v]||.5;return r+=x*10,r},calculateSchoolImpact(e,t,n){this.calculateSchoolCoverageRadius(10);let r=0,o=0;e.points.forEach(l=>{const c=this.calculateDistance(t.lat,t.lng,l.lat,l.lng);this.calculateSchoolTravelTime(c,l.areaType)<l.walkingTime&&(r++,o+=l.schoolAgePopulation)});const s=r/e.points.length*100;return{improvedAccessCount:r,totalImpactedPopulation:o,coverageImprovement:s,estimatedStudents:Math.round(o*.7)}},calculateSchoolRecommendationScore(e,t){let n=0;n+=Math.min(30,e.totalPopulation/100),n+=Math.min(25,t.coverageImprovement*.8);const r={high:20,medium:15,low:10}[e.priority]||10;n+=r;const o=Math.min(15,(e.averageWalkingTime-10)*1.5);return n+=Math.max(0,o),n+=Math.min(10,t.estimatedStudents/50),Math.min(100,Math.round(n))},generateSchoolRecommendationReason(e,t){const n=e.totalPopulation.toLocaleString(),r=t.estimatedStudents.toLocaleString(),o=Math.round(e.averageWalkingTime);return`Анализ выявил критическую нехватку школьных мест в данном районе. ${n} детей школьного возраста вынуждены добираться до ближайшей школы более ${o} минут. Строительство новой школы обеспечит качественным образованием ${r} учащихся и сократит время доезда в среднем на ${Math.round(e.averageWalkingTime-7)} минут.`},generateSchoolRecommendationText(e){return`Рекомендуется строительство современной общеобразовательной школы вместимостью ${this.calculateRecommendedSchoolCapacity(e.totalPopulation)} учащихся. Школа должна включать начальные и средние классы, а также дополнительные образовательные программы для полного охвата потребностей местного сообщества.`},calculateRecommendedSchoolCapacity(e){let t=Math.round(e*.7);return t<300?300:t<600?600:t<900?900:t<1200?1200:"1200 (рекомендуется рассмотреть строительство 2-х школ)"},generateSchoolBenefits(e,t){return[`Сокращение времени доезда для ${t.estimatedStudents} учащихся`,"Повышение доступности качественного образования","Снижение транспортных расходов для семей","Улучшение успеваемости за счет сокращения времени в пути","Развитие местного сообщества и инфраструктуры","Создание рабочих мест для педагогов и персонала","Возможность реализации дополнительных образовательных программ"]},estimateSchoolCost(e,t){const n=this.calculateRecommendedSchoolCapacity(t);let s=(typeof n=="string"?1200:n)*2e5;return s*={high:1.3,medium:1,low:.9}[e]||1,s*=1.3,Math.round(s)},estimateSchoolTimeframe(e){return{high:"18-24 месяца (ускоренное строительство)",medium:"24-30 месяцев (стандартные сроки)",low:"30-36 месяцев (поэтапное строительство)"}[e]||"24-30 месяцев"},assessSchoolAccessibility(e,t){const n=this.calculateDistance(e.lat,e.lng,42.8746,74.5698);let r="Хорошая";return n>8?r="Ограниченная":n>5?r="Удовлетворительная":n<=3&&(r="Отличная"),r},assessFutureGrowth(e){const t=[{lat:42.82,lng:74.59,name:"Новые микрорайоны на юге"},{lat:42.92,lng:74.56,name:"Развитие северных районов"},{lat:42.85,lng:74.62,name:"Восточная экспансия города"}];let n=null,r=1/0;return t.forEach(o=>{const s=this.calculateDistance(e.lat,e.lng,o.lat,o.lng);s<r&&(r=s,n=o)}),r<=2?`Высокий потенциал роста - близость к ${n.name}`:r<=4?"Умеренный потенциал роста":"Стабильный район без значительного роста"},calculateAverageDistanceToCluster(e,t){return`${(e.points.reduce((r,o)=>r+this.calculateDistance(o.lat,o.lng,t.lat,t.lng),0)/e.points.length).toFixed(1)} км`}},_3=({isOpen:e,onClose:t,facility:n,facilityType:r})=>{const[o,s]=st.useState(null),[l,c]=st.useState(!1);st.useEffect(()=>{e&&n&&h()},[e,n]);const h=async()=>{try{c(!0);const x=await Th.getAnalytics(n.type);s(x)}catch(x){console.error("Ошибка загрузки аналитики:",x)}finally{c(!1)}};if(!e||!n)return null;const p={school:"Школа",hospital:"Больница",fire_station:"Пожарная станция"},v={school:"🏫",hospital:"🏥",fire_station:"🚒"};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",style:{zIndex:9999},children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"w-10 h-10 bg-primary-500 rounded-lg flex items-center justify-center text-white text-xl",children:v[n.type]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n.name}),y.jsx("p",{className:"text-sm text-gray-600",children:p[n.type]})]})]}),y.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:y.jsx(Pv,{className:"w-5 h-5 text-gray-500"})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Основная информация"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-start space-x-3",children:[y.jsx(vc,{className:"w-5 h-5 text-gray-400 mt-0.5"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Адрес"}),y.jsx("p",{className:"text-sm text-gray-600",children:n.address})]})]}),n.contact&&y.jsxs("div",{className:"flex items-start space-x-3",children:[y.jsx(Ix,{className:"w-5 h-5 text-gray-400 mt-0.5"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Контакт"}),y.jsx("p",{className:"text-sm text-gray-600",children:n.contact})]})]}),n.type==="school"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex items-start space-x-3",children:[y.jsx(Cp,{className:"w-5 h-5 text-gray-400 mt-0.5"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Вместимость"}),y.jsxs("p",{className:"text-sm text-gray-600",children:[n.capacity," учеников"]})]})]}),y.jsxs("div",{className:"flex items-start space-x-3",children:[y.jsx(bx,{className:"w-5 h-5 text-gray-400 mt-0.5"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Год основания"}),y.jsx("p",{className:"text-sm text-gray-600",children:n.established})]})]})]}),n.type==="hospital"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex items-start space-x-3",children:[y.jsx(wx,{className:"w-5 h-5 text-gray-400 mt-0.5"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Количество коек"}),y.jsx("p",{className:"text-sm text-gray-600",children:n.beds})]})]}),n.specialties&&y.jsxs("div",{className:"flex items-start space-x-3",children:[y.jsx(S1,{className:"w-5 h-5 text-gray-400 mt-0.5"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Отделения"}),y.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:n.specialties.map((x,b)=>y.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:x},b))})]})]})]}),n.type==="fire_station"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex items-start space-x-3",children:[y.jsx(L1,{className:"w-5 h-5 text-gray-400 mt-0.5"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Техника"}),y.jsxs("p",{className:"text-sm text-gray-600",children:[n.vehicles," единиц"]})]})]}),y.jsxs("div",{className:"flex items-start space-x-3",children:[y.jsx(Cp,{className:"w-5 h-5 text-gray-400 mt-0.5"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Персонал"}),y.jsxs("p",{className:"text-sm text-gray-600",children:[n.personnel," человек"]})]})]})]})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Аналитика и статистика"}),l?y.jsx("div",{className:"flex items-center justify-center py-8",children:y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):o?y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[y.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[y.jsx(yc,{className:"w-4 h-4 mr-2"}),"Демография района"]}),y.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[o.demographic_analysis.age_groups.children,"%"]}),y.jsx("div",{className:"text-gray-600",children:"Дети"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"text-lg font-bold text-green-600",children:[o.demographic_analysis.age_groups.adults,"%"]}),y.jsx("div",{className:"text-gray-600",children:"Взрослые"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[o.demographic_analysis.age_groups.elderly,"%"]}),y.jsx("div",{className:"text-gray-600",children:"Пожилые"})]})]}),y.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:["Рост населения: +",o.demographic_analysis.population_growth,"% в год"]})]}),y.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[y.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[y.jsx(L1,{className:"w-4 h-4 mr-2"}),"Транспортная доступность"]}),y.jsxs("div",{className:"space-y-2 text-sm",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-600",children:"Плотность дорог:"}),y.jsx("span",{className:"font-medium",children:o.transport_analysis.road_density})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-600",children:"Общественный транспорт:"}),y.jsxs("span",{className:"font-medium",children:[o.transport_analysis.public_transport_coverage,"%"]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-600",children:"Загруженность дорог:"}),y.jsx("span",{className:"font-medium",children:o.transport_analysis.traffic_congestion})]})]})]}),y.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[y.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[y.jsx(S1,{className:"w-4 h-4 mr-2"}),"Экономические показатели"]}),y.jsxs("div",{className:"space-y-2 text-sm",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-600",children:"Инвестиционный приоритет:"}),y.jsx("span",{className:`font-medium ${o.economic_factors.investment_priority==="high"?"text-red-600":o.economic_factors.investment_priority==="medium"?"text-yellow-600":"text-green-600"}`,children:o.economic_factors.investment_priority})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-600",children:"Затраты на обслуживание:"}),y.jsx("span",{className:"font-medium",children:o.economic_factors.maintenance_cost})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-gray-600",children:"Социальное влияние:"}),y.jsx("span",{className:"font-medium text-green-600",children:o.economic_factors.social_impact})]})]})]})]}):y.jsx("p",{className:"text-gray-500 text-center py-8",children:"Нет данных для анализа"})]})]})}),y.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200",children:[y.jsxs("div",{className:"text-sm text-gray-500",children:["Координаты: ",n.coordinates[0].toFixed(6),", ",n.coordinates[1].toFixed(6)]}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{className:"btn-secondary",children:"Экспорт данных"}),y.jsx("button",{onClick:t,className:"btn-primary",children:"Закрыть"})]})]})]})})};function x3(){const[e,t]=st.useState([]),[n,r]=st.useState([]),[o,s]=st.useState([]),[l,c]=st.useState(null),[h,p]=st.useState("school"),[v,x]=st.useState(15),[b,w]=st.useState(!1),[P,C]=st.useState(!1),[U,S]=st.useState(null),[A,F]=st.useState(!1),[J,ie]=st.useState(!1),[H,Z]=st.useState(navigator.onLine),[j,z]=st.useState(!0),[V,O]=st.useState(!1),[R,ne]=st.useState({facilities:!0,population:!0,recommendations:!1}),[Q,we]=st.useState(!1),[fe,ve]=st.useState(null),[K,ae]=st.useState(!1),[se,_e]=st.useState(!1),[E,T]=st.useState(null),[G,ee]=st.useState(!1),[re,pe]=st.useState(0);st.useEffect(()=>{const Pe=()=>Z(!0),Ce=()=>Z(!1);return window.addEventListener("online",Pe),window.addEventListener("offline",Ce),()=>{window.removeEventListener("online",Pe),window.removeEventListener("offline",Ce)}},[]),st.useEffect(()=>{he()},[]);const he=async()=>{try{w(!0),console.log("Начинаем загрузку данных...");const Pe=await Th.getFacilities();console.log("Полученные данные учреждений:",Pe),Pe&&Pe.length>0?(t(Pe),console.log("Установлено учреждений:",Pe.length)):console.warn("Не получено данных об учреждениях");const Ce=await Th.getPopulationHeatmap();console.log("Полученные данные населения:",Ce),Ce&&Ce.length>0?(r(Ce),console.log("Установлено точек населения:",Ce.length)):console.warn("Не получено данных о населении")}catch(Pe){console.error("Ошибка загрузки данных:",Pe)}finally{w(!1),console.log("Загрузка данных завершена")}},me=async()=>{try{w(!0),F(!0),console.log("Генерируем рекомендации для:",h,"время:",v);const Pe={facility_type:h,max_travel_time:v,population_data:n,existing_facilities:e},Ce=await Th.getRecommendations(Pe);console.log("Получены рекомендации:",Ce),s(Ce.recommendations||[]),c(Ce.statistics||null),C(!0),ne($e=>({...$e,recommendations:!0})),S(new Date),Ce.recommendations&&Ce.recommendations.length>0&&O(!0)}catch(Pe){console.error("Ошибка генерации рекомендаций:",Pe)}finally{w(!1),F(!1)}},Oe=()=>{s([]),C(!1),c(null),ne(Pe=>({...Pe,recommendations:!1})),O(!1),S(null),console.log("Карта очищена от рекомендаций")},ke=Pe=>{ne(Ce=>({...Ce,[Pe]:!Ce[Pe]}))},Be=()=>{we(Pe=>!Pe)},Ue=Pe=>{ve(Pe),ae(!0)},Ze=()=>{try{const Pe={timestamp:new Date().toISOString(),parameters:{facilityType:h,maxTravelTime:v,showCoverageZones:Q,activeLayers:R},statistics:{totalFacilities:e.length,recommendations:o.length,populationCovered:(n==null?void 0:n.totalPopulation)||0},recommendations:o,totalFacilities:e.length,version:"1.0"},Ce=JSON.stringify(Pe,null,2),$e=new Blob([Ce],{type:"application/json"}),tt=URL.createObjectURL($e),Qe=document.createElement("a");Qe.href=tt,Qe.download=`inframap-analysis-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Qe),Qe.click(),document.body.removeChild(Qe),URL.revokeObjectURL(tt)}catch(Pe){console.error("Ошибка экспорта:",Pe)}},Se=()=>{const Pe={darkMode:J,selectedFacilityType:h,travelTime:v,showCoverageZones:Q,activeLayers:R,lastSaved:new Date().toISOString()};try{localStorage.setItem("inframap_settings",JSON.stringify(Pe))}catch(Ce){console.error("Ошибка сохранения настроек:",Ce)}},X=()=>{try{const Pe=localStorage.getItem("inframap_settings");if(Pe){const Ce=JSON.parse(Pe);ie(Ce.darkMode||!1),p(Ce.selectedFacilityType||"school"),x(Ce.travelTime||15),we(Ce.showCoverageZones||!1),ne(Ce.activeLayers||{facilities:!0,population:!0,recommendations:!1})}}catch(Pe){console.error("Ошибка загрузки настроек:",Pe)}};st.useEffect(()=>{const Pe=setTimeout(()=>{Se()},2e3);return()=>clearTimeout(Pe)},[J,h,v,Q,R]),st.useEffect(()=>{X()},[]);const it=()=>{const Pe={facilitiesCount:e.length,recommendationsCount:o.length,renderTime:U?Date.now()-U.getTime():0,memoryUsage:performance.memory?{used:Math.round(performance.memory.usedJSHeapSize/1024/1024),total:Math.round(performance.memory.totalJSHeapSize/1024/1024),limit:Math.round(performance.memory.jsHeapSizeLimit/1024/1024)}:null,timestamp:new Date().toISOString()};return Pe.facilitiesCount>1e3&&console.warn("Большое количество объектов. Это может замедлить работу."),Pe};st.useEffect(()=>{const Pe=setInterval(()=>{e.length>0&&it()},3e4);return()=>clearInterval(Pe)},[e.length,o.length]);const Fe=()=>{const Pe={metadata:{generatedAt:new Date().toISOString(),version:"2.0",parameters:{facilityType:h,maxTravelTime:v,showCoverageZones:Q,activeLayers:R}},summary:{totalFacilities:e.length,totalRecommendations:o.length,populationCovered:(n==null?void 0:n.totalPopulation)||0,averageDistance:o.length>0?(o.reduce((Ce,$e)=>Ce+($e.distance||0),0)/o.length).toFixed(2):0},analysis:{facilityDistribution:e.reduce((Ce,$e)=>(Ce[$e.type]=(Ce[$e.type]||0)+1,Ce),{}),coverageAnalysis:{wellCovered:o.filter(Ce=>Ce.priority==="low").length,moderatelyCovered:o.filter(Ce=>Ce.priority==="medium").length,poorlyCovered:o.filter(Ce=>Ce.priority==="high").length},performanceMetrics:it()},recommendations:o.map(Ce=>({...Ce,estimatedCost:Ce.priority==="high"?5e6:Ce.priority==="medium"?3e6:1e6,estimatedTimeframe:Ce.priority==="high"?"6-12 месяцев":Ce.priority==="medium"?"12-18 месяцев":"18-24 месяца"})),actionPlan:{immediate:o.filter(Ce=>Ce.priority==="high").slice(0,3),shortTerm:o.filter(Ce=>Ce.priority==="medium").slice(0,5),longTerm:o.filter(Ce=>Ce.priority==="low").slice(0,10)}};T(Pe),_e(!0)},Te=()=>{ee(!0),pe(0)};return st.useEffect(()=>{!localStorage.getItem("inframap_tutorial_completed")&&e.length>0&&setTimeout(()=>{Te()},3e3)},[e.length]),y.jsxs("div",{className:`h-screen flex flex-col transition-colors duration-300 ${J?"bg-gray-900 dark":"bg-gray-50"}`,children:[y.jsx("header",{className:`shadow-sm border-b px-6 py-4 transition-colors duration-300 ${J?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center",children:y.jsx(Lv,{className:"w-5 h-5 text-white"})}),y.jsxs("div",{children:[y.jsx("h1",{className:`text-xl font-bold transition-colors duration-300 ${J?"text-white":"text-gray-900"}`,children:"InfraMap"}),y.jsxs("p",{className:`text-sm transition-colors duration-300 ${J?"text-gray-300":"text-gray-600"}`,children:["Анализ размещения госучреждений",!H&&y.jsx("span",{className:"text-red-500 ml-2",children:"• Офлайн режим"})]})]})]}),y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("button",{onClick:()=>ie(!J),className:`p-2 rounded-lg transition-all duration-300 ${J?"bg-gray-700 text-yellow-400 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:J?"Светлая тема":"Темная тема",children:J?y.jsx(kv,{className:"w-4 h-4"}):y.jsx(Sv,{className:"w-4 h-4"})}),y.jsxs("div",{className:`flex items-center space-x-1 border rounded-lg p-1 transition-colors duration-300 ${J?"border-gray-600":"border-gray-300"}`,children:[y.jsx("button",{onClick:()=>z(!j),className:`p-2 rounded transition-colors ${j?"bg-primary-100 text-primary-600":`${J?"text-gray-400 hover:text-gray-300":"text-gray-400 hover:text-gray-600"}`}`,title:"Панель управления",children:j?y.jsx(Ox,{className:"w-4 h-4"}):y.jsx(A1,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>O(!V),className:`p-2 rounded transition-colors ${V&&l?"bg-primary-100 text-primary-600":`${J?"text-gray-400 hover:text-gray-300":"text-gray-400 hover:text-gray-600"}`}`,title:"Панель результатов",disabled:!l,children:y.jsx(jp,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${H?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[H?y.jsx(Fx,{className:"w-3 h-3"}):y.jsx(Rx,{className:"w-3 h-3"}),y.jsx("span",{children:H?"Онлайн":"Офлайн"})]}),y.jsx("button",{onClick:Ze,className:`p-2 transition-colors ${J?"text-gray-400 hover:text-gray-300":"text-gray-400 hover:text-gray-600"}`,title:"Экспортировать данные",children:y.jsx(Sf,{className:"w-4 h-4"})}),y.jsx("button",{onClick:Te,className:`p-2 transition-colors ${J?"text-gray-400 hover:text-gray-300":"text-gray-400 hover:text-gray-600"}`,title:"Помощь и туториал",children:y.jsx(Cx,{className:"w-4 h-4"})}),y.jsxs("button",{onClick:()=>{console.log("Кнопка отчёта нажата. Statistics:",!!l),l?Fe():console.warn("Отчёт недоступен")},className:`flex items-center space-x-2 transition-all duration-200 ${l?"bg-blue-500 hover:bg-blue-600 text-white shadow-md hover:shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"} font-medium py-2 px-4 rounded-lg`,disabled:!l,children:[y.jsx(Tx,{className:"w-4 h-4"}),y.jsx("span",{children:l?"Создать отчёт":"Отчёт недоступен"})]})]})]})}),y.jsxs("div",{className:"flex-1 flex h-full overflow-hidden",children:[j&&y.jsxs("div",{className:`w-96 shadow-xl border-r flex flex-col h-full transition-all duration-300 ${J?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[y.jsx(zx,{selectedFacilityType:h,setSelectedFacilityType:p,maxTravelTime:v,setMaxTravelTime:x,onGenerateRecommendations:me,onClearMap:Oe,isLoading:b,analysisInProgress:A,activeLayers:R,onLayerToggle:ke,showCoverageZones:Q,onToggleCoverageZones:Be,facilities:e,statistics:l,recommendations:o,lastUpdateTime:U,darkMode:J,setDarkMode:ie}),l&&V&&y.jsx("div",{className:`border-t transition-colors duration-300 ${J?"border-gray-700":"border-gray-200"}`,children:y.jsx(qw,{statistics:l,recommendations:o,facilityType:h,darkMode:J})})]}),y.jsxs("div",{className:"flex-1 relative h-full",children:[y.jsx(vx,{facilities:e,recommendations:o,populationData:n,selectedFacilityType:h,activeLayers:R,maxTravelTime:v,showCoverageZones:Q,onShowFacilityDetails:Ue,darkMode:J}),!j&&y.jsxs("div",{className:`absolute top-4 left-4 backdrop-blur-sm rounded-xl shadow-lg border p-4 z-[1000] min-w-64 transition-all duration-300 animate-slideInUp ${J?"bg-gray-800/95 border-gray-600":"bg-white/95 border-gray-200"}`,children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsx("h3",{className:`font-semibold transition-colors duration-300 ${J?"text-white":"text-gray-900"}`,children:"Быстрое управление"}),y.jsx("button",{onClick:()=>z(!0),className:`transition-colors ${J?"text-gray-400 hover:text-gray-300":"text-gray-400 hover:text-gray-600"}`,children:y.jsx(A1,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:`text-xs font-medium transition-colors duration-300 ${J?"text-gray-300":"text-gray-600"}`,children:"Тип учреждения"}),y.jsxs("select",{value:h,onChange:Pe=>p(Pe.target.value),className:`w-full mt-1 text-sm border rounded-lg px-2 py-1 transition-colors duration-300 ${J?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[y.jsx("option",{value:"all",children:"Все учреждения"}),y.jsx("option",{value:"school",children:"Школы"}),y.jsx("option",{value:"hospital",children:"Больницы"}),y.jsx("option",{value:"fire_station",children:"Пожарные станции"})]})]}),y.jsxs("div",{children:[y.jsxs("label",{className:`text-xs font-medium transition-colors duration-300 ${J?"text-gray-300":"text-gray-600"}`,children:["Время доезда: ",v," мин"]}),y.jsx("input",{type:"range",min:"5",max:"60",step:"5",value:v,onChange:Pe=>x(parseInt(Pe.target.value)),className:"w-full mt-1"})]}),y.jsx("button",{onClick:me,disabled:b,className:"w-full btn-primary text-sm py-2",children:b?"Анализируем...":"Анализ"})]})]}),b&&y.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 flex items-center justify-center z-[1000] backdrop-blur-sm",children:y.jsx("div",{className:`rounded-xl p-6 shadow-2xl border animate-bounceIn ${J?"bg-gray-800 border-gray-600":"bg-white border-gray-100"}`,children:y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"}),y.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary-200 animate-ping"})]}),y.jsxs("div",{children:[y.jsx("div",{className:`font-medium transition-colors duration-300 ${J?"text-white":"text-gray-900"}`,children:"Анализируем данные..."}),y.jsx("div",{className:`text-sm transition-colors duration-300 ${J?"text-gray-300":"text-gray-500"}`,children:"Это может занять несколько секунд"})]})]})})}),U&&l&&y.jsxs("div",{className:`absolute top-4 right-4 backdrop-blur-sm rounded-lg p-3 text-xs shadow-md z-[1000] animate-fadeInUp ${J?"bg-gray-800/90 text-gray-300 border border-gray-600":"bg-white/90 text-gray-600 border border-gray-200"}`,children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),y.jsx("span",{className:"font-medium",children:"Последнее обновление:"})]}),y.jsx("div",{className:"mt-1 font-mono text-xs opacity-75",children:U.toLocaleTimeString()})]})]})]}),b&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]",children:y.jsx("div",{className:`p-6 rounded-lg shadow-xl ${J?"bg-gray-800":"bg-white"}`,children:y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),y.jsxs("div",{className:`${J?"text-white":"text-gray-900"}`,children:[y.jsx("div",{className:"font-semibold",children:"Загрузка данных..."}),y.jsx("div",{className:"text-sm opacity-75",children:"Получение информации об учреждениях"})]})]})})}),se&&y.jsx(Uw,{isOpen:se,onClose:()=>_e(!1),statistics:l,recommendations:o,facilityType:h,darkMode:J}),K&&y.jsx(_3,{isOpen:K,onClose:()=>ae(!1),facility:fe,facilityType:fe==null?void 0:fe.type,darkMode:J})]})}Md.createRoot(document.getElementById("root")).render(y.jsx(iy.StrictMode,{children:y.jsx(x3,{})}));export{Yt as _,Ua as c,Jp as g};
